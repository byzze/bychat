{"file":"/home/luo/go_project/bychat/im/init_acc.go:49","func":"bychat/im.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.168.77:9001","time":"2023-04-02T23:21:27+08:00"}
{"currentTime":1680448889,"file":"/home/luo/go_project/bychat/im/task/server_node_task.go:39","func":"bychat/im/task.serverRegister","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.168.77","port":"9001"},"time":"2023-04-02T23:21:29+08:00"}
{"file":"/home/luo/go_project/bychat/api/home/home.go:13","func":"bychat/api/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-04-02T23:21:29+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:1 method:GET statusCode:200 uri:/home/index]","time":"2023-04-02T23:21:29+08:00"}
{"file":"/home/luo/go_project/bychat/im/task/clean_connection_task.go:26","func":"bychat/im/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接 启动","param":"","time":"2023-04-02T23:21:30+08:00"}
{"file":"/home/luo/go_project/bychat/im/task/clean_connection_task.go:43","func":"bychat/im/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接 完成","param":"","time":"2023-04-02T23:21:30+08:00"}
{"AppId":1,"UserId":480,"file":"/home/luo/go_project/bychat/usecase/user/user.go:17","func":"bychat/usecase/user.Login","level":"info","msg":"webSocket_request 登录","time":"2023-04-02T23:21:31+08:00"}
{"file":"/home/luo/go_project/bychat/api/user/user.go:64","func":"bychat/api/user.Login","id":480,"level":"info","msg":"Login Info","name":"杨士奇","time":"2023-04-02T23:21:31+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.62 method:POST statusCode:200 uri:/user/login]","time":"2023-04-02T23:21:31+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:57","func":"bychat/im.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.62]referer:[]","time":"2023-04-02T23:21:31+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:65","func":"bychat/im.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:60788","time":"2023-04-02T23:21:31+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client_manage.go:186","func":"bychat/im/client.(*Manager).eventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:60788","time":"2023-04-02T23:21:31+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680448891475-547749\",\"msgCmd\":\"bindUser\",\"msgContent\":{\"userID\":480,\"appID\":1,\"token\":\"1680448891\"}}","time":"2023-04-02T23:21:31+08:00"}
{"data":"{\"msgSeq\":\"1680448891475-547749\",\"msgCmd\":\"bindUser\",\"msgContent\":{\"userID\":480,\"appID\":1,\"token\":\"1680448891\"}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:21:31+08:00"}
{"appID":1,"file":"/home/luo/go_project/bychat/usecase/user/user.go:52","func":"bychat/usecase/user.EnterChatRoom","level":"info","msg":"EnterChatRoom called","roomID":101,"time":"2023-04-02T23:21:32+08:00","userID":480}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.6 method:POST statusCode:200 uri:/user/enter]","time":"2023-04-02T23:21:32+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.07 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-04-02T23:21:32+08:00"}
{"appID":0,"file":"/home/luo/go_project/bychat/api/user/user.go:104","func":"bychat/api/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-04-02T23:21:33+08:00"}
{"file":"/home/luo/go_project/bychat/usecase/user/user.go:40","func":"bychat/usecase/user.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-04-02T23:21:33+08:00"}
{"file":"/home/luo/go_project/bychat/im/cache/server_cache.go:87","func":"bychat/im/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","string(valByte)":"[\"172.30.168.77:9001\",\"1680448889\"]","time":"2023-04-02T23:21:33+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.63 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-04-02T23:21:33+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680448901478-193654\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":480,\"appID\":1}}","time":"2023-04-02T23:21:41+08:00"}
{"data":"{\"msgSeq\":\"1680448901478-193654\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":480,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:21:41+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjo0ODB9","msg":"Heartbeat","msgSeq":"1680448901478-193654","time":"2023-04-02T23:21:41+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:21:41+08:00","userId":480}
{"appID":0,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:21:41+08:00","userID":0}
{"UserId":480,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:91","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat 用户未登录","time":"2023-04-02T23:21:41+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:49","func":"bychat/im.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.168.77:9001","time":"2023-04-02T23:23:39+08:00"}
{"currentTime":1680449021,"file":"/home/luo/go_project/bychat/im/task/server_node_task.go:39","func":"bychat/im/task.serverRegister","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.168.77","port":"9001"},"time":"2023-04-02T23:23:41+08:00"}
{"file":"/home/luo/go_project/bychat/im/task/clean_connection_task.go:26","func":"bychat/im/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接 启动","param":"","time":"2023-04-02T23:23:42+08:00"}
{"file":"/home/luo/go_project/bychat/im/task/clean_connection_task.go:43","func":"bychat/im/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接 完成","param":"","time":"2023-04-02T23:23:42+08:00"}
{"file":"/home/luo/go_project/bychat/api/home/home.go:13","func":"bychat/api/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-04-02T23:23:43+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:1.6 method:GET statusCode:200 uri:/home/index]","time":"2023-04-02T23:23:43+08:00"}
{"AppId":1,"UserId":234,"file":"/home/luo/go_project/bychat/usecase/user/user.go:17","func":"bychat/usecase/user.Login","level":"info","msg":"webSocket_request 登录","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/api/user/user.go:64","func":"bychat/api/user.Login","id":234,"level":"info","msg":"Login Info","name":"蒙恬","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.62 method:POST statusCode:200 uri:/user/login]","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:57","func":"bychat/im.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.62]referer:[]","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:65","func":"bychat/im.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:60796","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client_manage.go:186","func":"bychat/im/client.(*Manager).eventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:60796","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449027028-983700\",\"msgCmd\":\"bindUser\",\"msgContent\":{\"userID\":234,\"appID\":1,\"token\":\"1680449027\"}}","time":"2023-04-02T23:23:47+08:00"}
{"data":"{\"msgSeq\":\"1680449027028-983700\",\"msgCmd\":\"bindUser\",\"msgContent\":{\"userID\":234,\"appID\":1,\"token\":\"1680449027\"}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:25","func":"bychat/im/message_center.BindUser","level":"info","message":"eyJhcHBJRCI6MSwidG9rZW4iOiIxNjgwNDQ5MDI3IiwidXNlcklEIjoyMzR9","msg":"BindUser","msgSeq":"1680449027028-983700","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client_manage.go:192","func":"bychat/im/client.(*Manager).eventBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:60796\u0026{1 234 172.30.168.77 9001 [::1]:60796 0xc0005a82c0 0xc000200420 1680449027 0 0}","time":"2023-04-02T23:23:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449037037-791000\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:23:57+08:00"}
{"data":"{\"msgSeq\":\"1680449037037-791000\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:23:57+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449037037-791000","time":"2023-04-02T23:23:57+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:23:57+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:23:57+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449047030-424296\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:24:07+08:00"}
{"data":"{\"msgSeq\":\"1680449047030-424296\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:24:07+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449047030-424296","time":"2023-04-02T23:24:07+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:24:07+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:24:07+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449057161-616522\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:24:17+08:00"}
{"data":"{\"msgSeq\":\"1680449057161-616522\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:24:17+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449057161-616522","time":"2023-04-02T23:24:17+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:24:17+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:24:17+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449067157-574281\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:24:27+08:00"}
{"data":"{\"msgSeq\":\"1680449067157-574281\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:24:27+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449067157-574281","time":"2023-04-02T23:24:27+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:24:27+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:24:27+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449077158-231160\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:24:37+08:00"}
{"data":"{\"msgSeq\":\"1680449077158-231160\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:24:37+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449077158-231160","time":"2023-04-02T23:24:37+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:24:37+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:24:37+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/api/systems/system.go:17","func":"bychat/api/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-04-02T23:24:39+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-04-02T23:24:39+08:00"}
{"currentTime":1680449081,"file":"/home/luo/go_project/bychat/im/task/server_node_task.go:39","func":"bychat/im/task.serverRegister","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.168.77","port":"9001"},"time":"2023-04-02T23:24:41+08:00"}
{"file":"/home/luo/go_project/bychat/im/task/clean_connection_task.go:26","func":"bychat/im/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接 启动","param":"","time":"2023-04-02T23:24:42+08:00"}
{"file":"/home/luo/go_project/bychat/im/task/clean_connection_task.go:43","func":"bychat/im/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接 完成","param":"","time":"2023-04-02T23:24:42+08:00"}
{"AppId":1,"UserId":40,"file":"/home/luo/go_project/bychat/usecase/user/user.go:92","func":"bychat/usecase/user.ExitChatRoom","level":"info","msg":"ExitChatRoom","time":"2023-04-02T23:24:43+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.24 method:POST statusCode:200 uri:/user/exit]","time":"2023-04-02T23:24:43+08:00"}
{"appID":1,"file":"/home/luo/go_project/bychat/usecase/user/user.go:52","func":"bychat/usecase/user.EnterChatRoom","level":"info","msg":"EnterChatRoom called","roomID":101,"time":"2023-04-02T23:24:43+08:00","userID":40}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.2 method:POST statusCode:200 uri:/user/enter]","time":"2023-04-02T23:24:43+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.07 method:GET statusCode:200 uri:/user/historyMessageList?roomID=0\u0026start=5\u0026limit=5]","time":"2023-04-02T23:24:44+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.03 method:GET statusCode:200 uri:/user/list?roomID=0]","time":"2023-04-02T23:24:45+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449087030-691979\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:24:47+08:00"}
{"data":"{\"msgSeq\":\"1680449087030-691979\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:24:47+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449087030-691979","time":"2023-04-02T23:24:47+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:24:47+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:24:47+08:00","userID":234}
{"appID":1,"file":"/home/luo/go_project/bychat/usecase/user/user.go:52","func":"bychat/usecase/user.EnterChatRoom","level":"info","msg":"EnterChatRoom called","roomID":101,"time":"2023-04-02T23:24:47+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.18 method:POST statusCode:200 uri:/user/enter]","time":"2023-04-02T23:24:47+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.04 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-04-02T23:24:47+08:00"}
{"appID":0,"file":"/home/luo/go_project/bychat/api/user/user.go:104","func":"bychat/api/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-04-02T23:24:48+08:00"}
{"file":"/home/luo/go_project/bychat/usecase/user/user.go:40","func":"bychat/usecase/user.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-04-02T23:24:48+08:00"}
{"file":"/home/luo/go_project/bychat/im/cache/server_cache.go:87","func":"bychat/im/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","string(valByte)":"[\"172.30.168.77:9001\",\"1680449081\"]","time":"2023-04-02T23:24:48+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.71 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-04-02T23:24:48+08:00"}
{"file":"/home/luo/go_project/bychat/api/home/home.go:13","func":"bychat/api/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-04-02T23:24:49+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:1.09 method:GET statusCode:200 uri:/home/index]","time":"2023-04-02T23:24:49+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449097030-851697\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:24:57+08:00"}
{"data":"{\"msgSeq\":\"1680449097030-851697\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:24:57+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449097030-851697","time":"2023-04-02T23:24:57+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:24:57+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:24:57+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449107163-395763\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:25:07+08:00"}
{"data":"{\"msgSeq\":\"1680449107163-395763\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:25:07+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449107163-395763","time":"2023-04-02T23:25:07+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:25:07+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:25:07+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449117152-824882\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:25:17+08:00"}
{"data":"{\"msgSeq\":\"1680449117152-824882\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:25:17+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449117152-824882","time":"2023-04-02T23:25:17+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:25:17+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:25:17+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/api/home/home.go:13","func":"bychat/api/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-04-02T23:25:18+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:2.08 method:GET statusCode:200 uri:/home/index]","time":"2023-04-02T23:25:18+08:00"}
{"AppId":1,"UserId":423,"file":"/home/luo/go_project/bychat/usecase/user/user.go:17","func":"bychat/usecase/user.Login","level":"info","msg":"webSocket_request 登录","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/api/user/user.go:64","func":"bychat/api/user.Login","id":423,"level":"info","msg":"Login Info","name":"薛元敬","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.56 method:POST statusCode:200 uri:/user/login]","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:57","func":"bychat/im.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36 Edg/111.0.1661.62]referer:[]","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/im/init_acc.go:65","func":"bychat/im.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:60802","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client_manage.go:186","func":"bychat/im/client.(*Manager).eventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:60802","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449119797-555783\",\"msgCmd\":\"bindUser\",\"msgContent\":{\"userID\":423,\"appID\":1,\"token\":\"1680449119\"}}","time":"2023-04-02T23:25:19+08:00"}
{"data":"{\"msgSeq\":\"1680449119797-555783\",\"msgCmd\":\"bindUser\",\"msgContent\":{\"userID\":423,\"appID\":1,\"token\":\"1680449119\"}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:25","func":"bychat/im/message_center.BindUser","level":"info","message":"eyJhcHBJRCI6MSwidG9rZW4iOiIxNjgwNDQ5MTE5IiwidXNlcklEIjo0MjN9","msg":"BindUser","msgSeq":"1680449119797-555783","time":"2023-04-02T23:25:19+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client_manage.go:192","func":"bychat/im/client.(*Manager).eventBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:60802\u0026{1 423 172.30.168.77 9001 [::1]:60802 0xc0001b8000 0xc000200540 1680449119 0 0}","time":"2023-04-02T23:25:19+08:00"}
{"appID":1,"file":"/home/luo/go_project/bychat/usecase/user/user.go:52","func":"bychat/usecase/user.EnterChatRoom","level":"info","msg":"EnterChatRoom called","roomID":101,"time":"2023-04-02T23:25:21+08:00","userID":423}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.17 method:POST statusCode:200 uri:/user/enter]","time":"2023-04-02T23:25:21+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.07 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-04-02T23:25:21+08:00"}
{"appID":0,"file":"/home/luo/go_project/bychat/api/user/user.go:104","func":"bychat/api/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-04-02T23:25:21+08:00"}
{"file":"/home/luo/go_project/bychat/usecase/user/user.go:40","func":"bychat/usecase/user.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-04-02T23:25:21+08:00"}
{"file":"/home/luo/go_project/bychat/im/cache/server_cache.go:87","func":"bychat/im/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","string(valByte)":"[\"172.30.168.77:9001\",\"1680449081\"]","time":"2023-04-02T23:25:21+08:00"}
{"file":"/home/luo/go_project/bychat/cmd/bychat/main.go:66","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:1.1.1.1 cost:0.88 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-04-02T23:25:21+08:00"}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449127162-342695\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","time":"2023-04-02T23:25:27+08:00"}
{"data":"{\"msgSeq\":\"1680449127162-342695\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":234,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:25:27+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjoyMzR9","msg":"Heartbeat","msgSeq":"1680449127162-342695","time":"2023-04-02T23:25:27+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:25:27+08:00","userId":234}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:25:27+08:00","userID":234}
{"file":"/home/luo/go_project/bychat/im/client/client.go:83","func":"bychat/im/client.(*Client).Read","level":"info","msg":"读取客户端数据 处理:{\"msgSeq\":\"1680449129810-640114\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":423,\"appID\":1}}","time":"2023-04-02T23:25:29+08:00"}
{"data":"{\"msgSeq\":\"1680449129810-640114\",\"msgCmd\":\"heartbeat\",\"msgContent\":{\"userID\":423,\"appID\":1}}","file":"/home/luo/go_project/bychat/im/message_center/process_data.go:42","func":"bychat/im/message_center.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-04-02T23:25:29+08:00"}
{"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:70","func":"bychat/im/message_center.Heartbeat","level":"info","message":"eyJhcHBJRCI6MSwidXNlcklEIjo0MjN9","msg":"Heartbeat","msgSeq":"1680449129810-640114","time":"2023-04-02T23:25:29+08:00"}
{"appId":1,"file":"/home/luo/go_project/bychat/im/message_center/websocket_request.go:86","func":"bychat/im/message_center.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-04-02T23:25:29+08:00","userId":423}
{"appID":1,"file":"/home/luo/go_project/bychat/im/client/client_manage.go:118","func":"bychat/im/client.(*Manager).getUserClient","level":"info","msg":"Manager GetUserClient","time":"2023-04-02T23:25:29+08:00","userID":423}
