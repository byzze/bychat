{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:08:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:08:17+08:00"}
{"currentTime":1678079299,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:08:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:08:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:08:26+08:00"}
{"currentTime":1678079308,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:08:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:08:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.72 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:08:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:08:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.72 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:08:31+08:00"}
{"AppId":0,"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:247","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":485,"level":"info","msg":"Login Info","name":"袁宗道","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:50886","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079313205-104761\",\"cmd\":\"bind\",\"data\":{\"userID\":485,\"appID\":0,\"token\":\"1678079313\"}}","time":"2023-03-06T13:08:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678079313205-104761\",\"cmd\":\"bind\",\"data\":{\"userID\":485,\"appID\":0,\"token\":\"1678079313\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:33+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:33+08:00","userKey":485}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079313205-104761\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:08:33+08:00"}
{"AppId":0,"RoomID":101,"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:185","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:08:33+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:33+08:00","userKey":485}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:33+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:133","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"769520003","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:08:33+08:00","userID":485}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:33+08:00","userKey":485}
{"appID":0,"data":"{\"seq\":\"769520003\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"袁宗道\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:33+08:00","userID":485}
{"appID":0,"data":"{\"seq\":\"769520003\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"袁宗道\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:33+08:00","userID":485}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:203","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:485","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.22 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.46 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:08:33+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:34+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.51 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:08:34+08:00"}
{"AppId":0,"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:247","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":39,"level":"info","msg":"Login Info","name":"元之赵孟頫","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.91 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54162","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079316937-383452\",\"cmd\":\"bind\",\"data\":{\"userID\":39,\"appID\":0,\"token\":\"1678079316\"}}","time":"2023-03-06T13:08:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678079316937-383452\",\"cmd\":\"bind\",\"data\":{\"userID\":39,\"appID\":0,\"token\":\"1678079316\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:36+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:36+08:00","userKey":39}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079316937-383452\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:08:36+08:00"}
{"AppId":0,"RoomID":101,"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:185","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:08:37+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:37+08:00","userKey":39}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:37+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:133","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"504087372","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:08:37+08:00","userID":39}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:37+08:00","userKey":39}
{"appID":0,"data":"{\"seq\":\"504087372\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:37+08:00","userID":39}
{"appID":0,"data":"{\"seq\":\"504087372\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:37+08:00","userID":39}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:203","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:39","time":"2023-03-06T13:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.37 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.48 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:08:37+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:38+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"袁宗道\"","time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[袁宗道]","time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.57 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079323494-284650\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","time":"2023-03-06T13:08:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678079323494-284650\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:43+08:00"}
{"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:43+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:43+08:00","userKey":485}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079323494-284650\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079327490-510750\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","time":"2023-03-06T13:08:47+08:00"}
{"addr":"","data":"{\"seq\":\"1678079327490-510750\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:47+08:00"}
{"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:47+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:47+08:00","userKey":39}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079327490-510750\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"啊啊啊","msg":"SendMessageAll","msgID":"1678079330743-738818","roomID":101,"time":"2023-03-06T13:08:50+08:00","userID":39}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:50+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:133","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"啊啊啊","msg":"SendUserMessageAll","msgID":"1678079330743-738818","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:08:50+08:00","userID":39}
{"HeartbeatTime":1678079327,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:50+08:00","userKey":39}
{"appID":0,"data":"{\"seq\":\"1678079330743-738818\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"啊啊啊\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:50+08:00","userID":39}
{"appID":0,"data":"{\"seq\":\"1678079330743-738818\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"啊啊啊\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:50+08:00","userID":39}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.41 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:08:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079333491-255112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","time":"2023-03-06T13:08:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678079333491-255112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:53+08:00"}
{"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:53+08:00"}
{"HeartbeatTime":1678079323,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:53+08:00","userKey":485}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079333491-255112\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079337492-751040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","time":"2023-03-06T13:08:57+08:00"}
{"addr":"","data":"{\"seq\":\"1678079337492-751040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:57+08:00"}
{"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:57+08:00"}
{"HeartbeatTime":1678079327,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:57+08:00","userKey":39}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079337492-751040\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079343491-105777\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","time":"2023-03-06T13:09:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678079343491-105777\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:09:03+08:00"}
{"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:09:03+08:00"}
{"HeartbeatTime":1678079333,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:09:03+08:00","userKey":485}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079343491-105777\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:09:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:37:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:37:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:37:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:37:34+08:00"}
{"currentTime":1678081054,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:37:34+08:00"}
{"currentTime":1678081056,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:37:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:37:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.85 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:37:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:37:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.07 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:37:37+08:00"}
{"AppId":0,"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":480,"level":"info","msg":"Login Info","name":"杨士奇","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.48 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44110","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081059127-338649\",\"cmd\":\"bind\",\"data\":{\"userID\":480,\"appID\":0,\"token\":\"1678081059\"}}","time":"2023-03-06T13:37:39+08:00"}
{"addr":"","data":"{\"seq\":\"1678081059127-338649\",\"cmd\":\"bind\",\"data\":{\"userID\":480,\"appID\":0,\"token\":\"1678081059\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:37:39+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:39+08:00","userKey":480}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081059127-338649\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:37:39+08:00"}
{"AppId":0,"RoomID":101,"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:37:39+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:39+08:00","userKey":480}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:39+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"587929801","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:37:39+08:00","userID":480}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:39+08:00","userKey":480}
{"appID":0,"data":"{\"seq\":\"587929801\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨士奇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:37:39+08:00","userID":480}
{"appID":0,"data":"{\"seq\":\"587929801\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨士奇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:37:39+08:00","userID":480}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:480","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.1 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:37:39+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:40+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.99 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:37:40+08:00"}
{"AppId":0,"RoomID":101,"UserId":134,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:37:42+08:00"}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-06T13:37:42+08:00","userKey":134}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:194","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"error","msg":"EnterChatRoom Failed:redis: nil","time":"2023-03-06T13:37:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:177","func":"bychat/api/v1/user.EnterChatRoom","level":"error","msg":"EnterChatRoom Failedredis: nil","time":"2023-03-06T13:37:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:37:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.43 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:37:42+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:43+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"杨士奇\"","time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[杨士奇]","time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.76 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"线程","msg":"SendMessageAll","msgID":"1678081066290-705696","roomID":101,"time":"2023-03-06T13:37:46+08:00","userID":134}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"线程","msg":"SendUserMessageAll","msgID":"1678081066290-705696","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:37:46+08:00","userID":134}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-06T13:37:46+08:00","userKey":134}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:138","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"error","msg":"给全体用户发消息redis: nil","time":"2023-03-06T13:37:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.23 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:37:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081069493-482853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:37:49+08:00"}
{"addr":"","data":"{\"seq\":\"1678081069493-482853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:37:49+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:37:49+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:49+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081069493-482853\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:37:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081079479-140786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:37:59+08:00"}
{"addr":"","data":"{\"seq\":\"1678081079479-140786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:37:59+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:37:59+08:00"}
{"HeartbeatTime":1678081069,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:59+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081079479-140786\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:37:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081089487-512909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:38:09+08:00"}
{"addr":"","data":"{\"seq\":\"1678081089487-512909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:09+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:09+08:00"}
{"HeartbeatTime":1678081079,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:09+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081089487-512909\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081099491-933463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:38:19+08:00"}
{"addr":"","data":"{\"seq\":\"1678081099491-933463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:19+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:19+08:00"}
{"HeartbeatTime":1678081089,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:19+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081099491-933463\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081109493-880135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:38:29+08:00"}
{"addr":"","data":"{\"seq\":\"1678081109493-880135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:29+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:29+08:00"}
{"HeartbeatTime":1678081099,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:29+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081109493-880135\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:29+08:00"}
{"currentTime":1678081114,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:38:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:38:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:38:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:38:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:38:36+08:00"}
{"currentTime":1678081118,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:38:38+08:00"}
{"currentTime":1678081118,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:38:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:38:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.53 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:38:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:38:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.82 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:38:40+08:00"}
{"AppId":0,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":79,"level":"info","msg":"Login Info","name":"揭俟斯","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.78 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:41328","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081121532-474137\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081121\"}}","time":"2023-03-06T13:38:41+08:00"}
{"addr":"","data":"{\"seq\":\"1678081121532-474137\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081121\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:41+08:00","userKey":79}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081121532-474137\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:38:41+08:00"}
{"AppId":0,"RoomID":101,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:38:42+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:42+08:00","userKey":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:42+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"50799550","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:38:42+08:00","userID":79}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:42+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"50799550\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:42+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"50799550\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:42+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:79","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.84 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:38:42+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:42+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.34 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:38:42+08:00"}
{"AppId":0,"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":388,"level":"info","msg":"Login Info","name":"张僧繇","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.56 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51296","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081125568-491419\",\"cmd\":\"bind\",\"data\":{\"userID\":388,\"appID\":0,\"token\":\"1678081125\"}}","time":"2023-03-06T13:38:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678081125568-491419\",\"cmd\":\"bind\",\"data\":{\"userID\":388,\"appID\":0,\"token\":\"1678081125\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:45+08:00","userKey":388}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081125568-491419\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:38:45+08:00"}
{"AppId":0,"RoomID":101,"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:38:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:45+08:00","userKey":388}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:45+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"967598293","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:38:45+08:00","userID":388}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:45+08:00","userKey":388}
{"appID":0,"data":"{\"seq\":\"967598293\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:45+08:00","userID":388}
{"appID":0,"data":"{\"seq\":\"967598293\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:45+08:00","userID":388}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:388","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.78 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:38:45+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"揭俟斯\"","time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[揭俟斯]","time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.7 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"aa","msg":"SendMessageAll","msgID":"1678081128308-575473","roomID":101,"time":"2023-03-06T13:38:48+08:00","userID":388}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:48+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"aa","msg":"SendUserMessageAll","msgID":"1678081128308-575473","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:38:48+08:00","userID":388}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:48+08:00","userKey":388}
{"appID":0,"data":"{\"seq\":\"1678081128308-575473\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aa\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:48+08:00","userID":388}
{"appID":0,"data":"{\"seq\":\"1678081128308-575473\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aa\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:48+08:00","userID":388}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.01 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:38:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081131832-779119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:38:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081131832-779119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:51+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:51+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081131832-779119\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678081134503-111849","roomID":101,"time":"2023-03-06T13:38:54+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:54+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678081134503-111849","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:38:54+08:00","userID":79}
{"HeartbeatTime":1678081131,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:54+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"1678081134503-111849\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:54+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"1678081134503-111849\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:54+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.78 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:38:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081136493-585368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","time":"2023-03-06T13:38:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678081136493-585368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:56+08:00"}
{"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:56+08:00","userKey":388}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081136493-585368\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081142493-809102\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:39:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678081142493-809102\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:39:02+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:39:02+08:00"}
{"HeartbeatTime":1678081131,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:39:02+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081142493-809102\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:39:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081145573-684792\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","time":"2023-03-06T13:39:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678081145573-684792\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:39:05+08:00"}
{"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:39:05+08:00"}
{"HeartbeatTime":1678081136,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:39:05+08:00","userKey":388}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081145573-684792\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:39:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:42:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:42:29+08:00"}
{"currentTime":1678081351,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:42:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:42:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:42:32+08:00"}
{"currentTime":1678081354,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:42:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:42:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.01 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:42:39+08:00"}
{"AppId":0,"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":264,"level":"info","msg":"Login Info","name":"吴汉","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.54 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:38340","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081361240-379853\",\"cmd\":\"bind\",\"data\":{\"userID\":264,\"appID\":0,\"token\":\"1678081361\"}}","time":"2023-03-06T13:42:41+08:00"}
{"addr":"","data":"{\"seq\":\"1678081361240-379853\",\"cmd\":\"bind\",\"data\":{\"userID\":264,\"appID\":0,\"token\":\"1678081361\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:41+08:00","userKey":264}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081361240-379853\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:42:41+08:00"}
{"AppId":0,"RoomID":101,"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:42:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:41+08:00","userKey":264}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:41+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"884135420","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:42:41+08:00","userID":264}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:41+08:00","userKey":264}
{"appID":0,"data":"{\"seq\":\"884135420\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"吴汉\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:41+08:00","userID":264}
{"appID":0,"data":"{\"seq\":\"884135420\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"吴汉\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:41+08:00","userID":264}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:264","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.67 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:42:41+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:42+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.73 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:42:42+08:00"}
{"AppId":0,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":79,"level":"info","msg":"Login Info","name":"揭俟斯","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.46 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:41308","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081364901-977751\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081364\"}}","time":"2023-03-06T13:42:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678081364901-977751\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081364\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:44+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:44+08:00","userKey":79}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081364901-977751\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:42:44+08:00"}
{"AppId":0,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T13:42:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:49+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"516184702","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:42:49+08:00","userID":79}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:49+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"516184702\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"516184702\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.25 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T13:42:49+08:00"}
{"AppId":0,"RoomID":101,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:42:49+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:49+08:00","userKey":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:49+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"523758810","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:42:49+08:00","userID":79}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:49+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"523758810\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"523758810\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:79","time":"2023-03-06T13:42:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.03 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:42:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.69 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=5\u0026limit=5]","time":"2023-03-06T13:42:49+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:50+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"吴汉\"","time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[吴汉]","time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.95 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081371487-898733\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:42:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081371487-898733\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:51+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:42:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:51+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081371487-898733\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081371537-931719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:42:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081371537-931719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:51+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:42:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:51+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081371537-931719\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081374911-172025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:42:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678081374911-172025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:54+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:42:54+08:00"}
{"HeartbeatTime":1678081371,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:54+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081374911-172025\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081381483-225541\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:01+08:00"}
{"addr":"","data":"{\"seq\":\"1678081381483-225541\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:01+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:01+08:00"}
{"HeartbeatTime":1678081371,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:01+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081381483-225541\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081381539-387756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:01+08:00"}
{"addr":"","data":"{\"seq\":\"1678081381539-387756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:01+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:01+08:00"}
{"HeartbeatTime":1678081374,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:01+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081381539-387756\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081384915-405119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678081384915-405119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:04+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:04+08:00"}
{"HeartbeatTime":1678081381,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:04+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081384915-405119\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081391483-865313\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:11+08:00"}
{"addr":"","data":"{\"seq\":\"1678081391483-865313\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:11+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:11+08:00"}
{"HeartbeatTime":1678081381,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:11+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081391483-865313\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081391534-296931\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:11+08:00"}
{"addr":"","data":"{\"seq\":\"1678081391534-296931\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:11+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:11+08:00"}
{"HeartbeatTime":1678081384,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:11+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081391534-296931\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"aaa","msg":"SendMessageAll","msgID":"1678081392843-762640","roomID":101,"time":"2023-03-06T13:43:12+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:43:12+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"aaa","msg":"SendUserMessageAll","msgID":"1678081392843-762640","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:43:12+08:00","userID":79}
{"HeartbeatTime":1678081391,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:12+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"1678081392843-762640\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aaa\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:12+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"1678081392843-762640\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aaa\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:12+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.32 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:43:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081394915-704429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678081394915-704429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:14+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:14+08:00"}
{"HeartbeatTime":1678081391,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:14+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081394915-704429\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081401491-246659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:21+08:00"}
{"addr":"","data":"{\"seq\":\"1678081401491-246659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:21+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:21+08:00"}
{"HeartbeatTime":1678081391,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:21+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081401491-246659\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081401539-116781\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:21+08:00"}
{"addr":"","data":"{\"seq\":\"1678081401539-116781\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:21+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:21+08:00"}
{"HeartbeatTime":1678081394,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:21+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081401539-116781\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081404904-487887\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678081404904-487887\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:24+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:24+08:00"}
{"HeartbeatTime":1678081401,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:24+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081404904-487887\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081411256-660870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:31+08:00"}
{"addr":"","data":"{\"seq\":\"1678081411256-660870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:31+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:31+08:00"}
{"HeartbeatTime":1678081401,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:31+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081411256-660870\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:31+08:00"}
{"currentTime":1678081411,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:43:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081412493-703321\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678081412493-703321\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:32+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:32+08:00"}
{"HeartbeatTime":1678081404,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:32+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081412493-703321\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:32+08:00"}
{"currentTime":1678081414,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:43:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081415485-466354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678081415485-466354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:35+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:35+08:00"}
{"HeartbeatTime":1678081412,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:35+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081415485-466354\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081421244-162974\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:41+08:00"}
{"addr":"","data":"{\"seq\":\"1678081421244-162974\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:41+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:41+08:00"}
{"HeartbeatTime":1678081411,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:41+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081421244-162974\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081422478-378934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678081422478-378934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:42+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:42+08:00"}
{"HeartbeatTime":1678081415,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:42+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081422478-378934\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081424902-845763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678081424902-845763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:44+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:44+08:00"}
{"HeartbeatTime":1678081422,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:44+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081424902-845763\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"zzz","msg":"SendMessageAll","msgID":"1678081426595-924042","roomID":101,"time":"2023-03-06T13:43:46+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:43:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081411\",\"172.30.41.217:9001\",\"1678081414\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"zzz","msg":"SendUserMessageAll","msgID":"1678081426595-924042","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:43:46+08:00","userID":79}
{"HeartbeatTime":1678081424,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:46+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"1678081426595-924042\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"zzz\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:46+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"1678081426595-924042\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"zzz\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:46+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.39 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:43:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081431485-991428\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081431485-991428\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:51+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:51+08:00"}
{"HeartbeatTime":1678081421,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:51+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081431485-991428\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081431556-607060\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081431556-607060\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:51+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:51+08:00"}
{"HeartbeatTime":1678081424,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:51+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081431556-607060\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:47:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:47:36+08:00"}
{"currentTime":1678081658,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:47:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:47:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:47:41+08:00"}
{"currentTime":1678081663,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:47:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:47:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.55 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:47:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:47:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.2 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:47:49+08:00"}
{"AppId":0,"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":438,"level":"info","msg":"Login Info","name":"延嗣","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:49508","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081670683-457745\",\"cmd\":\"bind\",\"data\":{\"userID\":438,\"appID\":0,\"token\":\"1678081670\"}}","time":"2023-03-06T13:47:50+08:00"}
{"addr":"","data":"{\"seq\":\"1678081670683-457745\",\"cmd\":\"bind\",\"data\":{\"userID\":438,\"appID\":0,\"token\":\"1678081670\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:47:50+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:50+08:00","userKey":438}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081670683-457745\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:47:50+08:00"}
{"AppId":0,"RoomID":101,"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:47:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:51+08:00","userKey":438}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:47:51+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"208144968","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:47:51+08:00","userID":438}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:51+08:00","userKey":438}
{"appID":0,"data":"{\"seq\":\"208144968\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"延嗣\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:47:51+08:00","userID":438}
{"appID":0,"data":"{\"seq\":\"208144968\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"延嗣\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:47:51+08:00","userID":438}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:438","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.83 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.53 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:47:51+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:47:51+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.33 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:47:51+08:00"}
{"AppId":0,"UserId":482,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":482,"level":"info","msg":"Login Info","name":"杨溥","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.62 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:53246","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081673465-178160\",\"cmd\":\"bind\",\"data\":{\"userID\":482,\"appID\":0,\"token\":\"1678081673\"}}","time":"2023-03-06T13:47:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678081673465-178160\",\"cmd\":\"bind\",\"data\":{\"userID\":482,\"appID\":0,\"token\":\"1678081673\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:47:53+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:53+08:00","userKey":482}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081673465-178160\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:47:53+08:00"}
{"AppId":0,"RoomID":101,"UserId":482,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:47:54+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:54+08:00","userKey":482}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:47:54+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"13440137","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:47:54+08:00","userID":482}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:54+08:00","userKey":482}
{"appID":0,"data":"{\"seq\":\"13440137\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨溥\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:00+08:00","userID":482}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081681492-660857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:01+08:00"}
{"addr":"","data":"{\"seq\":\"1678081681492-660857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:01+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:01+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:01+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081681492-660857\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:01+08:00"}
{"appID":0,"data":"{\"seq\":\"13440137\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨溥\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:01+08:00","userID":482}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:482","time":"2023-03-06T13:48:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:10617.34 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:48:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081683474-343128\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":482}}","time":"2023-03-06T13:48:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678081683474-343128\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":482}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:04+08:00"}
{"UserId":482,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:04+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:04+08:00","userKey":482}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081683474-343128\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.61 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:48:04+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:05+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"延嗣\"","time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[延嗣]","time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.76 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"xx","msg":"SendMessageAll","msgID":"1678081688076-881282","roomID":101,"time":"2023-03-06T13:48:08+08:00","userID":482}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:08+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"xx","msg":"SendUserMessageAll","msgID":"1678081688076-881282","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:48:08+08:00","userID":482}
{"HeartbeatTime":1678081684,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:08+08:00","userKey":482}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081691500-989672\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:11+08:00"}
{"addr":"","data":"{\"seq\":\"1678081691500-989672\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:11+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:11+08:00"}
{"HeartbeatTime":1678081681,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:11+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081691500-989672\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081701488-735369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:21+08:00"}
{"addr":"","data":"{\"seq\":\"1678081701488-735369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:21+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:21+08:00"}
{"HeartbeatTime":1678081691,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:21+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081701488-735369\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081711493-917756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:31+08:00"}
{"addr":"","data":"{\"seq\":\"1678081711493-917756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:31+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:31+08:00"}
{"HeartbeatTime":1678081701,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:31+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081711493-917756\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:48:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:48:37+08:00"}
{"currentTime":1678081719,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:48:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:48:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:48:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:48:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.97 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:48:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:48:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.83 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:48:44+08:00"}
{"currentTime":1678081724,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:48:44+08:00"}
{"AppId":0,"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":445,"level":"info","msg":"Login Info","name":"苏洵","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:45146","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081725661-851776\",\"cmd\":\"bind\",\"data\":{\"userID\":445,\"appID\":0,\"token\":\"1678081725\"}}","time":"2023-03-06T13:48:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678081725661-851776\",\"cmd\":\"bind\",\"data\":{\"userID\":445,\"appID\":0,\"token\":\"1678081725\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:45+08:00","userKey":445}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081725661-851776\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:48:45+08:00"}
{"AppId":0,"RoomID":101,"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:48:46+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:46+08:00","userKey":445}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"4436865","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:48:46+08:00","userID":445}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:46+08:00","userKey":445}
{"appID":0,"data":"{\"seq\":\"4436865\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"苏洵\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:46+08:00","userID":445}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:46+08:00","userKey":445}
{"appID":0,"data":"{\"seq\":\"4436865\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"苏洵\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":0,"time":"2023-03-06T13:48:46+08:00","userID":445}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:53","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:445","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:11.77 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.34 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:48:46+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.48 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:48:46+08:00"}
{"AppId":0,"UserId":68,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":68,"level":"info","msg":"Login Info","name":"黄晋","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48956","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081727953-778095\",\"cmd\":\"bind\",\"data\":{\"userID\":68,\"appID\":0,\"token\":\"1678081727\"}}","time":"2023-03-06T13:48:47+08:00"}
{"addr":"","data":"{\"seq\":\"1678081727953-778095\",\"cmd\":\"bind\",\"data\":{\"userID\":68,\"appID\":0,\"token\":\"1678081727\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:47+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:47+08:00","userKey":68}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081727953-778095\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:48:47+08:00"}
{"AppId":0,"RoomID":101,"UserId":68,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:48:48+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:48+08:00","userKey":68}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:48+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"396617436","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:48:48+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:48+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"396617436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:48+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:48+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"396617436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":0,"time":"2023-03-06T13:48:48+08:00","userID":68}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:53","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:68","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:8.84 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:48:48+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:48+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"苏洵\"","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[苏洵]","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.21 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"cc","msg":"SendMessageAll","msgID":"1678081730733-213516","roomID":101,"time":"2023-03-06T13:48:50+08:00","userID":68}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:50+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"cc","msg":"SendUserMessageAll","msgID":"1678081730733-213516","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:48:50+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:50+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"1678081730733-213516\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"cc\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:50+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:50+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"1678081730733-213516\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"cc\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":0,"time":"2023-03-06T13:48:50+08:00","userID":68}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:53","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.79 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081736479-959003\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","time":"2023-03-06T13:48:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678081736479-959003\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:56+08:00"}
{"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:56+08:00","userKey":445}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081736479-959003\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081737978-700599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":68}}","time":"2023-03-06T13:48:57+08:00"}
{"addr":"","data":"{\"seq\":\"1678081737978-700599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":68}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:57+08:00"}
{"UserId":68,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:57+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:57+08:00","userKey":68}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081737978-700599\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081746482-551261\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","time":"2023-03-06T13:49:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678081746482-551261\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:49:06+08:00"}
{"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:49:06+08:00"}
{"HeartbeatTime":1678081736,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:06+08:00","userKey":445}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081746482-551261\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:49:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:49:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:49:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:49:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:49:54+08:00"}
{"currentTime":1678081795,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:49:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:49:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.89 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:49:55+08:00"}
{"currentTime":1678081796,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:49:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:49:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.09 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:49:56+08:00"}
{"AppId":0,"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":24,"level":"info","msg":"Login Info","name":"王勃","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:34872","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081797822-107366\",\"cmd\":\"bind\",\"data\":{\"userID\":24,\"appID\":0,\"token\":\"1678081797\"}}","time":"2023-03-06T13:49:57+08:00"}
{"addr":"","data":"{\"seq\":\"1678081797822-107366\",\"cmd\":\"bind\",\"data\":{\"userID\":24,\"appID\":0,\"token\":\"1678081797\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:49:57+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:57+08:00","userKey":24}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081797822-107366\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:49:57+08:00"}
{"AppId":0,"RoomID":101,"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:49:58+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:58+08:00","userKey":24}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:49:58+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"105057436","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:49:58+08:00","userID":24}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:58+08:00","userKey":24}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:58+08:00","userKey":24}
{"appID":0,"data":"{\"seq\":\"105057436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"王勃\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:49:58+08:00","userID":24}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:49:58+08:00"}
{"appID":0,"data":"{\"seq\":\"105057436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"王勃\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:49:58+08:00","userID":24}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:24","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:11.6 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.49 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:49:58+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:49:58+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.34 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:49:58+08:00"}
{"AppId":0,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":176,"level":"info","msg":"Login Info","name":"荣旗","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:35430","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081800292-417386\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678081800\"}}","time":"2023-03-06T13:50:00+08:00"}
{"addr":"","data":"{\"seq\":\"1678081800292-417386\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678081800\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:00+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:50:00+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081800292-417386\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:00+08:00"}
{"AppId":0,"RoomID":101,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:50:00+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:50:00+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"644715546","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:50:00+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"644715546\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:00+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"644715546\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:00+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:176","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.08 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:50:00+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:50:01+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"王勃\"","time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[王勃]","time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.79 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678081802728-790683","roomID":101,"time":"2023-03-06T13:50:02+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:50:02+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678081802728-790683","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:50:02+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:02+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"1678081802728-790683\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:02+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:02+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"1678081802728-790683\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:02+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.21 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081807834-143573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-06T13:50:07+08:00"}
{"addr":"","data":"{\"seq\":\"1678081807834-143573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:07+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:50:07+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:07+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081807834-143573\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081810482-130626\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","time":"2023-03-06T13:50:10+08:00"}
{"addr":"","data":"{\"seq\":\"1678081810482-130626\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:10+08:00"}
{"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:50:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:10+08:00","userKey":176}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081810482-130626\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081817838-323162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-06T13:50:17+08:00"}
{"addr":"","data":"{\"seq\":\"1678081817838-323162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:17+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:50:17+08:00"}
{"HeartbeatTime":1678081807,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:17+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081817838-323162\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T15:01:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T15:01:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T15:04:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T15:04:51+08:00"}
{"currentTime":1678086293,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:04:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T15:04:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T15:04:59+08:00"}
{"currentTime":1678086301,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:05:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:05:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.08 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:05:02+08:00"}
{"AppId":0,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":385,"level":"info","msg":"Login Info","name":"兰陵王","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.75 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:43790","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086304674-403605\",\"cmd\":\"bind\",\"data\":{\"userID\":385,\"appID\":0,\"token\":\"1678086304\"}}","time":"2023-03-06T15:05:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678086304674-403605\",\"cmd\":\"bind\",\"data\":{\"userID\":385,\"appID\":0,\"token\":\"1678086304\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:04+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:04+08:00","userKey":385}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086304674-403605\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:05:04+08:00"}
{"AppId":0,"RoomID":101,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:05:05+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:05+08:00","userKey":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:05+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"556245254","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:05+08:00","userID":385}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:05+08:00","userKey":385}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:05+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"556245254\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:05+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:05+08:00"}
{"appID":0,"data":"{\"seq\":\"556245254\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:05+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:385","time":"2023-03-06T15:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:8.42 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T15:05:05+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:06+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.32 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T15:05:06+08:00"}
{"AppId":0,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":176,"level":"info","msg":"Login Info","name":"荣旗","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.12 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54272","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086308632-753608\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678086308\"}}","time":"2023-03-06T15:05:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086308632-753608\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678086308\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:08+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:08+08:00","userKey":176}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086308632-753608\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:05:08+08:00"}
{"AppId":0,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"216516808","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"216516808\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"216516808\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:09+08:00"}
{"AppId":0,"RoomID":101,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.83 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"223141347","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"223141347\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"223141347\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:176","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.97 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.35 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=5\u0026limit=5]","time":"2023-03-06T15:05:09+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"兰陵王\"","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[兰陵王]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.38 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086310293-711804\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","time":"2023-03-06T15:05:10+08:00"}
{"addr":"","data":"{\"seq\":\"1678086310293-711804\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:10+08:00"}
{"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:10+08:00","userKey":176}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086310293-711804\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:05:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.09 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:05:14+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:55","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T15:05:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:45","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send\u0026{0 176 [::1]:54272     0xc0009606e0 0xc0000af980 1678086308 1678086310 1678086308}","time":"2023-03-06T15:05:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086315489-983135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086315489-983135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086315489-983135\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:15+08:00"}
{"AppId":0,"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":53,"level":"info","msg":"Login Info","name":"游酢","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.91 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54278","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086316437-883638\",\"cmd\":\"bind\",\"data\":{\"userID\":53,\"appID\":0,\"token\":\"1678086316\"}}","time":"2023-03-06T15:05:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086316437-883638\",\"cmd\":\"bind\",\"data\":{\"userID\":53,\"appID\":0,\"token\":\"1678086316\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:16+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:16+08:00","userKey":53}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086316437-883638\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:05:16+08:00"}
{"AppId":0,"RoomID":101,"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:05:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:18+08:00","userKey":53}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:18+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"168718229","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:18+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:18+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"168718229\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:18+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:18+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"168718229\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:18+08:00","userID":53}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:53","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.66 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T15:05:18+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:18+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"兰陵王\"","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[兰陵王]","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.78 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678086321821-623528","roomID":101,"time":"2023-03-06T15:05:21+08:00","userID":53}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:21+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678086321821-623528","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:21+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:21+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"1678086321821-623528\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:21+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:21+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"1678086321821-623528\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:21+08:00","userID":53}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.48 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:05:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086324690-318577\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678086324690-318577\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:24+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:24+08:00"}
{"HeartbeatTime":1678086315,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:24+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086324690-318577\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086326486-215956\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086326486-215956\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:26+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086326486-215956\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086334689-366091\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678086334689-366091\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:34+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:34+08:00"}
{"HeartbeatTime":1678086324,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:34+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086334689-366091\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086336490-473801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086336490-473801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:36+08:00"}
{"HeartbeatTime":1678086326,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086336490-473801\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086344690-124909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678086344690-124909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:44+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:44+08:00"}
{"HeartbeatTime":1678086334,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:44+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086344690-124909\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086346485-687604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086346485-687604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:46+08:00"}
{"HeartbeatTime":1678086336,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086346485-687604\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678086346611-499769","roomID":101,"time":"2023-03-06T15:05:46+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678086346611-499769","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:46+08:00","userID":385}
{"HeartbeatTime":1678086344,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:46+08:00","userKey":385}
{"HeartbeatTime":1678086344,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:46+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"1678086346611-499769\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:46+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:46+08:00"}
{"appID":0,"data":"{\"seq\":\"1678086346611-499769\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:46+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.52 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:05:46+08:00"}
{"currentTime":1678086353,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:05:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086355495-666576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086355495-666576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:55+08:00"}
{"HeartbeatTime":1678086344,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086355495-666576\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086356486-812040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086356486-812040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:56+08:00"}
{"HeartbeatTime":1678086346,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086356486-812040\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:05:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.87 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:05:57+08:00"}
{"currentTime":1678086361,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:06:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086365491-456865\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086365491-456865\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:05+08:00"}
{"HeartbeatTime":1678086355,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086365491-456865\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.88 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086366489-718330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086366489-718330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:06+08:00"}
{"HeartbeatTime":1678086356,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086366489-718330\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:06+08:00"}
{"AppId":0,"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":267,"level":"info","msg":"Login Info","name":"寇恂","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.53 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51498","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086368070-243169\",\"cmd\":\"bind\",\"data\":{\"userID\":267,\"appID\":0,\"token\":\"1678086368\"}}","time":"2023-03-06T15:06:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086368070-243169\",\"cmd\":\"bind\",\"data\":{\"userID\":267,\"appID\":0,\"token\":\"1678086368\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:08+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:08+08:00","userKey":267}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086368070-243169\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:06:08+08:00"}
{"AppId":0,"RoomID":102,"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:06:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:09+08:00","userKey":267}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"246835472","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:06:09+08:00","userID":267}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:09+08:00","userKey":267}
{"appID":0,"data":"{\"seq\":\"246835472\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"寇恂\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:09+08:00","userID":267}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:09+08:00","userKey":267}
{"appID":0,"data":"{\"seq\":\"246835472\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"寇恂\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:09+08:00","userID":267}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:267","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T15:06:09+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.35 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:06:09+08:00"}
{"AppId":0,"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":462,"level":"info","msg":"Login Info","name":"张浚","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51510","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086373199-597111\",\"cmd\":\"bind\",\"data\":{\"userID\":462,\"appID\":0,\"token\":\"1678086373\"}}","time":"2023-03-06T15:06:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086373199-597111\",\"cmd\":\"bind\",\"data\":{\"userID\":462,\"appID\":0,\"token\":\"1678086373\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:13+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086373199-597111\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:06:13+08:00"}
{"AppId":0,"RoomID":102,"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:06:13+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:13+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"869403206","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T15:06:13+08:00","userID":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"appID":0,"data":"{\"seq\":\"869403206\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:13+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:06:13+08:00"}
{"appID":0,"data":"{\"seq\":\"869403206\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:13+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:462","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.62 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.22 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T15:06:13+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:14+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.62 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086375479-119459\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086375479-119459\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:15+08:00"}
{"HeartbeatTime":1678086365,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086375479-119459\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086376482-903351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086376482-903351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:16+08:00"}
{"HeartbeatTime":1678086366,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086376482-903351\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086378492-869497\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086378492-869497\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086378492-869497\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678086381916-189561","roomID":102,"time":"2023-03-06T15:06:21+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:21+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678086381916-189561","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:06:21+08:00","userID":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:21+08:00","userKey":462}
{"appID":0,"data":"{\"seq\":\"1678086381916-189561\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:21+08:00","userID":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:21+08:00","userKey":462}
{"appID":0,"data":"{\"seq\":\"1678086381916-189561\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:21+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:06:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:06:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.61 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:06:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086383488-649283\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086383488-649283\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:23+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086383488-649283\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086385492-289604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086385492-289604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:25+08:00"}
{"HeartbeatTime":1678086375,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086385492-289604\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086386492-268860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086386492-268860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:26+08:00"}
{"HeartbeatTime":1678086376,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086386492-268860\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086388075-586868\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086388075-586868\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:28+08:00"}
{"HeartbeatTime":1678086378,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086388075-586868\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086393491-149981\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086393491-149981\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:33+08:00"}
{"HeartbeatTime":1678086383,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086393491-149981\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086395491-609938\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086395491-609938\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:35+08:00"}
{"HeartbeatTime":1678086385,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086395491-609938\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086396488-722255\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086396488-722255\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:36+08:00"}
{"HeartbeatTime":1678086386,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086396488-722255\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086398489-809635\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086398489-809635\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:38+08:00"}
{"HeartbeatTime":1678086388,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086398489-809635\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086403481-788986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086403481-788986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:43+08:00"}
{"HeartbeatTime":1678086393,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086403481-788986\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086405486-582752\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086405486-582752\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:45+08:00"}
{"HeartbeatTime":1678086395,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086405486-582752\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086406491-470449\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086406491-470449\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:46+08:00"}
{"HeartbeatTime":1678086396,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086406491-470449\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.2 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086408489-779985\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086408489-779985\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:48+08:00"}
{"HeartbeatTime":1678086398,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086408489-779985\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:53+08:00"}
{"currentTime":1678086413,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:06:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086413487-250160\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086413487-250160\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:53+08:00"}
{"HeartbeatTime":1678086403,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086413487-250160\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086415491-172967\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086415491-172967\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:55+08:00"}
{"HeartbeatTime":1678086405,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086415491-172967\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086416479-292970\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086416479-292970\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:56+08:00"}
{"HeartbeatTime":1678086406,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086416479-292970\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086418492-972468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086418492-972468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:58+08:00"}
{"HeartbeatTime":1678086408,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086418492-972468\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:58+08:00"}
{"currentTime":1678086421,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:07:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086423481-217953\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086423481-217953\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:03+08:00"}
{"HeartbeatTime":1678086413,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086423481-217953\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086425486-761705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086425486-761705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:05+08:00"}
{"HeartbeatTime":1678086415,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086425486-761705\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086426493-858342\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086426493-858342\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:06+08:00"}
{"HeartbeatTime":1678086416,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086426493-858342\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086428484-212722\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086428484-212722\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:08+08:00"}
{"HeartbeatTime":1678086418,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086428484-212722\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086433220-548769\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086433220-548769\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:13+08:00"}
{"HeartbeatTime":1678086423,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086433220-548769\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086434840-698242\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678086434840-698242\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:14+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:14+08:00"}
{"HeartbeatTime":1678086425,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:14+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086434840-698242\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086436492-237966\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086436492-237966\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:16+08:00"}
{"HeartbeatTime":1678086426,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086436492-237966\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086438485-465187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086438485-465187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:18+08:00"}
{"HeartbeatTime":1678086428,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086438485-465187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086443481-369442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086443481-369442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:23+08:00"}
{"HeartbeatTime":1678086433,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086443481-369442\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086445488-774678\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086445488-774678\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:25+08:00"}
{"HeartbeatTime":1678086434,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086445488-774678\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086446482-116847\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086446482-116847\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:26+08:00"}
{"HeartbeatTime":1678086436,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086446482-116847\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086448484-215779\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086448484-215779\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:28+08:00"}
{"HeartbeatTime":1678086438,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086448484-215779\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:28+08:00"}
{"AppId":0,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T15:07:29+08:00"}
{"AppId":0,"RoomID":102,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086413\"]"}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086413\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"563348212","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T15:07:29+08:00","userID":385}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"563884557","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:07:29+08:00","userID":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"563348212\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"563884557\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"563348212\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:07:29+08:00"}
{"appID":0,"data":"{\"seq\":\"563884557\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:385","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.46 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.04 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.27 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=5\u0026limit=5]","time":"2023-03-06T15:07:29+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:30+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086413\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"寇恂\"  userID:\"张浚\"","time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[寇恂 张浚]","time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.18 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086453489-220725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086453489-220725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:33+08:00"}
{"HeartbeatTime":1678086443,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086453489-220725\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086454681-910308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678086454681-910308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:34+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:34+08:00"}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:34+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086454681-910308\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086456485-348584\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086456485-348584\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:36+08:00"}
{"HeartbeatTime":1678086446,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086456485-348584\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086458487-337124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086458487-337124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:38+08:00"}
{"HeartbeatTime":1678086448,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086458487-337124\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086463489-466739\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086463489-466739\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:43+08:00"}
{"HeartbeatTime":1678086453,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086463489-466739\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086464679-451755\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678086464679-451755\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:44+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:44+08:00"}
{"HeartbeatTime":1678086454,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:44+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086464679-451755\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086466487-840316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086466487-840316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:46+08:00"}
{"HeartbeatTime":1678086456,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086466487-840316\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086468487-577137\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086468487-577137\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:48+08:00"}
{"HeartbeatTime":1678086458,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086468487-577137\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:48+08:00"}
{"currentTime":1678086473,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:07:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086473485-506457\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086473485-506457\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:53+08:00"}
{"HeartbeatTime":1678086463,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086473485-506457\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086474679-194422\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678086474679-194422\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:54+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:54+08:00"}
{"HeartbeatTime":1678086464,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:54+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086474679-194422\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"是是是","msg":"SendMessageAll","msgID":"1678086475329-119483","roomID":102,"time":"2023-03-06T15:07:55+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:55+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086473\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"是是是","msg":"SendUserMessageAll","msgID":"1678086475329-119483","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:07:55+08:00","userID":385}
{"HeartbeatTime":1678086474,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:55+08:00","userKey":385}
{"HeartbeatTime":1678086474,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:55+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"1678086475329-119483\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"是是是\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:55+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:07:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:07:55+08:00"}
{"appID":0,"data":"{\"seq\":\"1678086475329-119483\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"是是是\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:55+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:07:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086476486-507463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086476486-507463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:56+08:00"}
{"HeartbeatTime":1678086466,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086476486-507463\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086478072-591055\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086478072-591055\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:58+08:00"}
{"HeartbeatTime":1678086468,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086478072-591055\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:58+08:00"}
{"currentTime":1678086481,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:08:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086483490-397747\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086483490-397747\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:03+08:00"}
{"HeartbeatTime":1678086473,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086483490-397747\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086484689-919882\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678086484689-919882\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:04+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:04+08:00"}
{"HeartbeatTime":1678086474,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:04+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086484689-919882\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086486489-626870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086486489-626870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:06+08:00"}
{"HeartbeatTime":1678086476,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086486489-626870\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086488490-251033\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086488490-251033\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:08+08:00"}
{"HeartbeatTime":1678086478,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086488490-251033\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086493481-587716\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086493481-587716\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:13+08:00"}
{"HeartbeatTime":1678086483,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086493481-587716\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086495487-379106\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086495487-379106\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:15+08:00"}
{"HeartbeatTime":1678086484,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086495487-379106\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086496495-205085\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086496495-205085\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:16+08:00"}
{"HeartbeatTime":1678086486,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086496495-205085\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086498492-546915\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086498492-546915\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:18+08:00"}
{"HeartbeatTime":1678086488,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086498492-546915\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086503495-182451\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086503495-182451\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:23+08:00"}
{"HeartbeatTime":1678086493,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086503495-182451\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086505478-692510\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086505478-692510\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:25+08:00"}
{"HeartbeatTime":1678086495,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086505478-692510\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086506479-544135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086506479-544135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:26+08:00"}
{"HeartbeatTime":1678086496,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086506479-544135\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086508484-457037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086508484-457037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:28+08:00"}
{"HeartbeatTime":1678086498,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086508484-457037\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086513479-828330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086513479-828330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:33+08:00"}
{"HeartbeatTime":1678086503,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086513479-828330\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086515485-969962\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086515485-969962\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:35+08:00"}
{"HeartbeatTime":1678086505,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086515485-969962\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086516486-444077\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086516486-444077\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:36+08:00"}
{"HeartbeatTime":1678086506,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086516486-444077\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086518493-985706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086518493-985706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:38+08:00"}
{"HeartbeatTime":1678086508,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086518493-985706\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086523479-581857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086523479-581857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:43+08:00"}
{"HeartbeatTime":1678086513,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086523479-581857\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086525479-912390\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086525479-912390\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:45+08:00"}
{"HeartbeatTime":1678086515,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086525479-912390\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086526492-503407\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086526492-503407\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:46+08:00"}
{"HeartbeatTime":1678086516,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086526492-503407\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086528484-360666\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086528484-360666\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:48+08:00"}
{"HeartbeatTime":1678086518,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086528484-360666\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:48+08:00"}
{"currentTime":1678086533,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:08:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086533482-189945\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086533482-189945\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:53+08:00"}
{"HeartbeatTime":1678086523,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086533482-189945\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086535489-384627\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086535489-384627\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:55+08:00"}
{"HeartbeatTime":1678086525,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086535489-384627\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086536489-454194\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086536489-454194\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:56+08:00"}
{"HeartbeatTime":1678086526,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086536489-454194\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086538488-307490\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086538488-307490\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:58+08:00"}
{"HeartbeatTime":1678086528,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086538488-307490\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:58+08:00"}
{"currentTime":1678086541,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:09:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086543479-459249\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086543479-459249\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:03+08:00"}
{"HeartbeatTime":1678086533,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086543479-459249\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086545487-306270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086545487-306270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:05+08:00"}
{"HeartbeatTime":1678086535,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086545487-306270\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086546485-683890\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086546485-683890\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:06+08:00"}
{"HeartbeatTime":1678086536,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086546485-683890\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086548479-482389\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086548479-482389\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:08+08:00"}
{"HeartbeatTime":1678086538,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086548479-482389\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086553481-797210\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086553481-797210\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:13+08:00"}
{"HeartbeatTime":1678086543,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086553481-797210\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086555479-832858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086555479-832858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:15+08:00"}
{"HeartbeatTime":1678086545,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086555479-832858\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086556489-895876\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086556489-895876\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:16+08:00"}
{"HeartbeatTime":1678086546,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086556489-895876\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086558481-229004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086558481-229004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:18+08:00"}
{"HeartbeatTime":1678086548,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086558481-229004\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086563480-523789\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086563480-523789\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:23+08:00"}
{"HeartbeatTime":1678086553,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086563480-523789\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086565489-590352\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086565489-590352\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:25+08:00"}
{"HeartbeatTime":1678086555,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086565489-590352\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086566482-150552\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086566482-150552\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:26+08:00"}
{"HeartbeatTime":1678086556,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086566482-150552\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086568487-744187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086568487-744187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:28+08:00"}
{"HeartbeatTime":1678086558,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086568487-744187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086573499-197443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086573499-197443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:33+08:00"}
{"HeartbeatTime":1678086563,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086573499-197443\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086575479-369599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086575479-369599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:35+08:00"}
{"HeartbeatTime":1678086565,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086575479-369599\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086576482-896467\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086576482-896467\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:36+08:00"}
{"HeartbeatTime":1678086566,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086576482-896467\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086578481-378797\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086578481-378797\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:38+08:00"}
{"HeartbeatTime":1678086568,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086578481-378797\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086583493-987176\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086583493-987176\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:43+08:00"}
{"HeartbeatTime":1678086573,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086583493-987176\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086585479-734783\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086585479-734783\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:45+08:00"}
{"HeartbeatTime":1678086575,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086585479-734783\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086586490-410634\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086586490-410634\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:46+08:00"}
{"HeartbeatTime":1678086576,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086586490-410634\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086588478-171386\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086588478-171386\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:48+08:00"}
{"HeartbeatTime":1678086578,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086588478-171386\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:48+08:00"}
{"currentTime":1678086593,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:09:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086593491-565787\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086593491-565787\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:53+08:00"}
{"HeartbeatTime":1678086583,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086593491-565787\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086595486-735891\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086595486-735891\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:55+08:00"}
{"HeartbeatTime":1678086585,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086595486-735891\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086596481-125415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086596481-125415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:56+08:00"}
{"HeartbeatTime":1678086586,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086596481-125415\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086598486-216775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086598486-216775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:58+08:00"}
{"HeartbeatTime":1678086588,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086598486-216775\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:58+08:00"}
{"currentTime":1678086601,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:10:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086603484-235494\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086603484-235494\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:03+08:00"}
{"HeartbeatTime":1678086593,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086603484-235494\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086605491-377094\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086605491-377094\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:05+08:00"}
{"HeartbeatTime":1678086595,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086605491-377094\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086606487-363766\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086606487-363766\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:06+08:00"}
{"HeartbeatTime":1678086596,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086606487-363766\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086608489-972024\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086608489-972024\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:08+08:00"}
{"HeartbeatTime":1678086598,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086608489-972024\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086613491-810124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086613491-810124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:13+08:00"}
{"HeartbeatTime":1678086603,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086613491-810124\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086615488-792869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086615488-792869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:15+08:00"}
{"HeartbeatTime":1678086605,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086615488-792869\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086616480-892204\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086616480-892204\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:16+08:00"}
{"HeartbeatTime":1678086606,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086616480-892204\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086618484-108700\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086618484-108700\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:18+08:00"}
{"HeartbeatTime":1678086608,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086618484-108700\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086623492-979593\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086623492-979593\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:23+08:00"}
{"HeartbeatTime":1678086613,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086623492-979593\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086625488-660896\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086625488-660896\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:25+08:00"}
{"HeartbeatTime":1678086615,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086625488-660896\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086626487-674019\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086626487-674019\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:26+08:00"}
{"HeartbeatTime":1678086616,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086626487-674019\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086628483-638741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086628483-638741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:28+08:00"}
{"HeartbeatTime":1678086618,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086628483-638741\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086633493-836327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086633493-836327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:33+08:00"}
{"HeartbeatTime":1678086623,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086633493-836327\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086635492-408873\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086635492-408873\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:35+08:00"}
{"HeartbeatTime":1678086625,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086635492-408873\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086636480-715010\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086636480-715010\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:36+08:00"}
{"HeartbeatTime":1678086626,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086636480-715010\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086638493-499559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086638493-499559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:38+08:00"}
{"HeartbeatTime":1678086628,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086638493-499559\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086643488-161151\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086643488-161151\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:43+08:00"}
{"HeartbeatTime":1678086633,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086643488-161151\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086645484-714409\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086645484-714409\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:45+08:00"}
{"HeartbeatTime":1678086635,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086645484-714409\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086646482-607447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086646482-607447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:46+08:00"}
{"HeartbeatTime":1678086636,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086646482-607447\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086648489-560419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086648489-560419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:48+08:00"}
{"HeartbeatTime":1678086638,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086648489-560419\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:48+08:00"}
{"currentTime":1678086653,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:10:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086653481-607201\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086653481-607201\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:53+08:00"}
{"HeartbeatTime":1678086643,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086653481-607201\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086655479-389573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086655479-389573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:55+08:00"}
{"HeartbeatTime":1678086645,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086655479-389573\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086656487-627048\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086656487-627048\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:56+08:00"}
{"HeartbeatTime":1678086646,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086656487-627048\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086658481-247075\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086658481-247075\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:58+08:00"}
{"HeartbeatTime":1678086648,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086658481-247075\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:58+08:00"}
{"currentTime":1678086661,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:11:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086663485-843986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086663485-843986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:03+08:00"}
{"HeartbeatTime":1678086653,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086663485-843986\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086665485-457084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086665485-457084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:05+08:00"}
{"HeartbeatTime":1678086655,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086665485-457084\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086666483-566380\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086666483-566380\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:06+08:00"}
{"HeartbeatTime":1678086656,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086666483-566380\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086668488-190836\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086668488-190836\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:08+08:00"}
{"HeartbeatTime":1678086658,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086668488-190836\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086673490-369744\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086673490-369744\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:13+08:00"}
{"HeartbeatTime":1678086663,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086673490-369744\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086675486-310942\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086675486-310942\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:15+08:00"}
{"HeartbeatTime":1678086665,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086675486-310942\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086676480-745646\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086676480-745646\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:16+08:00"}
{"HeartbeatTime":1678086666,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086676480-745646\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086678492-876007\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086678492-876007\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:18+08:00"}
{"HeartbeatTime":1678086668,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086678492-876007\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086683488-450435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086683488-450435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:23+08:00"}
{"HeartbeatTime":1678086673,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086683488-450435\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086685481-551673\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086685481-551673\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:25+08:00"}
{"HeartbeatTime":1678086675,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086685481-551673\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086686488-968923\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086686488-968923\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:26+08:00"}
{"HeartbeatTime":1678086676,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086686488-968923\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086688490-114371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086688490-114371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:28+08:00"}
{"HeartbeatTime":1678086678,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086688490-114371\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086693484-832272\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086693484-832272\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:33+08:00"}
{"HeartbeatTime":1678086683,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086693484-832272\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086695485-109471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086695485-109471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:35+08:00"}
{"HeartbeatTime":1678086685,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086695485-109471\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086696488-716366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086696488-716366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:36+08:00"}
{"HeartbeatTime":1678086686,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086696488-716366\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086698491-653179\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086698491-653179\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:38+08:00"}
{"HeartbeatTime":1678086688,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086698491-653179\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086703494-223159\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086703494-223159\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:43+08:00"}
{"HeartbeatTime":1678086693,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086703494-223159\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086705485-851178\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086705485-851178\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:45+08:00"}
{"HeartbeatTime":1678086695,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086705485-851178\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086706488-956355\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086706488-956355\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:46+08:00"}
{"HeartbeatTime":1678086696,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086706488-956355\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086708483-743368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086708483-743368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:48+08:00"}
{"HeartbeatTime":1678086698,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086708483-743368\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:48+08:00"}
{"currentTime":1678086713,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:11:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086713489-640856\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086713489-640856\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:53+08:00"}
{"HeartbeatTime":1678086703,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086713489-640856\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086715483-326258\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086715483-326258\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:55+08:00"}
{"HeartbeatTime":1678086705,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086715483-326258\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086716498-161394\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086716498-161394\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:56+08:00"}
{"HeartbeatTime":1678086706,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086716498-161394\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086718491-568130\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086718491-568130\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:58+08:00"}
{"HeartbeatTime":1678086708,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086718491-568130\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:58+08:00"}
{"currentTime":1678086721,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:12:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086723486-440959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086723486-440959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:03+08:00"}
{"HeartbeatTime":1678086713,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086723486-440959\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086725505-851920\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086725505-851920\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:05+08:00"}
{"HeartbeatTime":1678086715,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086725505-851920\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086726486-398959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086726486-398959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:06+08:00"}
{"HeartbeatTime":1678086716,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086726486-398959\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086728487-542862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086728487-542862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:08+08:00"}
{"HeartbeatTime":1678086718,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086728487-542862\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086733504-148705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086733504-148705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:13+08:00"}
{"HeartbeatTime":1678086723,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086733504-148705\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086735484-993360\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086735484-993360\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:15+08:00"}
{"HeartbeatTime":1678086725,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086735484-993360\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086736486-204299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086736486-204299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:16+08:00"}
{"HeartbeatTime":1678086726,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086736486-204299\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086738483-990604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086738483-990604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:18+08:00"}
{"HeartbeatTime":1678086728,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086738483-990604\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086743496-990764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086743496-990764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:23+08:00"}
{"HeartbeatTime":1678086733,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086743496-990764\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086745481-630738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086745481-630738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:25+08:00"}
{"HeartbeatTime":1678086735,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086745481-630738\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086746481-489796\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086746481-489796\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:26+08:00"}
{"HeartbeatTime":1678086736,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086746481-489796\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086748484-738801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086748484-738801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:28+08:00"}
{"HeartbeatTime":1678086738,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086748484-738801\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086753484-765446\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086753484-765446\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:33+08:00"}
{"HeartbeatTime":1678086743,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086753484-765446\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086755482-982529\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086755482-982529\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:35+08:00"}
{"HeartbeatTime":1678086745,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086755482-982529\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086756491-212344\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086756491-212344\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:36+08:00"}
{"HeartbeatTime":1678086746,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086756491-212344\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086758487-503411\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086758487-503411\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:38+08:00"}
{"HeartbeatTime":1678086748,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086758487-503411\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086763482-720042\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086763482-720042\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:43+08:00"}
{"HeartbeatTime":1678086753,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086763482-720042\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086765477-232509\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086765477-232509\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:45+08:00"}
{"HeartbeatTime":1678086755,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086765477-232509\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086766451-182505\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086766451-182505\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:46+08:00"}
{"HeartbeatTime":1678086756,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086766451-182505\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086768479-856192\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086768479-856192\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:48+08:00"}
{"HeartbeatTime":1678086758,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086768479-856192\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:12:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:12:51+08:00"}
{"currentTime":1678086773,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086773489-727125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086773489-727125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:53+08:00"}
{"HeartbeatTime":1678086763,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086773489-727125\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.6 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:12:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.41 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:12:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086775501-888837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086775501-888837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:55+08:00"}
{"HeartbeatTime":1678086765,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086775501-888837\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086776504-838993\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086776504-838993\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:56+08:00"}
{"HeartbeatTime":1678086766,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086776504-838993\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086778484-535519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086778484-535519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:58+08:00"}
{"HeartbeatTime":1678086768,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086778484-535519\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:58+08:00"}
{"currentTime":1678086781,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:13:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086785478-618711\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086785478-618711\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:05+08:00"}
{"HeartbeatTime":1678086775,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086785478-618711\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086786481-275295\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086786481-275295\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:06+08:00"}
{"HeartbeatTime":1678086776,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086786481-275295\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086794677-556439\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678086794677-556439\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:14+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:14+08:00"}
{"HeartbeatTime":1678086785,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:14+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086794677-556439\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086796492-139589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086796492-139589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:16+08:00"}
{"HeartbeatTime":1678086786,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086796492-139589\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086804683-754842\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678086804683-754842\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:24+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:24+08:00"}
{"HeartbeatTime":1678086794,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:24+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086804683-754842\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086806494-620354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086806494-620354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:26+08:00"}
{"HeartbeatTime":1678086796,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086806494-620354\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086815490-246917\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086815490-246917\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:35+08:00"}
{"HeartbeatTime":1678086804,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086815490-246917\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086816484-848495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086816484-848495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:36+08:00"}
{"HeartbeatTime":1678086806,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086816484-848495\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086825480-799703\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086825480-799703\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:45+08:00"}
{"HeartbeatTime":1678086815,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086825480-799703\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086826483-170089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086826483-170089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:46+08:00"}
{"HeartbeatTime":1678086816,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086826483-170089\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:46+08:00"}
{"currentTime":1678086833,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086835481-876511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086835481-876511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:55+08:00"}
{"HeartbeatTime":1678086825,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086835481-876511\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086836489-205002\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086836489-205002\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:56+08:00"}
{"HeartbeatTime":1678086826,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086836489-205002\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086839482-264758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:13:59+08:00"}
{"addr":"","data":"{\"seq\":\"1678086839482-264758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086839483-602559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:13:59+08:00"}
{"addr":"","data":"{\"seq\":\"1678086839483-602559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:59+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:59+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:59+08:00"}
{"HeartbeatTime":1678086778,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:59+08:00","userKey":267}
{"HeartbeatTime":1678086773,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:59+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086839482-264758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:59+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086839483-602559\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:59+08:00"}
{"currentTime":1678086841,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:14:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086845492-390133\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086845492-390133\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:05+08:00"}
{"HeartbeatTime":1678086835,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086845492-390133\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086846443-893526\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086846443-893526\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:06+08:00"}
{"HeartbeatTime":1678086836,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086846443-893526\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086855484-375691\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086855484-375691\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:15+08:00"}
{"HeartbeatTime":1678086845,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086855484-375691\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086856485-252807\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086856485-252807\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:16+08:00"}
{"HeartbeatTime":1678086846,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086856485-252807\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086864690-258086\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678086864690-258086\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:24+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:24+08:00"}
{"HeartbeatTime":1678086855,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:24+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086864690-258086\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086866485-630388\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086866485-630388\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:26+08:00"}
{"HeartbeatTime":1678086856,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086866485-630388\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:26+08:00"}
{"AppId":0,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:14:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086841\",\"172.30.41.217:9001\",\"1678086833\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"15146179","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:14:29+08:00","userID":385}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"AppId":0,"RoomID":102,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:14:29+08:00"}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"15146179\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:14:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086841\",\"172.30.41.217:9001\",\"1678086833\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:14:29+08:00"}
{"appID":0,"data":"{\"seq\":\"15146179\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"20873005","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:14:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.76 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T15:14:29+08:00"}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"20873005\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:14:29+08:00"}
{"appID":0,"data":"{\"seq\":\"20873005\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:385","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.92 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.6 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=10\u0026limit=5]","time":"2023-03-06T15:14:29+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:14:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086841\",\"172.30.41.217:9001\",\"1678086833\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"寇恂\"  userID:\"张浚\"","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[寇恂 张浚]","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.92 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086874679-211284\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678086874679-211284\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:34+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:34+08:00"}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:34+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086874679-211284\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086876484-584817\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086876484-584817\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:36+08:00"}
{"HeartbeatTime":1678086866,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086876484-584817\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086885490-967872\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086885490-967872\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:45+08:00"}
{"HeartbeatTime":1678086874,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086885490-967872\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086886483-710595\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086886483-710595\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:46+08:00"}
{"HeartbeatTime":1678086876,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086886483-710595\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:18:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T17:18:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:18:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:18:21+08:00"}
{"currentTime":1678094301,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:18:21+08:00"}
{"currentTime":1678094303,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:18:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.58 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:24+08:00"}
{"AppId":0,"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":407,"level":"info","msg":"Login Info","name":"蔡允恭","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.8 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:40422","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094305361-332288\",\"cmd\":\"bind\",\"data\":{\"userID\":407,\"appID\":0,\"token\":\"1678094305\"}}","time":"2023-03-06T17:18:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094305361-332288\",\"cmd\":\"bind\",\"data\":{\"userID\":407,\"appID\":0,\"token\":\"1678094305\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:25+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094305361-332288\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:25+08:00"}
{"AppId":0,"RoomID":101,"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-06T17:18:25+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:25+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"931615489","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:18:25+08:00","userID":407}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"appID":0,"data":"{\"seq\":\"931615489\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"蔡允恭\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:25+08:00","userID":407}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"appID":0,"data":"{\"seq\":\"931615489\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"蔡允恭\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:25+08:00","userID":407}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:407","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:10.86 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.93 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:25+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:26+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.5 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.19 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:30+08:00"}
{"AppId":0,"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":84,"level":"info","msg":"Login Info","name":"唐伯虎","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.81 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:52268","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094311552-343369\",\"cmd\":\"bind\",\"data\":{\"userID\":84,\"appID\":0,\"token\":\"1678094311\"}}","time":"2023-03-06T17:18:31+08:00"}
{"addr":"","data":"{\"seq\":\"1678094311552-343369\",\"cmd\":\"bind\",\"data\":{\"userID\":84,\"appID\":0,\"token\":\"1678094311\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:31+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:31+08:00","userKey":84}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094311552-343369\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:31+08:00"}
{"AppId":0,"RoomID":101,"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-06T17:18:32+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:32+08:00","userKey":84}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:32+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"782253469","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T17:18:32+08:00","userID":84}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:32+08:00","userKey":84}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:32+08:00","userKey":84}
{"appID":0,"data":"{\"seq\":\"782253469\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"唐伯虎\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:32+08:00","userID":84}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:32+08:00"}
{"appID":0,"data":"{\"seq\":\"782253469\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"唐伯虎\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:32+08:00","userID":84}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:84","time":"2023-03-06T17:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.44 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.35 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:32+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:33+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.46 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094315480-610503\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:18:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094315480-610503\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:35+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094315480-610503\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:18:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:18:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:18:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:18:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094322483-958046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:18:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094322483-958046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:42+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094322483-958046\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.02 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094325489-539714\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:18:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094325489-539714\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:45+08:00"}
{"HeartbeatTime":1678094315,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094325489-539714\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:45+08:00"}
{"AppId":0,"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":431,"level":"info","msg":"Login Info","name":"玄奘","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.65 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:37742","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094326175-671167\",\"cmd\":\"bind\",\"data\":{\"userID\":431,\"appID\":0,\"token\":\"1678094326\"}}","time":"2023-03-06T17:18:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094326175-671167\",\"cmd\":\"bind\",\"data\":{\"userID\":431,\"appID\":0,\"token\":\"1678094326\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:46+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:46+08:00","userKey":431}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094326175-671167\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:46+08:00"}
{"AppId":0,"RoomID":102,"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-06T17:18:49+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:49+08:00","userKey":431}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:49+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"580845560","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:18:49+08:00","userID":431}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:49+08:00","userKey":431}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:49+08:00","userKey":431}
{"appID":0,"data":"{\"seq\":\"580845560\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"玄奘\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:49+08:00","userID":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:49+08:00"}
{"appID":0,"data":"{\"seq\":\"580845560\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"玄奘\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:49+08:00","userID":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:431","time":"2023-03-06T17:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.27 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.31 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:49+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:50+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.35 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094332484-938233\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:18:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094332484-938233\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:52+08:00"}
{"HeartbeatTime":1678094322,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094332484-938233\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.36 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:52+08:00"}
{"AppId":0,"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":132,"level":"info","msg":"Login Info","name":"澹台灭明","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44082","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094334117-994575\",\"cmd\":\"bind\",\"data\":{\"userID\":132,\"appID\":0,\"token\":\"1678094334\"}}","time":"2023-03-06T17:18:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678094334117-994575\",\"cmd\":\"bind\",\"data\":{\"userID\":132,\"appID\":0,\"token\":\"1678094334\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:54+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094334117-994575\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:54+08:00"}
{"AppId":0,"RoomID":102,"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-06T17:18:54+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:54+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"677987637","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:18:54+08:00","userID":132}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"appID":0,"data":"{\"seq\":\"677987637\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"澹台灭明\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:54+08:00","userID":132}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"appID":0,"data":"{\"seq\":\"677987637\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"澹台灭明\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:54+08:00","userID":132}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:132","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.48 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.27 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:54+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:55+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"玄奘\"","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[玄奘]","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.22 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094335494-319814\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:18:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094335494-319814\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:55+08:00"}
{"HeartbeatTime":1678094325,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094335494-319814\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094336491-585025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:18:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094336491-585025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094336491-585025\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.38 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094342490-150623\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094342490-150623\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:02+08:00"}
{"HeartbeatTime":1678094332,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094342490-150623\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094344127-551773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678094344127-551773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:04+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:04+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:04+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094344127-551773\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094345487-388136\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094345487-388136\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:05+08:00"}
{"HeartbeatTime":1678094335,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094345487-388136\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094346177-605519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094346177-605519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:06+08:00"}
{"HeartbeatTime":1678094336,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094346177-605519\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:19:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:19:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094352479-575292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094352479-575292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:12+08:00"}
{"HeartbeatTime":1678094342,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094352479-575292\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094354119-437860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678094354119-437860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:14+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:14+08:00"}
{"HeartbeatTime":1678094344,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:14+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094354119-437860\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094355492-961758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094355492-961758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:15+08:00"}
{"HeartbeatTime":1678094345,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094355492-961758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094356480-665629\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094356480-665629\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:16+08:00"}
{"HeartbeatTime":1678094346,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094356480-665629\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:16+08:00"}
{"currentTime":1678094361,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:19:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094362487-442900\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094362487-442900\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:22+08:00"}
{"HeartbeatTime":1678094352,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094362487-442900\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:22+08:00"}
{"currentTime":1678094363,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:19:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094364120-844466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678094364120-844466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:24+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:24+08:00"}
{"HeartbeatTime":1678094354,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:24+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094364120-844466\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094365497-743877\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094365497-743877\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:25+08:00"}
{"HeartbeatTime":1678094355,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094365497-743877\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094366480-781946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094366480-781946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:26+08:00"}
{"HeartbeatTime":1678094356,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094366480-781946\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094372492-541934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094372492-541934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:32+08:00"}
{"HeartbeatTime":1678094362,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094372492-541934\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094374119-331245\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678094374119-331245\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:34+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:34+08:00"}
{"HeartbeatTime":1678094364,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:34+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094374119-331245\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094375488-185946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094375488-185946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:35+08:00"}
{"HeartbeatTime":1678094365,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094375488-185946\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094376480-282359\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094376480-282359\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:36+08:00"}
{"HeartbeatTime":1678094366,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094376480-282359\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094382480-504995\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094382480-504995\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:42+08:00"}
{"HeartbeatTime":1678094372,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094382480-504995\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094384122-998676\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678094384122-998676\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:44+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:44+08:00"}
{"HeartbeatTime":1678094374,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:44+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094384122-998676\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094385480-166987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094385480-166987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:45+08:00"}
{"HeartbeatTime":1678094375,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094385480-166987\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094386487-143037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094386487-143037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:46+08:00"}
{"HeartbeatTime":1678094376,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094386487-143037\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094392492-817845\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094392492-817845\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:52+08:00"}
{"HeartbeatTime":1678094382,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094392492-817845\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094394132-433568\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678094394132-433568\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:54+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:54+08:00"}
{"HeartbeatTime":1678094384,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:54+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094394132-433568\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094395483-134551\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094395483-134551\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:55+08:00"}
{"HeartbeatTime":1678094385,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094395483-134551\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094396479-230443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094396479-230443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:56+08:00"}
{"HeartbeatTime":1678094386,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094396479-230443\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094402497-830512\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094402497-830512\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:02+08:00"}
{"HeartbeatTime":1678094392,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094402497-830512\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094404118-831234\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:20:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678094404118-831234\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:04+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:04+08:00"}
{"HeartbeatTime":1678094394,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:04+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094404118-831234\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094405491-976575\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094405491-976575\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:05+08:00"}
{"HeartbeatTime":1678094395,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094405491-976575\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094406490-228454\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094406490-228454\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:06+08:00"}
{"HeartbeatTime":1678094396,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094406490-228454\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094412484-770059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094412484-770059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:12+08:00"}
{"HeartbeatTime":1678094402,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094412484-770059\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094414128-148861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:20:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678094414128-148861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:14+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:14+08:00"}
{"HeartbeatTime":1678094404,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:14+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094414128-148861\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094415490-864059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094415490-864059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:15+08:00"}
{"HeartbeatTime":1678094405,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094415490-864059\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094416487-534384\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094416487-534384\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:16+08:00"}
{"HeartbeatTime":1678094406,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094416487-534384\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:16+08:00"}
{"currentTime":1678094421,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:20:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094422484-882064\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094422484-882064\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:22+08:00"}
{"HeartbeatTime":1678094412,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094422484-882064\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:22+08:00"}
{"currentTime":1678094423,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:20:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094424132-121172\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:20:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678094424132-121172\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:24+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:24+08:00"}
{"HeartbeatTime":1678094414,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:24+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094424132-121172\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094425494-911773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094425494-911773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:25+08:00"}
{"HeartbeatTime":1678094415,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094425494-911773\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094426483-552105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094426483-552105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:26+08:00"}
{"HeartbeatTime":1678094416,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094426483-552105\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.27 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:20:32+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:76","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:66","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send\u0026{0 132 [::1]:44082     0xc0001878c0 0xc00060f200 1678094334 1678094424 1678094334}","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094432493-379763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094432493-379763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:32+08:00"}
{"HeartbeatTime":1678094422,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094432493-379763\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094435492-704112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094435492-704112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:35+08:00"}
{"HeartbeatTime":1678094425,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094435492-704112\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094436487-786560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094436487-786560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:36+08:00"}
{"HeartbeatTime":1678094426,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094436487-786560\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094442488-132148\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094442488-132148\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:42+08:00"}
{"HeartbeatTime":1678094432,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094442488-132148\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094445489-262224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094445489-262224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:45+08:00"}
{"HeartbeatTime":1678094435,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094445489-262224\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094446489-325976\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094446489-325976\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:46+08:00"}
{"HeartbeatTime":1678094436,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094446489-325976\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094452485-368412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094452485-368412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:52+08:00"}
{"HeartbeatTime":1678094442,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094452485-368412\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094455491-671303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094455491-671303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:55+08:00"}
{"HeartbeatTime":1678094445,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094455491-671303\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094456492-811414\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094456492-811414\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:56+08:00"}
{"HeartbeatTime":1678094446,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094456492-811414\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094462480-488050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094462480-488050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:02+08:00"}
{"HeartbeatTime":1678094452,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094462480-488050\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094465492-458187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094465492-458187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:05+08:00"}
{"HeartbeatTime":1678094455,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094465492-458187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094466482-927105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094466482-927105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:06+08:00"}
{"HeartbeatTime":1678094456,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094466482-927105\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094472489-965089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094472489-965089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:12+08:00"}
{"HeartbeatTime":1678094462,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094472489-965089\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094475492-813628\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094475492-813628\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:15+08:00"}
{"HeartbeatTime":1678094465,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094475492-813628\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094476488-937690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094476488-937690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:16+08:00"}
{"HeartbeatTime":1678094466,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094476488-937690\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:16+08:00"}
{"currentTime":1678094481,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:21:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094482487-500963\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094482487-500963\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:22+08:00"}
{"HeartbeatTime":1678094472,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094482487-500963\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:22+08:00"}
{"currentTime":1678094483,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:21:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094485481-986270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094485481-986270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:25+08:00"}
{"HeartbeatTime":1678094475,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094485481-986270\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094486487-554927\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094486487-554927\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:26+08:00"}
{"HeartbeatTime":1678094476,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094486487-554927\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094492483-126027\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094492483-126027\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:32+08:00"}
{"HeartbeatTime":1678094482,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094492483-126027\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094495490-621014\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094495490-621014\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:35+08:00"}
{"HeartbeatTime":1678094485,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094495490-621014\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094496497-914343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094496497-914343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:36+08:00"}
{"HeartbeatTime":1678094486,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094496497-914343\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094502491-705037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094502491-705037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:42+08:00"}
{"HeartbeatTime":1678094492,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094502491-705037\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094505493-118495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094505493-118495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:45+08:00"}
{"HeartbeatTime":1678094495,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094505493-118495\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094506482-530078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094506482-530078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:46+08:00"}
{"HeartbeatTime":1678094496,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094506482-530078\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094512488-287749\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094512488-287749\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:52+08:00"}
{"HeartbeatTime":1678094502,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094512488-287749\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094515488-483419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094515488-483419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:55+08:00"}
{"HeartbeatTime":1678094505,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094515488-483419\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094516491-271163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094516491-271163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:56+08:00"}
{"HeartbeatTime":1678094506,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094516491-271163\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:21:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:21:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:22:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:22:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094522491-796050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094522491-796050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:02+08:00"}
{"HeartbeatTime":1678094512,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094522491-796050\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094525484-249901\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094525484-249901\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:05+08:00"}
{"HeartbeatTime":1678094515,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094525484-249901\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094526492-998219\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094526492-998219\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:06+08:00"}
{"HeartbeatTime":1678094516,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094526492-998219\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094532487-944612\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094532487-944612\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:12+08:00"}
{"HeartbeatTime":1678094522,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094532487-944612\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094535483-332861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094535483-332861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:15+08:00"}
{"HeartbeatTime":1678094525,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094535483-332861\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094536484-151393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094536484-151393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:16+08:00"}
{"HeartbeatTime":1678094526,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094536484-151393\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:16+08:00"}
{"currentTime":1678094541,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:22:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094542481-947343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094542481-947343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:22+08:00"}
{"HeartbeatTime":1678094532,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094542481-947343\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:22+08:00"}
{"currentTime":1678094543,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:22:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094545493-233530\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094545493-233530\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:25+08:00"}
{"HeartbeatTime":1678094535,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094545493-233530\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094546491-367084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094546491-367084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:26+08:00"}
{"HeartbeatTime":1678094536,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094546491-367084\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094552488-551655\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094552488-551655\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:32+08:00"}
{"HeartbeatTime":1678094542,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094552488-551655\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094555487-899500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094555487-899500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:35+08:00"}
{"HeartbeatTime":1678094545,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094555487-899500\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094556484-303369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094556484-303369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:36+08:00"}
{"HeartbeatTime":1678094546,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094556484-303369\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094562491-196513\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094562491-196513\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:42+08:00"}
{"HeartbeatTime":1678094552,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094562491-196513\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094565482-885316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094565482-885316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:45+08:00"}
{"HeartbeatTime":1678094555,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094565482-885316\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094566485-403171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094566485-403171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:46+08:00"}
{"HeartbeatTime":1678094556,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094566485-403171\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094572493-611163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094572493-611163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:52+08:00"}
{"HeartbeatTime":1678094562,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094572493-611163\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094575493-400252\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094575493-400252\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:55+08:00"}
{"HeartbeatTime":1678094565,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094575493-400252\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094576484-700949\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094576484-700949\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:56+08:00"}
{"HeartbeatTime":1678094566,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094576484-700949\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094582481-698516\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094582481-698516\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:02+08:00"}
{"HeartbeatTime":1678094572,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094582481-698516\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094585492-570690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:23:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094585492-570690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:05+08:00"}
{"HeartbeatTime":1678094575,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094585492-570690\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094586487-586239\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094586487-586239\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:06+08:00"}
{"HeartbeatTime":1678094576,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094586487-586239\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094592484-739306\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094592484-739306\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:12+08:00"}
{"HeartbeatTime":1678094582,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094592484-739306\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094595484-795223\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:23:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094595484-795223\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:15+08:00"}
{"HeartbeatTime":1678094585,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094595484-795223\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094596490-974815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094596490-974815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:16+08:00"}
{"HeartbeatTime":1678094586,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094596490-974815\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:16+08:00"}
{"currentTime":1678094601,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:23:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094602487-987429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094602487-987429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:22+08:00"}
{"HeartbeatTime":1678094592,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094602487-987429\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:22+08:00"}
{"currentTime":1678094603,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:23:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094605481-306897\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:23:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094605481-306897\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:25+08:00"}
{"HeartbeatTime":1678094595,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094605481-306897\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094606491-133020\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094606491-133020\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:26+08:00"}
{"HeartbeatTime":1678094596,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094606491-133020\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094612479-805631\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094612479-805631\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:32+08:00"}
{"HeartbeatTime":1678094602,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094612479-805631\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094616487-680656\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094616487-680656\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:36+08:00"}
{"HeartbeatTime":1678094606,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094616487-680656\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094626486-139764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094626486-139764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:46+08:00"}
{"HeartbeatTime":1678094616,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094626486-139764\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094636489-233357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094636489-233357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:56+08:00"}
{"HeartbeatTime":1678094626,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094636489-233357\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094642487-834813\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:24:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094642487-834813\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:24:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094642487-116562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:24:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094642487-116562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:24:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:24:02+08:00"}
{"HeartbeatTime":1678094612,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:24:02+08:00","userKey":84}
{"HeartbeatTime":1678094605,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:24:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094642487-116562\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:24:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094642487-834813\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094646488-246776\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:24:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094646488-246776\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:24:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:24:06+08:00"}
{"HeartbeatTime":1678094636,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:24:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094646488-246776\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:24:06+08:00"}
{"currentTime":1678094661,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:24:21+08:00"}
{"currentTime":1678094663,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:24:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:24:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:24:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094702483-956125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:25:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094702483-956125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:25:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094702484-891214\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:25:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094702484-891214\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:25:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:25:02+08:00"}
{"HeartbeatTime":1678094642,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:25:02+08:00","userKey":407}
{"HeartbeatTime":1678094642,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:25:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094702483-956125\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094702485-370475\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:25:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094702484-891214\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:25:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094702485-370475\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:25:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:25:02+08:00"}
{"HeartbeatTime":1678094646,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:25:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094702485-370475\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:25:02+08:00"}
{"currentTime":1678094722,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:25:22+08:00"}
{"currentTime":1678094723,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:25:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094762493-271203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:26:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094762493-271203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:26:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094762493-469514\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094762493-154205\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:26:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094762493-469514\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:26:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:26:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094762493-154205\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:26:02+08:00"}
{"HeartbeatTime":1678094702,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:26:02+08:00","userKey":407}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:26:02+08:00"}
{"HeartbeatTime":1678094702,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:26:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094762493-271203\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:26:02+08:00"}
{"HeartbeatTime":1678094702,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:26:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094762493-469514\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:26:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094762493-154205\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:26:02+08:00"}
{"currentTime":1678094782,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:26:22+08:00"}
{"currentTime":1678094783,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:26:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094822490-381082\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:27:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094822490-381082\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:27:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094822491-107415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094822490-316466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:27:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094822490-316466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:27:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:27:02+08:00"}
{"HeartbeatTime":1678094762,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:27:02+08:00","userKey":407}
{"HeartbeatTime":1678094762,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:27:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094822490-381082\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:27:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094822491-107415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:27:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094822490-316466\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:27:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:27:02+08:00"}
{"HeartbeatTime":1678094762,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:27:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094822491-107415\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:27:02+08:00"}
{"currentTime":1678094842,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:27:22+08:00"}
{"currentTime":1678094843,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:27:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094882480-467557\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:28:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094882480-467557\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:28:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:28:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094882481-774918\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:28:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094882480-427377\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:28:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094882481-774918\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:28:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:28:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094882480-427377\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:28:02+08:00"}
{"HeartbeatTime":1678094822,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:28:02+08:00","userKey":407}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:28:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094882480-467557\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:28:02+08:00"}
{"HeartbeatTime":1678094822,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:28:02+08:00","userKey":84}
{"HeartbeatTime":1678094822,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:28:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094882480-427377\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:28:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094882481-774918\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:28:02+08:00"}
{"currentTime":1678094902,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:28:22+08:00"}
{"currentTime":1678094903,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:28:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094942492-998299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:29:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094942492-998299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:29:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:29:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094942492-239442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:29:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094942492-239442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:29:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:29:02+08:00"}
{"HeartbeatTime":1678094882,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:29:02+08:00","userKey":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094942493-175936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:29:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094942493-175936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:29:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:29:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094942492-998299\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:29:02+08:00"}
{"HeartbeatTime":1678094882,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:29:02+08:00","userKey":84}
{"HeartbeatTime":1678094882,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:29:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094942492-239442\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:29:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094942493-175936\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:29:02+08:00"}
{"currentTime":1678094962,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:29:22+08:00"}
{"currentTime":1678094963,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:29:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095002481-499335\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:30:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095002481-499335\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:30:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095002481-902725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:30:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095002481-902725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:30:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:30:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:30:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095002481-790028\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:30:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095002481-790028\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:30:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:30:02+08:00"}
{"HeartbeatTime":1678094942,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:30:02+08:00","userKey":431}
{"HeartbeatTime":1678094942,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:30:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095002481-902725\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:30:02+08:00"}
{"HeartbeatTime":1678094942,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:30:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095002481-499335\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:30:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095002481-790028\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:30:02+08:00"}
{"currentTime":1678095022,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:30:22+08:00"}
{"currentTime":1678095023,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:30:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095062485-922440\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:31:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095062485-922440\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:31:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095062485-555950\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:31:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095062485-555950\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:31:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:31:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095062486-287175\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:31:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095062486-287175\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:31:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:31:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:31:02+08:00"}
{"HeartbeatTime":1678095002,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:31:02+08:00","userKey":407}
{"HeartbeatTime":1678095002,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:31:02+08:00","userKey":84}
{"HeartbeatTime":1678095002,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:31:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095062485-922440\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:31:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095062485-555950\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:31:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095062486-287175\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:31:02+08:00"}
{"currentTime":1678095082,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:31:22+08:00"}
{"currentTime":1678095083,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:31:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095122489-206184\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:32:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095122489-206184\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:32:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:32:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095122489-169862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:32:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095122489-169862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:32:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:32:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095122489-190576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:32:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095122489-190576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:32:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:32:02+08:00"}
{"HeartbeatTime":1678095062,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:32:02+08:00","userKey":431}
{"HeartbeatTime":1678095062,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:32:02+08:00","userKey":84}
{"HeartbeatTime":1678095062,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:32:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095122489-206184\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:32:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095122489-169862\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:32:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095122489-190576\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:32:02+08:00"}
{"currentTime":1678095142,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:32:22+08:00"}
{"currentTime":1678095143,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:32:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095182483-151875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:33:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095182483-151875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:33:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:33:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095182482-130871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:33:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095182482-130871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:33:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:33:02+08:00"}
{"HeartbeatTime":1678095122,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:33:02+08:00","userKey":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095182483-883648\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:33:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095182483-883648\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:33:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:33:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095182483-151875\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:33:02+08:00"}
{"HeartbeatTime":1678095122,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:33:02+08:00","userKey":407}
{"HeartbeatTime":1678095122,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:33:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095182482-130871\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:33:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095182483-883648\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:33:02+08:00"}
{"currentTime":1678095202,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:33:22+08:00"}
{"currentTime":1678095203,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:33:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095242492-620659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:34:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095242492-620659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:34:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095242492-973875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:34:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095242492-973875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:34:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:34:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:34:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095242492-607301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:34:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095242492-607301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:34:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:34:02+08:00"}
{"HeartbeatTime":1678095182,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:34:02+08:00","userKey":407}
{"HeartbeatTime":1678095182,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:34:02+08:00","userKey":431}
{"HeartbeatTime":1678095182,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:34:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095242492-973875\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:34:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095242492-620659\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:34:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095242492-607301\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:34:02+08:00"}
{"currentTime":1678095262,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:34:22+08:00"}
{"currentTime":1678095263,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:34:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095302483-719323\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:35:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095302483-719323\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:35:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:35:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095302483-799307\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:35:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095302483-799307\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:35:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:35:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095302484-506692\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:35:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095302484-506692\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:35:02+08:00"}
{"HeartbeatTime":1678095242,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:35:02+08:00","userKey":84}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:35:02+08:00"}
{"HeartbeatTime":1678095242,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:35:02+08:00","userKey":431}
{"HeartbeatTime":1678095242,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:35:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095302483-719323\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:35:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095302483-799307\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:35:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095302484-506692\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:35:02+08:00"}
{"currentTime":1678095322,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:35:22+08:00"}
{"currentTime":1678095323,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:35:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095362491-549987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:36:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095362491-549987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:36:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:36:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095362492-916742\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:36:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095362492-916742\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:36:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:36:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095362491-294786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:36:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095362491-294786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:36:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:36:02+08:00"}
{"HeartbeatTime":1678095302,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:36:02+08:00","userKey":407}
{"HeartbeatTime":1678095302,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:36:02+08:00","userKey":431}
{"HeartbeatTime":1678095302,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:36:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095362492-916742\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:36:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095362491-294786\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:36:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095362491-549987\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:36:02+08:00"}
{"currentTime":1678095382,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:36:22+08:00"}
{"currentTime":1678095383,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:36:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095422480-105885\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:37:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095422480-105885\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095422481-142871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095422480-300778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:37:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095422481-142871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095422480-300778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:02+08:00"}
{"HeartbeatTime":1678095362,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:02+08:00","userKey":84}
{"HeartbeatTime":1678095362,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:02+08:00","userKey":407}
{"HeartbeatTime":1678095362,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095422480-105885\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095422480-300778\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095422481-142871\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:37:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:37:22+08:00"}
{"currentTime":1678095444,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:37:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:37:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.4 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:37:26+08:00"}
{"AppId":0,"UserId":309,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":309,"level":"info","msg":"Login Info","name":"关羽","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.75 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44514","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095448442-407704\",\"cmd\":\"bind\",\"data\":{\"userID\":309,\"appID\":0,\"token\":\"1678095448\"}}","time":"2023-03-06T17:37:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678095448442-407704\",\"cmd\":\"bind\",\"data\":{\"userID\":309,\"appID\":0,\"token\":\"1678095448\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:28+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678095448,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:28+08:00","userKey":309}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095448442-407704\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095458446-990376\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":309}}","time":"2023-03-06T17:37:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678095458446-990376\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":309}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:38+08:00"}
{"UserId":309,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:38+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678095448,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:38+08:00","userKey":309}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095458446-990376\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.38 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.06 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:37:43+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:76","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:66","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send\u0026{0 309 [::1]:44514     0xc0004be000 0xc000500120 1678095448 1678095458 1678095448}","time":"2023-03-06T17:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:37:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:37:46+08:00"}
{"currentTime":1678095504,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:38:24+08:00"}
{"currentTime":1678095564,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:39:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:39:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:39:59+08:00"}
{"currentTime":1678095624,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:40:24+08:00"}
{"currentTime":1678095684,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:41:24+08:00"}
{"currentTime":1678095744,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:42:24+08:00"}
{"currentTime":1678095804,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:43:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:45:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:45:42+08:00"}
{"currentTime":1678095944,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:45:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:45:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.87 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:45:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:45:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.48 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:45:49+08:00"}
{"AppId":0,"UserId":126,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":126,"level":"info","msg":"Login Info","name":"宰予","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.73 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:36562","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095952319-229163\",\"cmd\":\"bind\",\"data\":{\"userID\":126,\"appID\":0,\"token\":\"1678095952\"}}","time":"2023-03-06T17:45:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678095952319-229163\",\"cmd\":\"bind\",\"data\":{\"userID\":126,\"appID\":0,\"token\":\"1678095952\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:45:52+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678095952,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:45:52+08:00","userKey":126}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095952319-229163\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:45:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:45:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:45:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.34 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:45:59+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:45:59+08:00"}
{"client.Addr":"","client.UserID":126,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T17:45:59+08:00"}
{"currentTime":1678096004,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:46:44+08:00"}
{"currentTime":1678096064,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:47:44+08:00"}
{"currentTime":1678096124,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:48:44+08:00"}
{"currentTime":1678096184,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:49:44+08:00"}
{"currentTime":1678096244,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:50:44+08:00"}
{"currentTime":1678096304,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:51:44+08:00"}
{"currentTime":1678096364,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:52:44+08:00"}
{"currentTime":1678096424,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:53:44+08:00"}
{"currentTime":1678096484,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:54:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:55:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:55:28+08:00"}
{"currentTime":1678096530,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:55:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:55:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.02 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:55:33+08:00"}
{"AppId":0,"UserId":320,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":320,"level":"info","msg":"Login Info","name":"阮籍","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.51 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:50580","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:50580","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096534638-341510\",\"cmd\":\"bind\",\"data\":{\"userID\":320,\"appID\":0,\"token\":\"1678096534\"}}","time":"2023-03-06T17:55:34+08:00"}
{"addr":"[::1]:50580","data":"{\"seq\":\"1678096534638-341510\",\"cmd\":\"bind\",\"data\":{\"userID\":320,\"appID\":0,\"token\":\"1678096534\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:55:34+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096534,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:55:34+08:00","userKey":320}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096534638-341510\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:50580","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:55:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.18 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:55:39+08:00"}
{"Addr":"[::1]:50580","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:55:39+08:00"}
{"client.Addr":"[::1]:50580","client.UserID":320,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T17:55:39+08:00"}
{"currentTime":1678096590,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:56:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:57:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:57:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:57:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.53 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:57:04+08:00"}
{"currentTime":1678096625,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:57:05+08:00"}
{"AppId":0,"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":342,"level":"info","msg":"Login Info","name":"司马敏","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.23 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:46200","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:46200","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096625741-953515\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":0,\"token\":\"1678096625\"}}","time":"2023-03-06T17:57:05+08:00"}
{"addr":"[::1]:46200","data":"{\"seq\":\"1678096625741-953515\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":0,\"token\":\"1678096625\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:57:05+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096625,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:57:05+08:00","userKey":342}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096625741-953515\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:46200","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:57:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:57:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.42 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:57:06+08:00"}
{"Addr":"[::1]:46200","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:57:06+08:00"}
{"client.Addr":"[::1]:46200","client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T17:57:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:57:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:57:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:57:36+08:00"}
{"currentTime":1678096685,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:58:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:58:06+08:00"}
{"client.Addr":"[::1]:46200","client.HeartbeatTime":1678096625,"client.LoginTime":1678096625,"client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-06T17:58:06+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096625,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:58:06+08:00","userKey":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:46200","time":"2023-03-06T17:58:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:46200ok:false","time":"2023-03-06T17:58:06+08:00"}
{"client.Addr":"[::1]:46200","client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-06T17:58:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:58:06+08:00","valByte":"[\"172.30.41.217:9002\",\"1678095382\",\"172.30.41.217:9001\",\"1678096685\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"417544954","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:58:06+08:00","userID":342}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096625,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:58:06+08:00","userKey":342}
{"appID":0,"data":"{\"seq\":\"417544954\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"司马敏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-06T17:58:06+08:00","userID":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:58:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:58:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.31 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:58:46+08:00"}
{"currentTime":1678096745,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:59:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:59:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:59:36+08:00"}
{"currentTime":1678096805,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:00:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:00:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T18:00:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T18:00:17+08:00"}
{"currentTime":1678096819,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:00:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:00:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:00:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.65 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:00:20+08:00"}
{"AppId":0,"UserId":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":450,"level":"info","msg":"Login Info","name":"欧阳修","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:57040","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:57040","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096821904-916928\",\"cmd\":\"bind\",\"data\":{\"userID\":450,\"appID\":0,\"token\":\"1678096821\"}}","time":"2023-03-06T18:00:21+08:00"}
{"addr":"[::1]:57040","data":"{\"seq\":\"1678096821904-916928\",\"cmd\":\"bind\",\"data\":{\"userID\":450,\"appID\":0,\"token\":\"1678096821\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T18:00:21+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096821,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:00:21+08:00","userKey":450}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096821904-916928\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:57040","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:00:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.93 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:00:23+08:00"}
{"Addr":"[::1]:57040","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T18:00:23+08:00"}
{"client.Addr":"[::1]:57040","client.UserID":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T18:00:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:00:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T18:00:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T18:00:58+08:00"}
{"currentTime":1678096879,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:01:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:01:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:01:50+08:00"}
{"client.Addr":"[::1]:57040","client.HeartbeatTime":1678096821,"client.LoginTime":1678096821,"client.UserID":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-06T18:01:50+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096821,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:01:50+08:00","userKey":450}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:57040","time":"2023-03-06T18:01:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:57040ok:false","time":"2023-03-06T18:01:50+08:00"}
{"client.Addr":"[::1]:57040","client.UserID":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-06T18:01:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T18:01:50+08:00","valByte":"[\"172.30.41.217:9001\",\"1678096879\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"370843452","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T18:01:50+08:00","userID":450}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096821,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:01:50+08:00","userKey":450}
{"appID":0,"data":"{\"seq\":\"370843452\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"欧阳修\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-06T18:01:50+08:00","userID":450}
{"currentTime":1678096939,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:02:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:02:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:02:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T18:02:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T18:02:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T18:03:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T18:03:02+08:00"}
{"currentTime":1678096984,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:03:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:03:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.07 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:03:10+08:00"}
{"AppId":0,"UserId":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":170,"level":"info","msg":"Login Info","name":"颜祖","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.81 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:35126","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:35126","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096990895-441268\",\"cmd\":\"bind\",\"data\":{\"userID\":170,\"appID\":0,\"token\":\"1678096990\"}}","time":"2023-03-06T18:03:10+08:00"}
{"addr":"[::1]:35126","data":"{\"seq\":\"1678096990895-441268\",\"cmd\":\"bind\",\"data\":{\"userID\":170,\"appID\":0,\"token\":\"1678096990\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T18:03:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096990,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:03:10+08:00","userKey":170}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096990895-441268\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:35126","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:03:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.98 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:03:13+08:00"}
{"Addr":"[::1]:35126","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T18:03:13+08:00"}
{"client.Addr":"[::1]:35126","client.UserID":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T18:03:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:03:35+08:00"}
{"currentTime":1678097044,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:04:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:04:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:04:35+08:00"}
{"client.Addr":"[::1]:35126","client.HeartbeatTime":1678096990,"client.LoginTime":1678096990,"client.UserID":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-06T18:04:35+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096990,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:04:35+08:00","userKey":170}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:35126","time":"2023-03-06T18:04:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:35126ok:false","time":"2023-03-06T18:04:35+08:00"}
{"client.Addr":"[::1]:35126","client.UserID":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-06T18:04:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T18:04:35+08:00","valByte":"[\"172.30.41.217:9001\",\"1678097044\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"428745112","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T18:04:35+08:00","userID":170}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678096990,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:04:35+08:00","userKey":170}
{"appID":0,"data":"{\"seq\":\"428745112\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"颜祖\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-06T18:04:35+08:00","userID":170}
{"currentTime":1678097104,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:05:35+08:00"}
{"currentTime":1678097164,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:06:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:06:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T18:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.92 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T18:06:59+08:00"}
{"currentTime":1678097224,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:07:04+08:00"}
{"err":"EOF","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:07:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:07:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:07:35+08:00"}
{"currentTime":1678097284,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:08:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:08:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:08:35+08:00"}
{"currentTime":1678097344,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:09:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:09:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:09:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:09:35+08:00"}
{"currentTime":1678097404,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:10:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:10:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:10:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:10:35+08:00"}
{"currentTime":1678097464,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:11:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:11:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:11:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:11:35+08:00"}
{"currentTime":1678097524,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:12:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:12:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:12:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:12:35+08:00"}
{"currentTime":1678097584,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:13:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:13:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:13:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:13:35+08:00"}
{"currentTime":1678097644,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:14:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:14:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:14:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:14:35+08:00"}
{"currentTime":1678097704,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:15:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:15:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:15:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:15:35+08:00"}
{"currentTime":1678097764,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:16:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:16:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:16:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:16:35+08:00"}
{"currentTime":1678097824,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:17:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:17:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:17:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:17:35+08:00"}
{"currentTime":1678097884,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:18:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:18:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:18:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:18:35+08:00"}
{"currentTime":1678097944,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:19:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:19:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:19:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:19:35+08:00"}
{"currentTime":1678098004,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:20:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:20:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:20:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:20:35+08:00"}
{"currentTime":1678098064,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:21:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:21:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:21:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:21:35+08:00"}
{"currentTime":1678098124,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:22:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:22:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:22:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:22:35+08:00"}
{"currentTime":1678098184,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:23:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:23:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:23:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:23:35+08:00"}
{"currentTime":1678098244,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:24:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:24:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:24:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:24:35+08:00"}
{"currentTime":1678098304,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:25:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:25:35+08:00"}
{"currentTime":1678098364,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:26:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:26:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:26:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:26:35+08:00"}
{"currentTime":1678098424,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:27:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:27:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:27:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:27:35+08:00"}
{"currentTime":1678098484,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:28:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:28:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:28:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:28:35+08:00"}
{"currentTime":1678098544,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:29:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:29:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:29:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:29:35+08:00"}
{"currentTime":1678098604,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:30:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:30:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:30:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:30:35+08:00"}
{"currentTime":1678098664,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:31:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:31:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:31:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:31:35+08:00"}
{"currentTime":1678098724,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:32:04+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:32:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:32:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:32:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:34:37+08:00"}
{"currentTime":1678149454,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T08:37:34+08:00"}
{"err":"dial tcp 127.0.0.1:6379: connect: connection refused","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-07T08:37:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T08:38:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T08:38:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.22 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T08:38:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:33","func":"bychat/lib/redislib.InitRedlisClient","level":"panic","msg":"dial tcp 127.0.0.1:6379: connect: connection refused","time":"2023-03-07T09:12:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T09:13:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T09:13:07+08:00"}
{"currentTime":1678151589,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:13:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:13:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T09:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-07T09:13:17+08:00"}
{"currentTime":1678151599,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:13:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:13:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T09:13:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.11 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T09:13:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T09:13:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.18 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T09:13:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T09:13:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.01 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T09:13:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:13:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T09:13:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.07 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T09:13:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T09:13:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.17 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T09:13:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:13:50+08:00"}
{"AppId":0,"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":90,"level":"info","msg":"Login Info","name":"文征明","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.09 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48992","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:48992","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151632922-811648\",\"cmd\":\"bind\",\"data\":{\"userID\":90,\"appID\":0,\"token\":\"1678151632\"}}","time":"2023-03-07T09:13:52+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151632922-811648\",\"cmd\":\"bind\",\"data\":{\"userID\":90,\"appID\":0,\"token\":\"1678151632\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:13:52+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:52+08:00","userKey":90}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151632922-811648\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:48992","time":"2023-03-07T09:13:52+08:00"}
{"AppId":0,"RoomID":101,"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:13:53+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:53+08:00","userKey":90}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:13:53+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"747674315","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T09:13:53+08:00","userID":90}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:53+08:00","userKey":90}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:53+08:00","userKey":90}
{"appID":0,"data":"{\"seq\":\"747674315\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"文征明\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:13:53+08:00","userID":90}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:13:53+08:00"}
{"appID":0,"data":"{\"seq\":\"747674315\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"文征明\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:13:53+08:00","userID":90}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:90","time":"2023-03-07T09:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:8.98 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.07 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T09:13:53+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T09:13:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T09:13:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:13:54+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-07T09:13:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-07T09:13:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.14 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T09:13:54+08:00"}
{"AppId":0,"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":24,"level":"info","msg":"Login Info","name":"王勃","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.48 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48998","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:48998","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151635828-477785\",\"cmd\":\"bind\",\"data\":{\"userID\":24,\"appID\":0,\"token\":\"1678151635\"}}","time":"2023-03-07T09:13:55+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151635828-477785\",\"cmd\":\"bind\",\"data\":{\"userID\":24,\"appID\":0,\"token\":\"1678151635\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:13:55+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:55+08:00","userKey":24}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151635828-477785\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:48998","time":"2023-03-07T09:13:55+08:00"}
{"AppId":0,"RoomID":101,"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:13:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:56+08:00","userKey":24}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:13:56+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"683861797","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:13:56+08:00","userID":24}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:56+08:00","userKey":24}
{"appID":0,"data":"{\"seq\":\"683861797\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"王勃\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:13:56+08:00","userID":24}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:56+08:00","userKey":24}
{"appID":0,"data":"{\"seq\":\"683861797\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"王勃\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:13:56+08:00","userID":24}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:13:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:13:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:24","time":"2023-03-07T09:13:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.3 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:13:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.32 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T09:13:56+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T09:13:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T09:13:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:13:57+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-07T09:13:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-07T09:13:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.25 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T09:13:57+08:00"}
{"AppId":0,"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":265,"level":"info","msg":"Login Info","name":"贾复","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.5 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:37758","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:37758","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151639065-900322\",\"cmd\":\"bind\",\"data\":{\"userID\":265,\"appID\":0,\"token\":\"1678151639\"}}","time":"2023-03-07T09:13:59+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151639065-900322\",\"cmd\":\"bind\",\"data\":{\"userID\":265,\"appID\":0,\"token\":\"1678151639\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:13:59+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:59+08:00","userKey":265}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151639065-900322\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:37758","time":"2023-03-07T09:13:59+08:00"}
{"AppId":0,"RoomID":101,"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:13:59+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:59+08:00","userKey":265}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:13:59+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"843230973","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:13:59+08:00","userID":265}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:59+08:00","userKey":265}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:13:59+08:00","userKey":265}
{"appID":0,"data":"{\"seq\":\"843230973\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"贾复\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:13:59+08:00","userID":265}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:13:59+08:00"}
{"appID":0,"data":"{\"seq\":\"843230973\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"贾复\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:13:59+08:00","userID":265}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:265","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.4 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.2 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T09:13:59+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T09:14:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T09:14:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:14:00+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"文征明\" userID:\"王勃\"","time":"2023-03-07T09:14:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[文征明 王勃]","time":"2023-03-07T09:14:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.95 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T09:14:00+08:00"}
{"AppId":0,"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":288,"level":"info","msg":"Login Info","name":"高览","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.53 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:37766","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:37766","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151642790-993614\",\"cmd\":\"bind\",\"data\":{\"userID\":288,\"appID\":0,\"token\":\"1678151642\"}}","time":"2023-03-07T09:14:02+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151642790-993614\",\"cmd\":\"bind\",\"data\":{\"userID\":288,\"appID\":0,\"token\":\"1678151642\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:02+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:02+08:00","userKey":288}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151642790-993614\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:37766","time":"2023-03-07T09:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151643471-576821\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:14:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151643471-576821\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:03+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151643471-576821\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:03+08:00"}
{"AppId":0,"RoomID":101,"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:14:03+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:03+08:00","userKey":288}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:14:03+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"738875573","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:14:03+08:00","userID":288}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:03+08:00","userKey":288}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:03+08:00","userKey":288}
{"appID":0,"data":"{\"seq\":\"738875573\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"高览\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:14:03+08:00","userID":288}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:14:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:14:03+08:00"}
{"appID":0,"data":"{\"seq\":\"738875573\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"高览\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:14:03+08:00","userID":288}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:288","time":"2023-03-07T09:14:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.63 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:14:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T09:14:03+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T09:14:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T09:14:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:14:04+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"文征明\" userID:\"王勃\"","time":"2023-03-07T09:14:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[文征明 王勃]","time":"2023-03-07T09:14:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.01 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T09:14:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151646483-968022\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:14:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151646483-968022\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:06+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151646483-968022\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:06+08:00"}
{"AppId":0,"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":285,"level":"info","msg":"Login Info","name":"颜良","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.44 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:46512","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:46512","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151648160-106278\",\"cmd\":\"bind\",\"data\":{\"userID\":285,\"appID\":0,\"token\":\"1678151648\"}}","time":"2023-03-07T09:14:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151648160-106278\",\"cmd\":\"bind\",\"data\":{\"userID\":285,\"appID\":0,\"token\":\"1678151648\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:08+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:08+08:00","userKey":285}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151648160-106278\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:46512","time":"2023-03-07T09:14:08+08:00"}
{"AppId":0,"RoomID":102,"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:14:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:09+08:00","userKey":285}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:14:09+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151589\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"61917413","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:14:09+08:00","userID":285}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:09+08:00","userKey":285}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:09+08:00","userKey":285}
{"appID":0,"data":"{\"seq\":\"61917413\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"颜良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:14:09+08:00","userID":285}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:14:09+08:00"}
{"appID":0,"data":"{\"seq\":\"61917413\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"颜良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:14:09+08:00","userID":285}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:285","time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.12 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-07T09:14:09+08:00"}
{"currentTime":1678151649,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151649474-477408\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:14:09+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151649474-477408\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:09+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:09+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151649474-477408\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:09+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:14:09+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151649\",\"172.30.41.217:9002\",\"1678151599\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.65 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-07T09:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151652923-825913\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:14:12+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151652923-825913\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:12+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:12+08:00"}
{"HeartbeatTime":1678151643,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:12+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151652923-825913\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151653475-829234\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:14:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151653475-829234\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:13+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:13+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151653475-829234\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151656470-176043\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:14:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151656470-176043\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:16+08:00"}
{"HeartbeatTime":1678151646,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151656470-176043\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151658472-599824\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:14:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151658472-599824\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151658472-599824\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151659476-516127\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:14:19+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151659476-516127\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:19+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:19+08:00"}
{"HeartbeatTime":1678151649,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:19+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151659476-516127\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:19+08:00"}
{"currentTime":1678151659,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:14:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:14:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151663470-161772\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:14:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151663470-931203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:14:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151663470-161772\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151663470-931203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:23+08:00"}
{"HeartbeatTime":1678151652,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:23+08:00","userKey":90}
{"HeartbeatTime":1678151653,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:23+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151663470-161772\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151663470-931203\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151666481-250800\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:14:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151666481-250800\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:26+08:00"}
{"HeartbeatTime":1678151656,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151666481-250800\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151668478-302297\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:14:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151668478-302297\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:28+08:00"}
{"HeartbeatTime":1678151658,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151668478-302297\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151669475-374950\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:14:29+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151669475-374950\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:29+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:29+08:00"}
{"HeartbeatTime":1678151659,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:29+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151669475-374950\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151672937-172894\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:14:32+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151672937-172894\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:32+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:32+08:00"}
{"HeartbeatTime":1678151663,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:32+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151672937-172894\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151673471-494078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:14:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151673471-494078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:33+08:00"}
{"HeartbeatTime":1678151663,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151673471-494078\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151676483-691615\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:14:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151676483-691615\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:36+08:00"}
{"HeartbeatTime":1678151666,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151676483-691615\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T09:14:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T09:14:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151678474-115172\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:14:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151678474-115172\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:38+08:00"}
{"HeartbeatTime":1678151668,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151678474-115172\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151679475-329853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:14:39+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151679475-329853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:39+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:39+08:00"}
{"HeartbeatTime":1678151669,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:39+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151679475-329853\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:14:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151683478-772152\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:14:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151683478-295108\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:14:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151683478-295108\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151683478-772152\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:43+08:00"}
{"HeartbeatTime":1678151673,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:43+08:00","userKey":288}
{"HeartbeatTime":1678151672,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:43+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151683478-295108\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151683478-772152\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151686478-847005\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:14:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151686478-847005\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:46+08:00"}
{"HeartbeatTime":1678151676,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151686478-847005\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151688474-871162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:14:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151688474-871162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:48+08:00"}
{"HeartbeatTime":1678151678,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151688474-871162\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151689475-764803\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:14:49+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151689475-764803\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:49+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:49+08:00"}
{"HeartbeatTime":1678151679,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:49+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151689475-764803\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:14:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151692935-581469\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:14:52+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151692935-581469\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:52+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:52+08:00"}
{"HeartbeatTime":1678151683,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:52+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151692935-581469\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151693477-554351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:14:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151693477-554351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:53+08:00"}
{"HeartbeatTime":1678151683,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151693477-554351\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151696472-630017\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:14:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151696472-630017\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:56+08:00"}
{"HeartbeatTime":1678151686,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151696472-630017\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151698473-431239\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:14:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151698473-431239\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:58+08:00"}
{"HeartbeatTime":1678151688,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151698473-431239\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151699480-529684\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:14:59+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151699480-529684\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:14:59+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:14:59+08:00"}
{"HeartbeatTime":1678151689,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:14:59+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151699480-529684\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:14:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151703478-509066\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:15:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151703479-780270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:15:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151703478-509066\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151703479-780270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:03+08:00"}
{"HeartbeatTime":1678151693,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:03+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151703478-509066\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:03+08:00"}
{"HeartbeatTime":1678151692,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151703479-780270\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T09:15:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T09:15:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151706480-294919\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:15:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151706480-294919\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:06+08:00"}
{"HeartbeatTime":1678151696,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151706480-294919\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T09:15:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T09:15:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151708473-792511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:15:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151708473-792511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:08+08:00"}
{"HeartbeatTime":1678151698,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151708473-792511\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:08+08:00"}
{"currentTime":1678151709,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:15:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151709479-223447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:15:09+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151709479-223447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:09+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:09+08:00"}
{"HeartbeatTime":1678151699,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:09+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151709479-223447\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:15:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151712929-498920\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:15:12+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151712929-498920\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:12+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:12+08:00"}
{"HeartbeatTime":1678151703,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:12+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151712929-498920\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151713482-777489\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:15:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151713482-777489\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:13+08:00"}
{"HeartbeatTime":1678151703,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:13+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151713482-777489\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151716483-388400\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:15:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151716483-388400\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:16+08:00"}
{"HeartbeatTime":1678151706,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151716483-388400\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151718472-973642\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:15:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151718472-973642\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:18+08:00"}
{"HeartbeatTime":1678151708,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151718472-973642\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151719067-794933\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","time":"2023-03-07T09:15:19+08:00"}
{"addr":"[::1]:37758","data":"{\"seq\":\"1678151719067-794933\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":265}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:19+08:00"}
{"UserId":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:19+08:00"}
{"HeartbeatTime":1678151709,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:19+08:00","userKey":265}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151719067-794933\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:19+08:00"}
{"currentTime":1678151719,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:15:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:15:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151723476-235048\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:15:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151723476-872825\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:15:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151723476-872825\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151723476-235048\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:23+08:00"}
{"HeartbeatTime":1678151713,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:23+08:00","userKey":288}
{"HeartbeatTime":1678151712,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:23+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151723476-872825\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151723476-235048\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T09:15:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.89 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T09:15:23+08:00"}
{"Addr":"[::1]:37758","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T09:15:23+08:00"}
{"client.Addr":"[::1]:37758","client.UserID":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T09:15:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151726257-115241\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:15:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151726257-115241\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:26+08:00"}
{"HeartbeatTime":1678151716,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151726257-115241\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151728475-576870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:15:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151728475-576870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:28+08:00"}
{"HeartbeatTime":1678151718,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151728475-576870\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151733477-964661\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:15:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151733477-964661\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151733477-936001\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:15:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151733477-936001\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:33+08:00"}
{"HeartbeatTime":1678151723,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:33+08:00","userKey":288}
{"HeartbeatTime":1678151723,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:33+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151733477-964661\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151733477-936001\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151735829-191240\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:15:35+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151735829-191240\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:35+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:35+08:00"}
{"HeartbeatTime":1678151726,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:35+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151735829-191240\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151738475-562741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:15:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151738475-562741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:38+08:00"}
{"HeartbeatTime":1678151728,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151738475-562741\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:15:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151743474-218396\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:15:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151743474-218396\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151743474-832017\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:15:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151743474-832017\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:43+08:00"}
{"HeartbeatTime":1678151733,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:43+08:00","userKey":90}
{"HeartbeatTime":1678151733,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:43+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151743474-218396\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151743474-832017\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151745833-230393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:15:45+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151745833-230393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:45+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:45+08:00"}
{"HeartbeatTime":1678151735,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:45+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151745833-230393\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151748476-514520\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:15:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151748476-514520\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:48+08:00"}
{"HeartbeatTime":1678151738,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151748476-514520\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:15:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151753474-342737\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:15:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151753474-342737\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151753474-893871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:15:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151753474-893871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:53+08:00"}
{"HeartbeatTime":1678151743,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:53+08:00","userKey":90}
{"HeartbeatTime":1678151743,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151753474-342737\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151753474-893871\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151755839-859500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:15:55+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151755839-859500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:55+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:55+08:00"}
{"HeartbeatTime":1678151745,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:55+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151755839-859500\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151758472-867084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:15:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151758472-867084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:15:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:15:58+08:00"}
{"HeartbeatTime":1678151748,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:15:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151758472-867084\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151763473-117055\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:16:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151763473-292141\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:16:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151763473-117055\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151763473-292141\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:03+08:00"}
{"HeartbeatTime":1678151753,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:03+08:00","userKey":288}
{"HeartbeatTime":1678151753,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151763473-292141\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:03+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151763473-117055\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151765842-429657\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:16:05+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151765842-429657\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:05+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:05+08:00"}
{"HeartbeatTime":1678151755,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:05+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151765842-429657\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151768477-101724\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:16:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151768477-101724\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:08+08:00"}
{"HeartbeatTime":1678151758,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151768477-101724\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:08+08:00"}
{"currentTime":1678151769,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:16:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:16:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151773474-596697\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:16:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151773474-596697\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151773474-527326\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:16:13+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151773474-527326\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:13+08:00"}
{"HeartbeatTime":1678151763,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:13+08:00","userKey":90}
{"HeartbeatTime":1678151763,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:13+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151773474-596697\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151773474-527326\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151775839-420348\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:16:15+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151775839-420348\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:15+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:15+08:00"}
{"HeartbeatTime":1678151765,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:15+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151775839-420348\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151778473-441081\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:16:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151778473-441081\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:18+08:00"}
{"HeartbeatTime":1678151768,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151778473-441081\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:18+08:00"}
{"currentTime":1678151779,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:16:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:16:20+08:00"}
{"client.Addr":"[::1]:37758","client.HeartbeatTime":1678151719,"client.LoginTime":1678151639,"client.UserID":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T09:16:20+08:00"}
{"HeartbeatTime":1678151719,"IsLogoff":false,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:20+08:00","userKey":265}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:37758","time":"2023-03-07T09:16:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:37758ok:false","time":"2023-03-07T09:16:20+08:00"}
{"client.Addr":"[::1]:37758","client.UserID":265,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T09:16:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:16:20+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151769\",\"172.30.41.217:9002\",\"1678151779\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"644105852","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:16:20+08:00","userID":265}
{"HeartbeatTime":1678151719,"IsLogoff":true,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:20+08:00","userKey":265}
{"HeartbeatTime":1678151719,"IsLogoff":true,"LoginTime":1678151639,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:20+08:00","userKey":265}
{"appID":0,"data":"{\"seq\":\"644105852\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"贾复\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T09:16:20+08:00","userID":265}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:16:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:16:20+08:00"}
{"appID":0,"data":"{\"seq\":\"644105852\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"贾复\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T09:16:20+08:00","userID":265}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151783474-723301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:16:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151783474-723301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151783474-465220\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:16:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151783474-465220\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:23+08:00"}
{"HeartbeatTime":1678151773,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:23+08:00","userKey":288}
{"HeartbeatTime":1678151773,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:23+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151783474-465220\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151783474-723301\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151785841-751934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:16:25+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151785841-751934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:25+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:25+08:00"}
{"HeartbeatTime":1678151775,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:25+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151785841-751934\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151788469-662665\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:16:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151788469-662665\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:28+08:00"}
{"HeartbeatTime":1678151778,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151788469-662665\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151793471-754535\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:16:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151793471-620921\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:16:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151793471-754535\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151793471-620921\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:33+08:00"}
{"HeartbeatTime":1678151783,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:33+08:00","userKey":90}
{"HeartbeatTime":1678151783,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151793471-620921\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151793471-754535\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151795842-336247\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:16:35+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151795842-336247\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:35+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:35+08:00"}
{"HeartbeatTime":1678151785,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:35+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151795842-336247\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151798476-199254\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:16:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151798476-199254\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:38+08:00"}
{"HeartbeatTime":1678151788,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151798476-199254\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:16:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151803471-920936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:16:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151803471-920936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151803471-519844\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:16:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151803471-519844\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:43+08:00"}
{"HeartbeatTime":1678151793,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:43+08:00","userKey":90}
{"HeartbeatTime":1678151793,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:43+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151803471-519844\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151803471-920936\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151805843-936339\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:16:45+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151805843-936339\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:45+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:45+08:00"}
{"HeartbeatTime":1678151795,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:45+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151805843-936339\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151808482-374434\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:16:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151808482-374434\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:48+08:00"}
{"HeartbeatTime":1678151798,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151808482-374434\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:16:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151813475-763148\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:16:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151813475-763148\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151813475-121829\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:16:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151813475-121829\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:53+08:00"}
{"HeartbeatTime":1678151803,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:53+08:00","userKey":90}
{"HeartbeatTime":1678151803,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151813475-763148\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151813475-121829\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151816476-933375\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:16:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151816476-933375\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:56+08:00"}
{"HeartbeatTime":1678151805,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151816476-933375\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151818474-119967\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:16:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151818474-119967\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:16:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:16:58+08:00"}
{"HeartbeatTime":1678151808,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:16:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151818474-119967\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:16:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151823473-518193\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:17:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151823473-403009\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:17:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151823473-403009\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151823473-518193\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:03+08:00"}
{"HeartbeatTime":1678151813,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:03+08:00","userKey":288}
{"HeartbeatTime":1678151813,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151823473-518193\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:03+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151823473-403009\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T09:17:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T09:17:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151826474-712790\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:17:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151826474-712790\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:06+08:00"}
{"HeartbeatTime":1678151816,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151826474-712790\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151828477-729303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:17:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151828477-729303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:08+08:00"}
{"HeartbeatTime":1678151818,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151828477-729303\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:08+08:00"}
{"currentTime":1678151829,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:17:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:17:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151833472-430922\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:17:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151833472-947226\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:17:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151833472-947226\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151833472-430922\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:13+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:13+08:00"}
{"HeartbeatTime":1678151823,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:13+08:00","userKey":288}
{"HeartbeatTime":1678151823,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:13+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151833472-430922\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151833472-947226\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151836474-416298\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:17:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151836474-416298\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:16+08:00"}
{"HeartbeatTime":1678151826,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151836474-416298\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151838474-188112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:17:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151838474-188112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:18+08:00"}
{"HeartbeatTime":1678151828,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151838474-188112\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:18+08:00"}
{"currentTime":1678151839,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:17:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:17:20+08:00"}
{"AppId":0,"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":74,"level":"info","msg":"Login Info","name":"倪瓒","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.96 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:36164","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:36164","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151841998-718251\",\"cmd\":\"bind\",\"data\":{\"userID\":74,\"appID\":0,\"token\":\"1678151841\"}}","time":"2023-03-07T09:17:21+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151841998-718251\",\"cmd\":\"bind\",\"data\":{\"userID\":74,\"appID\":0,\"token\":\"1678151841\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:21+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:21+08:00","userKey":74}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151841998-718251\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:36164","time":"2023-03-07T09:17:21+08:00"}
{"AppId":0,"RoomID":101,"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:17:23+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:23+08:00","userKey":74}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:23+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"240611933","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:17:23+08:00","userID":74}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:23+08:00","userKey":74}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:23+08:00","userKey":74}
{"appID":0,"data":"{\"seq\":\"240611933\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:17:23+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:17:23+08:00"}
{"appID":0,"data":"{\"seq\":\"240611933\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:17:23+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:74","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.08 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.29 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151843475-728517\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151843475-633100\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:17:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151843475-728517\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151843475-633100\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:23+08:00"}
{"HeartbeatTime":1678151833,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:23+08:00","userKey":90}
{"HeartbeatTime":1678151833,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:23+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151843475-728517\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151843475-633100\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:23+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:23+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"文征明\" userID:\"王勃\"","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[文征明 王勃]","time":"2023-03-07T09:17:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T09:17:23+08:00"}
{"AppId":0,"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:188","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"ExitChatRoom","time":"2023-03-07T09:17:25+08:00"}
{"AppId":0,"RoomID":102,"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T09:17:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:25+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:25+08:00","userKey":74}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"868603840","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:17:25+08:00","userID":74}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:25+08:00","userKey":74}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:25+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"869070334","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:17:25+08:00","userID":74}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:25+08:00","userKey":74}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:25+08:00","userKey":74}
{"appID":0,"data":"{\"seq\":\"868603840\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:17:25+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:17:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:17:25+08:00"}
{"appID":0,"data":"{\"seq\":\"868603840\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:17:25+08:00","userID":74}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:25+08:00","userKey":74}
{"appID":0,"data":"{\"seq\":\"869070334\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:17:25+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:17:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.9 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-07T09:17:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:17:25+08:00"}
{"appID":0,"data":"{\"seq\":\"869070334\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:17:25+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:74","time":"2023-03-07T09:17:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T09:17:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=5\u0026limit=5]","time":"2023-03-07T09:17:25+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-07T09:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-07T09:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:26+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-07T09:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:89","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-07T09:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.81 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-07T09:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151846474-115849\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:17:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151846474-115849\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:26+08:00"}
{"HeartbeatTime":1678151836,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151846474-115849\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151848472-693759\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:17:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151848472-693759\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:28+08:00"}
{"HeartbeatTime":1678151838,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151848472-693759\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151852470-142343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:17:32+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151852470-142343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:32+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:32+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:32+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151852470-142343\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151852804-868505\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:17:32+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151852804-868505\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:32+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:32+08:00"}
{"HeartbeatTime":1678151843,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:32+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151852804-868505\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151853494-230244\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:17:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151853494-230244\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:33+08:00"}
{"HeartbeatTime":1678151843,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:33+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151853494-230244\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151856470-444401\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:17:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151856470-444401\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:36+08:00"}
{"HeartbeatTime":1678151846,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151856470-444401\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151858478-373294\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:17:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151858478-373294\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:38+08:00"}
{"HeartbeatTime":1678151848,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151858478-373294\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:17:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151862479-104646\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:17:42+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151862479-104646\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:42+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:42+08:00"}
{"HeartbeatTime":1678151852,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:42+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151862479-104646\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151863468-687562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:17:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151863468-687562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:43+08:00"}
{"HeartbeatTime":1678151852,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:43+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151863468-687562\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151863484-786876\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:17:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151863484-786876\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:43+08:00"}
{"HeartbeatTime":1678151853,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:43+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151863484-786876\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678151864019-307463","roomID":102,"time":"2023-03-07T09:17:44+08:00","userID":285}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:44+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678151864019-307463","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:17:44+08:00","userID":285}
{"HeartbeatTime":1678151858,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:44+08:00","userKey":285}
{"HeartbeatTime":1678151858,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:44+08:00","userKey":285}
{"appID":0,"data":"{\"seq\":\"1678151864019-307463\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"颜良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:17:44+08:00","userID":285}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:17:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:17:44+08:00"}
{"appID":0,"data":"{\"seq\":\"1678151864019-307463\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"颜良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:17:44+08:00","userID":285}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.48 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T09:17:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151866474-765513\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:17:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151866474-765513\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:46+08:00"}
{"HeartbeatTime":1678151856,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151866474-765513\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151868483-792320\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:17:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151868483-792320\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:48+08:00"}
{"HeartbeatTime":1678151858,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151868483-792320\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:17:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678151871017-128310","roomID":102,"time":"2023-03-07T09:17:51+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:51+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678151871017-128310","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:17:51+08:00","userID":74}
{"HeartbeatTime":1678151862,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:51+08:00","userKey":74}
{"HeartbeatTime":1678151862,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:51+08:00","userKey":74}
{"appID":0,"data":"{\"seq\":\"1678151871017-128310\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:17:51+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:17:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:17:51+08:00"}
{"appID":0,"data":"{\"seq\":\"1678151871017-128310\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"倪瓒\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T09:17:51+08:00","userID":74}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.41 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T09:17:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151872475-423545\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:17:52+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151872475-423545\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:52+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:52+08:00"}
{"HeartbeatTime":1678151862,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:52+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151872475-423545\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151873092-784815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:17:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151873092-784815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:53+08:00"}
{"HeartbeatTime":1678151863,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151873092-784815\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151873472-387150\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:17:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151873472-387150\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:53+08:00"}
{"HeartbeatTime":1678151863,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:53+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151873472-387150\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151876484-479750\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:17:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151876484-479750\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:56+08:00"}
{"HeartbeatTime":1678151866,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151876484-479750\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"是是是","msg":"SendMessageAll","msgID":"1678151876617-442288","roomID":101,"time":"2023-03-07T09:17:56+08:00","userID":288}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T09:17:56+08:00","valByte":"[\"172.30.41.217:9001\",\"1678151829\",\"172.30.41.217:9002\",\"1678151839\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"是是是","msg":"SendUserMessageAll","msgID":"1678151876617-442288","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-07T09:17:56+08:00","userID":288}
{"HeartbeatTime":1678151873,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:56+08:00","userKey":288}
{"HeartbeatTime":1678151873,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:56+08:00","userKey":288}
{"appID":0,"data":"{\"seq\":\"1678151876617-442288\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"是是是\",\"from\":\"高览\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:17:56+08:00","userID":288}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-07T09:17:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:52","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-07T09:17:56+08:00"}
{"appID":0,"data":"{\"seq\":\"1678151876617-442288\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"是是是\",\"from\":\"高览\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T09:17:56+08:00","userID":288}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.03 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T09:17:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151878470-663462\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:17:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151878470-663462\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:17:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:17:58+08:00"}
{"HeartbeatTime":1678151868,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:17:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151878470-663462\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:17:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151882484-967500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:18:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151882484-967500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:02+08:00"}
{"HeartbeatTime":1678151872,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151882484-967500\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151883474-779902\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:18:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151883474-779902\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:03+08:00"}
{"HeartbeatTime":1678151873,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:03+08:00","userKey":288}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151883474-368004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:18:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151883474-368004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:03+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151883474-779902\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:03+08:00"}
{"HeartbeatTime":1678151873,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151883474-368004\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151885841-689252\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:18:05+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151885841-689252\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:05+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:05+08:00"}
{"HeartbeatTime":1678151876,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:05+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151885841-689252\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151888476-301585\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:18:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151888476-301585\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:08+08:00"}
{"HeartbeatTime":1678151878,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151888476-301585\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:08+08:00"}
{"currentTime":1678151889,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:18:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:18:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151892471-345778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:18:12+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151892471-345778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:12+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:12+08:00"}
{"HeartbeatTime":1678151882,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:12+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151892471-345778\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151893482-642370\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:18:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151893482-642370\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151893483-329303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:18:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151893483-329303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:13+08:00"}
{"HeartbeatTime":1678151883,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:13+08:00","userKey":288}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151893482-642370\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:13+08:00"}
{"HeartbeatTime":1678151883,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:13+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151893483-329303\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151895841-171475\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:18:15+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151895841-171475\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:15+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:15+08:00"}
{"HeartbeatTime":1678151885,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:15+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151895841-171475\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151898472-575949\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:18:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151898472-575949\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:18+08:00"}
{"HeartbeatTime":1678151888,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151898472-575949\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:18+08:00"}
{"currentTime":1678151899,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:18:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151902482-523528\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:18:22+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151902482-523528\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:22+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:22+08:00"}
{"HeartbeatTime":1678151892,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:22+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151902482-523528\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151903471-716723\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:18:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151903471-794886\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:18:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151903471-794886\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151903471-716723\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:23+08:00"}
{"HeartbeatTime":1678151893,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:23+08:00","userKey":288}
{"HeartbeatTime":1678151893,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:23+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151903471-716723\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151903471-794886\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151905834-831642\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:18:25+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151905834-831642\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:25+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:25+08:00"}
{"HeartbeatTime":1678151895,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:25+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151905834-831642\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151908478-459813\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:18:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151908478-459813\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:28+08:00"}
{"HeartbeatTime":1678151898,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151908478-459813\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151912481-956653\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:18:32+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151912481-956653\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:32+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:32+08:00"}
{"HeartbeatTime":1678151902,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:32+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151912481-956653\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151913473-592251\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151913473-696482\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:18:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151913473-696482\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151913473-592251\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:33+08:00"}
{"HeartbeatTime":1678151903,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:33+08:00","userKey":90}
{"HeartbeatTime":1678151903,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151913473-696482\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151913473-592251\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151915839-381045\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:18:35+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151915839-381045\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:35+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:35+08:00"}
{"HeartbeatTime":1678151905,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:35+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151915839-381045\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151918483-776915\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:18:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151918483-776915\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:38+08:00"}
{"HeartbeatTime":1678151908,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151918483-776915\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:18:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151922471-465093\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:18:42+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151922471-465093\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:42+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:42+08:00"}
{"HeartbeatTime":1678151912,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:42+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151922471-465093\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151923475-527176\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:18:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151923475-313550\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:18:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151923475-313550\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151923475-527176\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:43+08:00"}
{"HeartbeatTime":1678151913,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:43+08:00","userKey":288}
{"HeartbeatTime":1678151913,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:43+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151923475-313550\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151923475-527176\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151925837-252790\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:18:45+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151925837-252790\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:45+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:45+08:00"}
{"HeartbeatTime":1678151915,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:45+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151925837-252790\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151928471-415145\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:18:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151928471-415145\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:48+08:00"}
{"HeartbeatTime":1678151918,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151928471-415145\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151932477-779742\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:18:52+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151932477-779742\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:52+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:52+08:00"}
{"HeartbeatTime":1678151922,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:52+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151932477-779742\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151933480-945858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:18:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151933480-693998\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:18:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151933480-945858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151933480-693998\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:53+08:00"}
{"HeartbeatTime":1678151923,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:53+08:00","userKey":90}
{"HeartbeatTime":1678151923,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151933480-693998\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151933480-945858\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151935840-914538\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:18:55+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151935840-914538\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:55+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:55+08:00"}
{"HeartbeatTime":1678151925,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:55+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151935840-914538\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151938471-645976\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:18:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151938471-645976\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:18:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:18:58+08:00"}
{"HeartbeatTime":1678151928,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:18:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151938471-645976\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:18:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151942475-488975\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:19:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151942475-488975\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:02+08:00"}
{"HeartbeatTime":1678151932,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151942475-488975\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151943471-178712\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:19:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151943471-178712\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151943470-544065\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:19:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151943470-544065\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:03+08:00"}
{"HeartbeatTime":1678151933,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:03+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151943470-544065\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:03+08:00"}
{"HeartbeatTime":1678151933,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151943471-178712\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151945837-169719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:19:05+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151945837-169719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:05+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:05+08:00"}
{"HeartbeatTime":1678151935,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:05+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151945837-169719\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151948471-967558\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:19:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151948471-967558\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:08+08:00"}
{"HeartbeatTime":1678151938,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151948471-967558\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:08+08:00"}
{"currentTime":1678151949,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:19:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:19:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151952471-176775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:19:12+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151952471-176775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:12+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:12+08:00"}
{"HeartbeatTime":1678151942,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:12+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151952471-176775\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151953473-971398\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:19:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151953473-939706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:19:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151953473-971398\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151953473-939706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:13+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:13+08:00"}
{"HeartbeatTime":1678151943,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:13+08:00","userKey":288}
{"HeartbeatTime":1678151943,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:13+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151953473-939706\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151953473-971398\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151955841-683944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:19:15+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151955841-683944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:15+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:15+08:00"}
{"HeartbeatTime":1678151945,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:15+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151955841-683944\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151958483-480809\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:19:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151958483-480809\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:18+08:00"}
{"HeartbeatTime":1678151948,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151958483-480809\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:18+08:00"}
{"currentTime":1678151959,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:19:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:19:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151962470-319096\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:19:22+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151962470-319096\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:22+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:22+08:00"}
{"HeartbeatTime":1678151952,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:22+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151962470-319096\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151963475-663152\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:19:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151963476-489464\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:19:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151963475-663152\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151963476-489464\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:23+08:00"}
{"HeartbeatTime":1678151953,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:23+08:00","userKey":90}
{"HeartbeatTime":1678151953,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:23+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151963476-489464\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151963475-663152\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151965835-323733\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:19:25+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151965835-323733\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:25+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:25+08:00"}
{"HeartbeatTime":1678151955,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:25+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151965835-323733\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151968471-968409\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:19:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151968471-968409\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:28+08:00"}
{"HeartbeatTime":1678151958,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151968471-968409\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151972484-425468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:19:32+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151972484-425468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:32+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:32+08:00"}
{"HeartbeatTime":1678151962,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:32+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151972484-425468\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151973475-945747\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:19:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151973475-945747\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151973475-372242\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:19:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151973475-372242\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:33+08:00"}
{"HeartbeatTime":1678151963,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:33+08:00","userKey":90}
{"HeartbeatTime":1678151963,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151973475-945747\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151973475-372242\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151975834-396754\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:19:35+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151975834-396754\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:35+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:35+08:00"}
{"HeartbeatTime":1678151965,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:35+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151975834-396754\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151978478-232109\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:19:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151978478-232109\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:38+08:00"}
{"HeartbeatTime":1678151968,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151978478-232109\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:19:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151982470-507913\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:19:42+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151982470-507913\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:42+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:42+08:00"}
{"HeartbeatTime":1678151972,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:42+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151982470-507913\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151983472-996682\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:19:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151983472-976262\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:19:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151983472-976262\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151983472-996682\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:43+08:00"}
{"HeartbeatTime":1678151973,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:43+08:00","userKey":90}
{"HeartbeatTime":1678151973,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:43+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151983472-996682\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151983472-976262\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151985838-596709\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:19:45+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151985838-596709\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:45+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:45+08:00"}
{"HeartbeatTime":1678151975,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:45+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151985838-596709\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151988479-457738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:19:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151988479-457738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:48+08:00"}
{"HeartbeatTime":1678151978,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151988479-457738\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:19:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151992474-715653\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:19:52+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678151992474-715653\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:52+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:52+08:00"}
{"HeartbeatTime":1678151982,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:52+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151992474-715653\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151993469-683855\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:19:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678151993469-683855\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151993469-486835\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:19:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678151993469-486835\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:53+08:00"}
{"HeartbeatTime":1678151983,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:53+08:00","userKey":90}
{"HeartbeatTime":1678151983,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151993469-486835\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151993469-683855\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151995839-853471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:19:55+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678151995839-853471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:55+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:55+08:00"}
{"HeartbeatTime":1678151985,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:55+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151995839-853471\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678151998480-178839\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:19:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678151998480-178839\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:19:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:19:58+08:00"}
{"HeartbeatTime":1678151988,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:19:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678151998480-178839\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:19:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152002469-139011\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:20:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152002469-139011\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:02+08:00"}
{"HeartbeatTime":1678151992,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152002469-139011\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152003482-955567\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:20:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152003482-862802\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:20:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152003482-955567\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152003482-862802\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:03+08:00"}
{"HeartbeatTime":1678151993,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:03+08:00","userKey":90}
{"HeartbeatTime":1678151993,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:03+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152003482-955567\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:03+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152003482-862802\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152005839-290874\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:20:05+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152005839-290874\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:05+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:05+08:00"}
{"HeartbeatTime":1678151995,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:05+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152005839-290874\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152008482-256489\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:20:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152008482-256489\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:08+08:00"}
{"HeartbeatTime":1678151998,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152008482-256489\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:08+08:00"}
{"currentTime":1678152009,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:20:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:20:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152012474-483247\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:20:12+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152012474-483247\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:12+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:12+08:00"}
{"HeartbeatTime":1678152002,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:12+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152012474-483247\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152013468-511973\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:20:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152013468-542694\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:20:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152013468-542694\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152013468-511973\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:13+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:13+08:00"}
{"HeartbeatTime":1678152003,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:13+08:00","userKey":288}
{"HeartbeatTime":1678152003,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:13+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152013468-511973\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152013468-542694\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152015843-117371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:20:15+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152015843-117371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:15+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:15+08:00"}
{"HeartbeatTime":1678152005,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:15+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152015843-117371\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152018479-136817\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:20:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152018479-136817\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:18+08:00"}
{"HeartbeatTime":1678152008,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152018479-136817\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:18+08:00"}
{"currentTime":1678152019,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:20:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:20:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152022481-959508\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:20:22+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152022481-959508\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:22+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:22+08:00"}
{"HeartbeatTime":1678152012,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:22+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152022481-959508\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152023482-143808\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:20:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152023482-143808\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152023482-861589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:20:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152023482-861589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:23+08:00"}
{"HeartbeatTime":1678152013,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:23+08:00","userKey":90}
{"HeartbeatTime":1678152013,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:23+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152023482-143808\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152023482-861589\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152025842-669265\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:20:25+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152025842-669265\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:25+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:25+08:00"}
{"HeartbeatTime":1678152015,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:25+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152025842-669265\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152028477-552156\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:20:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152028477-552156\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:28+08:00"}
{"HeartbeatTime":1678152018,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152028477-552156\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152032473-511282\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:20:32+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152032473-511282\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:32+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:32+08:00"}
{"HeartbeatTime":1678152022,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:32+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152032473-511282\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152033470-552164\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:20:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152033469-668637\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:20:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152033470-552164\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152033469-668637\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:33+08:00"}
{"HeartbeatTime":1678152023,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:33+08:00","userKey":90}
{"HeartbeatTime":1678152023,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152033470-552164\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152033469-668637\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152035838-891717\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:20:35+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152035838-891717\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:35+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:35+08:00"}
{"HeartbeatTime":1678152025,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:35+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152035838-891717\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152038471-170132\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:20:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152038471-170132\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:38+08:00"}
{"HeartbeatTime":1678152028,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152038471-170132\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:20:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152042472-204067\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:20:42+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152042472-204067\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:42+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:42+08:00"}
{"HeartbeatTime":1678152032,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:42+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152042472-204067\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152043481-577767\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:20:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152043481-935904\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:20:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152043481-935904\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152043481-577767\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:43+08:00"}
{"HeartbeatTime":1678152033,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:43+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152043481-935904\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:43+08:00"}
{"HeartbeatTime":1678152033,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:43+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152043481-577767\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152046470-147327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:20:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152046470-147327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:46+08:00"}
{"HeartbeatTime":1678152035,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152046470-147327\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152048470-154911\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:20:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152048470-154911\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:48+08:00"}
{"HeartbeatTime":1678152038,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152048470-154911\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:20:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152052471-517965\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:20:52+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152052471-517965\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:52+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:52+08:00"}
{"HeartbeatTime":1678152042,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:52+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152052471-517965\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152053474-504788\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:20:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152053474-659830\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:20:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152053474-659830\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152053474-504788\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:53+08:00"}
{"HeartbeatTime":1678152043,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:53+08:00","userKey":90}
{"HeartbeatTime":1678152043,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152053474-659830\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152053474-504788\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152056472-178869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:20:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152056472-178869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:56+08:00"}
{"HeartbeatTime":1678152046,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152056472-178869\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152058471-940564\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:20:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152058471-940564\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:20:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:20:58+08:00"}
{"HeartbeatTime":1678152048,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:20:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152058471-940564\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:20:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152062472-868074\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:21:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152062472-868074\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:02+08:00"}
{"HeartbeatTime":1678152052,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152062472-868074\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152063472-918698\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:21:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152063472-947076\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:21:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152063472-947076\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152063472-918698\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:03+08:00"}
{"HeartbeatTime":1678152053,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:03+08:00","userKey":288}
{"HeartbeatTime":1678152053,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:03+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152063472-947076\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:03+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152063472-918698\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152066469-226371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:21:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152066469-226371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:06+08:00"}
{"HeartbeatTime":1678152056,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152066469-226371\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152068473-709183\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:21:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152068473-709183\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:08+08:00"}
{"HeartbeatTime":1678152058,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152068473-709183\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:08+08:00"}
{"currentTime":1678152069,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:21:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:21:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152072472-120046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:21:12+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152072472-120046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:12+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:12+08:00"}
{"HeartbeatTime":1678152062,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:12+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152072472-120046\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152073470-291226\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:21:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152073470-443773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:21:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152073470-443773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152073470-291226\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:13+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:13+08:00"}
{"HeartbeatTime":1678152063,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:13+08:00","userKey":288}
{"HeartbeatTime":1678152063,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:13+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152073470-291226\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152073470-443773\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152076471-347790\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:21:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152076471-347790\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:16+08:00"}
{"HeartbeatTime":1678152066,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152076471-347790\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152078471-176592\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:21:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152078471-176592\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:18+08:00"}
{"HeartbeatTime":1678152068,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152078471-176592\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:18+08:00"}
{"currentTime":1678152079,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:21:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:21:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152082472-313793\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:21:22+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152082472-313793\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:22+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:22+08:00"}
{"HeartbeatTime":1678152072,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:22+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152082472-313793\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152083471-159182\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:21:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152083471-210350\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:21:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152083471-159182\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152083471-210350\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:23+08:00"}
{"HeartbeatTime":1678152073,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:23+08:00","userKey":288}
{"HeartbeatTime":1678152073,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:23+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152083471-159182\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152083471-210350\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152086468-532420\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:21:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152086468-532420\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:26+08:00"}
{"HeartbeatTime":1678152076,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152086468-532420\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152088483-898993\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:21:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152088483-898993\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:28+08:00"}
{"HeartbeatTime":1678152078,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152088483-898993\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152092471-140564\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:21:32+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152092471-140564\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:32+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:32+08:00"}
{"HeartbeatTime":1678152082,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:32+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152092471-140564\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152093478-713312\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:21:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152093478-339248\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:21:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152093478-339248\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152093478-713312\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:33+08:00"}
{"HeartbeatTime":1678152083,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:33+08:00","userKey":90}
{"HeartbeatTime":1678152083,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152093478-339248\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152093478-713312\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152096481-120108\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:21:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152096481-120108\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:36+08:00"}
{"HeartbeatTime":1678152086,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152096481-120108\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152098473-401908\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:21:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152098473-401908\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:38+08:00"}
{"HeartbeatTime":1678152088,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152098473-401908\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:21:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152102473-647674\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:21:42+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152102473-647674\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:42+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:42+08:00"}
{"HeartbeatTime":1678152092,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:42+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152102473-647674\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152103481-171879\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:21:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152103481-934905\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:21:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152103481-171879\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152103481-934905\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:43+08:00"}
{"HeartbeatTime":1678152093,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:43+08:00","userKey":288}
{"HeartbeatTime":1678152093,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:43+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152103481-171879\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152103481-934905\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152106473-702630\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:21:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152106473-702630\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:46+08:00"}
{"HeartbeatTime":1678152096,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152106473-702630\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152108483-776101\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:21:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152108483-776101\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:48+08:00"}
{"HeartbeatTime":1678152098,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152108483-776101\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:21:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152112471-364104\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:21:52+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152112471-364104\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:52+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:52+08:00"}
{"HeartbeatTime":1678152102,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:52+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152112471-364104\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152113477-636171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:21:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152113476-401220\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:21:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152113476-401220\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152113477-636171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:53+08:00"}
{"HeartbeatTime":1678152103,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:53+08:00","userKey":90}
{"HeartbeatTime":1678152103,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152113477-636171\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152113476-401220\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152116473-420878\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:21:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152116473-420878\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:56+08:00"}
{"HeartbeatTime":1678152106,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152116473-420878\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152118472-553686\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:21:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152118472-553686\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:21:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:21:58+08:00"}
{"HeartbeatTime":1678152108,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:21:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152118472-553686\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:21:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152122472-999828\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:22:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152122472-999828\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:02+08:00"}
{"HeartbeatTime":1678152112,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152122472-999828\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152123477-279547\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:22:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152123477-108751\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:22:03+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152123477-108751\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:03+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152123477-279547\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:03+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:03+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:03+08:00"}
{"HeartbeatTime":1678152113,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:03+08:00","userKey":90}
{"HeartbeatTime":1678152113,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:03+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152123477-279547\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:03+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152123477-108751\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152126469-318456\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:22:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152126469-318456\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:06+08:00"}
{"HeartbeatTime":1678152116,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152126469-318456\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152128483-111610\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:22:08+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152128483-111610\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:08+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:08+08:00"}
{"HeartbeatTime":1678152118,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:08+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152128483-111610\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:08+08:00"}
{"currentTime":1678152129,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:22:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:22:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152132470-693927\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:22:12+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152132470-693927\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:12+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:12+08:00"}
{"HeartbeatTime":1678152122,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:12+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152132470-693927\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152133480-785404\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:22:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152133481-776203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:22:13+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152133480-785404\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:13+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:13+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152133481-776203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:13+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:13+08:00"}
{"HeartbeatTime":1678152123,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:13+08:00","userKey":288}
{"HeartbeatTime":1678152123,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:13+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152133480-785404\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:13+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152133481-776203\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152136481-628972\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:22:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152136481-628972\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:16+08:00"}
{"HeartbeatTime":1678152126,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152136481-628972\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152138469-868869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:22:18+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152138469-868869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:18+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:18+08:00"}
{"HeartbeatTime":1678152128,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:18+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152138469-868869\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:18+08:00"}
{"currentTime":1678152139,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:22:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:22:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152142471-891402\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:22:22+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152142471-891402\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:22+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:22+08:00"}
{"HeartbeatTime":1678152132,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:22+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152142471-891402\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152143473-339581\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:22:23+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152143473-339581\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:23+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152143473-136736\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:22:23+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152143473-136736\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:23+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:23+08:00"}
{"HeartbeatTime":1678152133,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:23+08:00","userKey":288}
{"HeartbeatTime":1678152133,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:23+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152143473-136736\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:23+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152143473-339581\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152146472-868854\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:22:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152146472-868854\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:26+08:00"}
{"HeartbeatTime":1678152136,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152146472-868854\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152148483-767389\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:22:28+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152148483-767389\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:28+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:28+08:00"}
{"HeartbeatTime":1678152138,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:28+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152148483-767389\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152152482-326315\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:22:32+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152152482-326315\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:32+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:32+08:00"}
{"HeartbeatTime":1678152142,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:32+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152152482-326315\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152153470-316877\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:22:33+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152153470-316877\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152153470-821367\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:22:33+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:33+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152153470-821367\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:33+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:33+08:00"}
{"HeartbeatTime":1678152143,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:33+08:00","userKey":90}
{"HeartbeatTime":1678152143,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:33+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152153470-821367\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:33+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152153470-316877\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152156470-719816\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:22:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152156470-719816\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:36+08:00"}
{"HeartbeatTime":1678152146,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152156470-719816\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152158473-262881\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:22:38+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152158473-262881\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:38+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:38+08:00"}
{"HeartbeatTime":1678152148,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:38+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152158473-262881\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:22:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152162483-327837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:22:42+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152162483-327837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:42+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:42+08:00"}
{"HeartbeatTime":1678152152,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:42+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152162483-327837\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152163470-561675\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:22:43+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152163470-561675\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:43+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152163470-349285\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:22:43+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152163470-349285\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:43+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:43+08:00"}
{"HeartbeatTime":1678152153,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:43+08:00","userKey":90}
{"HeartbeatTime":1678152153,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:43+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152163470-561675\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:43+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152163470-349285\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152166473-807301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:22:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152166473-807301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:46+08:00"}
{"HeartbeatTime":1678152156,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152166473-807301\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152168481-849120\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:22:48+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152168481-849120\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:48+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:48+08:00"}
{"HeartbeatTime":1678152158,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:48+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152168481-849120\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152172483-573105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:22:52+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152172483-573105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:52+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:52+08:00"}
{"HeartbeatTime":1678152162,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:52+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152172483-573105\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152173470-597100\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152173470-536984\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:22:53+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152173470-536984\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:53+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152173470-597100\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:53+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:53+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:53+08:00"}
{"HeartbeatTime":1678152163,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:53+08:00","userKey":90}
{"HeartbeatTime":1678152163,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:53+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152173470-536984\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:53+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152173470-597100\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152176470-237224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:22:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152176470-237224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:56+08:00"}
{"HeartbeatTime":1678152166,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152176470-237224\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152178470-535235\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:22:58+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152178470-535235\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:22:58+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:22:58+08:00"}
{"HeartbeatTime":1678152168,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:22:58+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152178470-535235\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:22:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152182468-260756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:23:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152182468-260756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:02+08:00"}
{"HeartbeatTime":1678152172,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152182468-260756\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152186476-451587\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:23:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152186476-451587\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:06+08:00"}
{"HeartbeatTime":1678152176,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152186476-451587\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:06+08:00"}
{"currentTime":1678152189,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:23:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:23:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152196473-196029\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:23:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152196473-196029\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:16+08:00"}
{"HeartbeatTime":1678152186,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152196473-196029\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:16+08:00"}
{"currentTime":1678152199,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:23:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:23:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152206472-862193\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:23:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152206472-862193\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:26+08:00"}
{"HeartbeatTime":1678152196,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152206472-862193\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152216475-764022\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:23:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152216475-764022\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:36+08:00"}
{"HeartbeatTime":1678152206,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152216475-764022\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:23:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152226483-398735\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:23:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152226483-398735\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:46+08:00"}
{"HeartbeatTime":1678152216,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152226483-398735\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:23:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152236469-496883\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:23:56+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152236469-496883\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:56+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152236470-514859\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:23:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152236470-514859\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:56+08:00"}
{"HeartbeatTime":1678152173,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:56+08:00","userKey":90}
{"HeartbeatTime":1678152226,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152236469-496883\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:56+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152236470-514859\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152239471-370199\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:23:59+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152239471-370199\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:23:59+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:23:59+08:00"}
{"HeartbeatTime":1678152178,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:23:59+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152239471-370199\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:23:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152242472-627702\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:24:02+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152242472-627702\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152242472-736622\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:24:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152242472-736622\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:02+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:02+08:00"}
{"HeartbeatTime":1678152173,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:02+08:00","userKey":288}
{"HeartbeatTime":1678152182,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152242472-627702\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152242472-736622\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152246473-906375\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:24:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152246473-906375\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:06+08:00"}
{"HeartbeatTime":1678152236,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152246473-906375\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:06+08:00"}
{"currentTime":1678152249,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:24:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:24:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152256471-244718\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:24:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152256471-244718\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:16+08:00"}
{"HeartbeatTime":1678152246,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152256471-244718\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:16+08:00"}
{"currentTime":1678152259,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:24:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:24:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152266470-210111\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:24:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152266470-210111\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:26+08:00"}
{"HeartbeatTime":1678152256,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152266470-210111\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152276483-554357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:24:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152276483-554357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:36+08:00"}
{"HeartbeatTime":1678152266,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152276483-554357\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:24:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152286482-683308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:24:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152286482-683308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:46+08:00"}
{"HeartbeatTime":1678152276,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152286482-683308\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:24:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152296466-576846\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:24:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152296466-576846\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:56+08:00"}
{"HeartbeatTime":1678152286,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152296466-576846\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152297472-995270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:24:57+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152297472-995270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:24:57+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:24:57+08:00"}
{"HeartbeatTime":1678152236,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:24:57+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152297472-995270\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:24:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152300482-338644\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:25:00+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152300482-338644\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:00+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:00+08:00"}
{"HeartbeatTime":1678152239,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:00+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152300482-338644\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152302481-403302\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:25:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152302481-403302\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152302481-762187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:25:02+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152302481-762187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:02+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:02+08:00"}
{"HeartbeatTime":1678152242,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:02+08:00","userKey":288}
{"HeartbeatTime":1678152242,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:02+08:00","userKey":74}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152302481-403302\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152302481-762187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152306465-866042\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:25:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152306465-866042\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:06+08:00"}
{"HeartbeatTime":1678152296,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152306465-866042\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:06+08:00"}
{"currentTime":1678152309,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:25:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:25:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152316481-723739\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:25:16+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152316481-723739\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:16+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:16+08:00"}
{"HeartbeatTime":1678152306,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:16+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152316481-723739\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:16+08:00"}
{"currentTime":1678152319,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:25:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:25:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152326473-824070\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:25:26+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152326473-824070\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:26+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:26+08:00"}
{"HeartbeatTime":1678152316,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:26+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152326473-824070\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152336479-869674\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:25:36+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152336479-869674\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:36+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:36+08:00"}
{"HeartbeatTime":1678152326,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:36+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152336479-869674\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:25:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152346470-259601\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:25:46+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152346470-259601\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:46+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:46+08:00"}
{"HeartbeatTime":1678152336,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:46+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152346470-259601\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:25:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152356483-717110\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:25:56+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152356483-717110\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:56+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:56+08:00"}
{"HeartbeatTime":1678152346,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:56+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152356483-717110\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152358475-770220\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:25:58+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152358475-770220\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:25:58+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:25:58+08:00"}
{"HeartbeatTime":1678152297,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:25:58+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152358475-770220\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:25:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152361482-525545\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:26:01+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152361482-525545\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:26:01+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:26:01+08:00"}
{"HeartbeatTime":1678152300,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:26:01+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152361482-525545\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:26:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152362471-226981\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:26:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152362471-226981\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:26:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152362471-136931\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:26:02+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152362471-136931\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:26:02+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:26:02+08:00"}
{"HeartbeatTime":1678152302,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:26:02+08:00","userKey":74}
{"HeartbeatTime":1678152302,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:26:02+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152362471-226981\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:26:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152362471-136931\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152366470-275413\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:26:06+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152366470-275413\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:26:06+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:26:06+08:00"}
{"HeartbeatTime":1678152356,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:26:06+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152366470-275413\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:26:06+08:00"}
{"currentTime":1678152369,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:26:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:26:10+08:00"}
{"currentTime":1678152379,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-07T09:26:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:26:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:26:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:26:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152419477-454009\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","time":"2023-03-07T09:26:59+08:00"}
{"addr":"[::1]:48992","data":"{\"seq\":\"1678152419477-454009\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":90}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:26:59+08:00"}
{"UserId":90,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:26:59+08:00"}
{"HeartbeatTime":1678152358,"IsLogoff":false,"LoginTime":1678151632,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:26:59+08:00","userKey":90}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152419477-454009\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:26:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152422483-833597\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-07T09:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152422482-350978\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","time":"2023-03-07T09:27:02+08:00"}
{"addr":"[::1]:37766","data":"{\"seq\":\"1678152422482-350978\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":288}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:27:02+08:00"}
{"addr":"[::1]:48998","data":"{\"seq\":\"1678152422483-833597\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:27:02+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152422483-326297\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","time":"2023-03-07T09:27:02+08:00"}
{"addr":"[::1]:36164","data":"{\"seq\":\"1678152422483-326297\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":74}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:27:02+08:00"}
{"UserId":74,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678152422483-251093\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T09:27:02+08:00"}
{"addr":"[::1]:46512","data":"{\"seq\":\"1678152422483-251093\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T09:27:02+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:27:02+08:00"}
{"UserId":288,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T09:27:02+08:00"}
{"HeartbeatTime":1678152362,"IsLogoff":false,"LoginTime":1678151841,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:27:02+08:00","userKey":74}
{"HeartbeatTime":1678152366,"IsLogoff":false,"LoginTime":1678151635,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:27:02+08:00","userKey":24}
{"HeartbeatTime":1678152362,"IsLogoff":false,"LoginTime":1678151642,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:27:02+08:00","userKey":288}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152422483-326297\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:27:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152422483-833597\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:27:02+08:00"}
{"HeartbeatTime":1678152361,"IsLogoff":false,"LoginTime":1678151648,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T09:27:02+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152422482-350978\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:27:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678152422483-251093\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T09:27:02+08:00"}
{"currentTime":1678152429,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T09:27:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T09:27:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T10:12:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T10:12:47+08:00"}
{"currentTime":1678155169,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:12:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:12:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:12:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.81 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:12:51+08:00"}
{"AppId":0,"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":409,"level":"info","msg":"Login Info","name":"许敬宗","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.04 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51522","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:51522","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155197709-479501\",\"cmd\":\"bind\",\"data\":{\"userID\":409,\"appID\":0,\"token\":\"1678155197\"}}","time":"2023-03-07T10:13:17+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155197709-479501\",\"cmd\":\"bind\",\"data\":{\"userID\":409,\"appID\":0,\"token\":\"1678155197\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:13:17+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:17+08:00","userKey":409}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155197709-479501\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:51522","time":"2023-03-07T10:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:13:20+08:00"}
{"AppId":0,"RoomID":101,"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:13:20+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:20+08:00","userKey":409}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:13:20+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155169\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"178818207","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:13:20+08:00","userID":409}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:20+08:00","userKey":409}
{"appID":0,"data":"{\"seq\":\"178818207\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"许敬宗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:13:20+08:00","userID":409}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:409","time":"2023-03-07T10:13:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.04 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:13:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.94 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:13:20+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:13:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:13:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:13:20+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155169\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.04 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:13:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155207715-108136\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","time":"2023-03-07T10:13:27+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155207715-108136\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:13:27+08:00"}
{"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:13:27+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:27+08:00","userKey":409}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155207715-108136\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:13:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155217713-757737\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","time":"2023-03-07T10:13:37+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155217713-757737\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:13:37+08:00"}
{"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:13:37+08:00"}
{"HeartbeatTime":1678155207,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:37+08:00","userKey":409}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155217713-757737\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:13:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155227712-704437\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","time":"2023-03-07T10:13:47+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155227712-704437\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:13:47+08:00"}
{"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:13:47+08:00"}
{"HeartbeatTime":1678155217,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:47+08:00","userKey":409}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155227712-704437\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:13:47+08:00"}
{"currentTime":1678155229,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:13:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:13:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155237725-198315\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","time":"2023-03-07T10:13:57+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155237725-198315\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:13:57+08:00"}
{"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:13:57+08:00"}
{"HeartbeatTime":1678155227,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:13:57+08:00","userKey":409}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155237725-198315\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:13:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155247711-409711\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","time":"2023-03-07T10:14:07+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155247711-409711\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:14:07+08:00"}
{"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:14:07+08:00"}
{"HeartbeatTime":1678155237,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:07+08:00","userKey":409}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155247711-409711\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:14:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155257718-672078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","time":"2023-03-07T10:14:17+08:00"}
{"addr":"[::1]:51522","data":"{\"seq\":\"1678155257718-672078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":409}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:14:17+08:00"}
{"UserId":409,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:14:17+08:00"}
{"HeartbeatTime":1678155247,"IsLogoff":false,"LoginTime":1678155197,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:17+08:00","userKey":409}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155257718-672078\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:14:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:14:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T10:14:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T10:14:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:14:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.96 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:14:25+08:00"}
{"currentTime":1678155266,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:14:26+08:00"}
{"AppId":0,"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":17,"level":"info","msg":"Login Info","name":"施耐庵","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.46 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:52288","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:52288","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155267034-954871\",\"cmd\":\"bind\",\"data\":{\"userID\":17,\"appID\":0,\"token\":\"1678155267\"}}","time":"2023-03-07T10:14:27+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155267034-954871\",\"cmd\":\"bind\",\"data\":{\"userID\":17,\"appID\":0,\"token\":\"1678155267\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:14:27+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:27+08:00","userKey":17}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155267034-954871\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:52288","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:14:27+08:00"}
{"AppId":0,"RoomID":101,"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:14:27+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:27+08:00","userKey":17}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:14:27+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155266\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"819157249","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:14:27+08:00","userID":17}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:27+08:00","userKey":17}
{"appID":0,"data":"{\"seq\":\"819157249\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"施耐庵\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:14:27+08:00","userID":17}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:17","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.51 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:14:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:14:27+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:14:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:14:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:14:28+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155266\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:14:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155277038-144453\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:14:37+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155277038-144453\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:14:37+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:14:37+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:37+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155277038-144453\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:14:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155287041-758957\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:14:47+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155287041-758957\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:14:47+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:14:47+08:00"}
{"HeartbeatTime":1678155277,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:47+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155287041-758957\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:14:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155297041-134246\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:14:57+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155297041-134246\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:14:57+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:14:57+08:00"}
{"HeartbeatTime":1678155287,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:14:57+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155297041-134246\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:14:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:14:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155307043-475933\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:15:07+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155307043-475933\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:15:07+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:15:07+08:00"}
{"HeartbeatTime":1678155297,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:07+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155307043-475933\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:15:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155317048-128412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:15:17+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155317048-128412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:15:17+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:15:17+08:00"}
{"HeartbeatTime":1678155307,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:17+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155317048-128412\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:15:17+08:00"}
{"currentTime":1678155326,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:15:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155327044-300167\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:15:27+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155327044-300167\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:15:27+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:15:27+08:00"}
{"HeartbeatTime":1678155317,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:27+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155327044-300167\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:15:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:15:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155337049-521673\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:15:37+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155337049-521673\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:15:37+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:15:37+08:00"}
{"HeartbeatTime":1678155327,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:37+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155337049-521673\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:15:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155347051-319923\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","time":"2023-03-07T10:15:47+08:00"}
{"addr":"[::1]:52288","data":"{\"seq\":\"1678155347051-319923\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":17}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:15:47+08:00"}
{"UserId":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:15:47+08:00"}
{"HeartbeatTime":1678155337,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:47+08:00","userKey":17}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155347051-319923\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:15:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:15:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.28 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:15:56+08:00"}
{"Addr":"[::1]:52288","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:15:56+08:00"}
{"client.Addr":"[::1]:52288","client.UserID":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:15:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:15:57+08:00"}
{"AppId":0,"UserId":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":85,"level":"info","msg":"Login Info","name":"祝枝山","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:57422","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:57422","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155358533-820900\",\"cmd\":\"bind\",\"data\":{\"userID\":85,\"appID\":0,\"token\":\"1678155358\"}}","time":"2023-03-07T10:15:58+08:00"}
{"addr":"[::1]:57422","data":"{\"seq\":\"1678155358533-820900\",\"cmd\":\"bind\",\"data\":{\"userID\":85,\"appID\":0,\"token\":\"1678155358\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:15:58+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:58+08:00","userKey":85}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155358533-820900\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:15:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:57422","time":"2023-03-07T10:15:58+08:00"}
{"AppId":0,"RoomID":101,"UserId":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:15:59+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:59+08:00","userKey":85}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:15:59+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155326\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"78694243","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:15:59+08:00","userID":85}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:15:59+08:00","userKey":85}
{"appID":0,"data":"{\"seq\":\"78694243\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"祝枝山\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:15:59+08:00","userID":85}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:85","time":"2023-03-07T10:15:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.65 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:15:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.47 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:15:59+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:15:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:15:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:15:59+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155326\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.69 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:15:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155368547-993762\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":85}}","time":"2023-03-07T10:16:08+08:00"}
{"addr":"[::1]:57422","data":"{\"seq\":\"1678155368547-993762\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":85}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:16:08+08:00"}
{"UserId":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:16:08+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:08+08:00","userKey":85}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155368547-993762\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:16:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155378546-588022\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":85}}","time":"2023-03-07T10:16:18+08:00"}
{"addr":"[::1]:57422","data":"{\"seq\":\"1678155378546-588022\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":85}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:16:18+08:00"}
{"UserId":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:16:18+08:00"}
{"HeartbeatTime":1678155368,"IsLogoff":false,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:18+08:00","userKey":85}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155378546-588022\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:16:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:16:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.03 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:16:25+08:00"}
{"Addr":"[::1]:57422","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:16:25+08:00"}
{"client.Addr":"[::1]:57422","client.UserID":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:16:25+08:00"}
{"currentTime":1678155386,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:16:26+08:00"}
{"AppId":0,"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:16:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":391,"level":"info","msg":"Login Info","name":"贺若弼","time":"2023-03-07T10:16:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.92 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:16:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:16:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:36270","time":"2023-03-07T10:16:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:36270","time":"2023-03-07T10:16:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155387001-916678\",\"cmd\":\"bind\",\"data\":{\"userID\":391,\"appID\":0,\"token\":\"1678155386\"}}","time":"2023-03-07T10:16:27+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155387001-916678\",\"cmd\":\"bind\",\"data\":{\"userID\":391,\"appID\":0,\"token\":\"1678155386\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:16:27+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:27+08:00","userKey":391}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155387001-916678\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:16:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:36270","time":"2023-03-07T10:16:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:16:27+08:00"}
{"AppId":0,"RoomID":101,"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:16:27+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:27+08:00","userKey":391}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:16:27+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155386\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"744632513","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:16:27+08:00","userID":391}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:27+08:00","userKey":391}
{"appID":0,"data":"{\"seq\":\"744632513\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"贺若弼\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:16:27+08:00","userID":391}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:391","time":"2023-03-07T10:16:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.63 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:16:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.67 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:16:27+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:16:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:16:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:16:28+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155386\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.94 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:16:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155397007-366092\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:16:37+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155397007-366092\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:16:37+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:16:37+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:37+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155397007-366092\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:16:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:16:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.19 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:16:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155407470-719393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:16:47+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155407470-719393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:16:47+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:16:47+08:00"}
{"HeartbeatTime":1678155397,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:47+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155407470-719393\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:16:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:16:57+08:00"}
{"client.Addr":"[::1]:52288","client.HeartbeatTime":1678155347,"client.LoginTime":1678155267,"client.UserID":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:16:57+08:00"}
{"HeartbeatTime":1678155347,"IsLogoff":false,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:57+08:00","userKey":17}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:52288","time":"2023-03-07T10:16:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:52288ok:false","time":"2023-03-07T10:16:57+08:00"}
{"client.Addr":"[::1]:52288","client.UserID":17,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:16:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:16:57+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155386\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"163227776","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:16:57+08:00","userID":17}
{"HeartbeatTime":1678155347,"IsLogoff":true,"LoginTime":1678155267,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:57+08:00","userKey":17}
{"appID":0,"data":"{\"seq\":\"163227776\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"施耐庵\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:16:57+08:00","userID":17}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155417473-312771\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:16:57+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155417473-312771\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:16:57+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:16:57+08:00"}
{"HeartbeatTime":1678155407,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:16:57+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155417473-312771\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:16:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155427473-618785\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:17:07+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155427473-618785\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:17:07+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:17:07+08:00"}
{"HeartbeatTime":1678155417,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:07+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155427473-618785\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:17:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155437472-422248\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:17:17+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155437472-422248\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:17:17+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:17:17+08:00"}
{"HeartbeatTime":1678155427,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:17+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155437472-422248\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:17:17+08:00"}
{"currentTime":1678155446,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:17:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:17:27+08:00"}
{"client.Addr":"[::1]:57422","client.HeartbeatTime":1678155378,"client.LoginTime":1678155358,"client.UserID":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:17:27+08:00"}
{"HeartbeatTime":1678155378,"IsLogoff":false,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:27+08:00","userKey":85}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:57422","time":"2023-03-07T10:17:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:57422ok:false","time":"2023-03-07T10:17:27+08:00"}
{"client.Addr":"[::1]:57422","client.UserID":85,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:17:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:17:27+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155446\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"163476566","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:17:27+08:00","userID":85}
{"HeartbeatTime":1678155378,"IsLogoff":true,"LoginTime":1678155358,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:27+08:00","userKey":85}
{"appID":0,"data":"{\"seq\":\"163476566\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"祝枝山\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:17:27+08:00","userID":85}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155447475-564930\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:17:27+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155447475-564930\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:17:27+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:17:27+08:00"}
{"HeartbeatTime":1678155437,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:27+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155447475-564930\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:17:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155457470-154858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:17:37+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155457470-154858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:17:37+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:17:37+08:00"}
{"HeartbeatTime":1678155447,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:37+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155457470-154858\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:17:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155467470-864896\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:17:47+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155467470-864896\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:17:47+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:17:47+08:00"}
{"HeartbeatTime":1678155457,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:47+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155467470-864896\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:17:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:17:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.19 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:17:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:17:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.19 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:17:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:17:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.22 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:17:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:17:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155477477-957608\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:17:57+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155477477-957608\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:17:57+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:17:57+08:00"}
{"HeartbeatTime":1678155467,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:17:57+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155477477-957608\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:17:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:18:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:18:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155487006-416427\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","time":"2023-03-07T10:18:07+08:00"}
{"addr":"[::1]:36270","data":"{\"seq\":\"1678155487006-416427\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":391}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:07+08:00"}
{"UserId":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:18:07+08:00"}
{"HeartbeatTime":1678155477,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:07+08:00","userKey":391}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155487006-416427\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:18:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.53 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:18:08+08:00"}
{"Addr":"[::1]:36270","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:18:08+08:00"}
{"client.Addr":"[::1]:36270","client.UserID":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:18:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:18:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:18:09+08:00"}
{"AppId":0,"UserId":137,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":137,"level":"info","msg":"Login Info","name":"公皙哀","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.75 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:43316","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:43316","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155491876-918333\",\"cmd\":\"bind\",\"data\":{\"userID\":137,\"appID\":0,\"token\":\"1678155491\"}}","time":"2023-03-07T10:18:11+08:00"}
{"addr":"[::1]:43316","data":"{\"seq\":\"1678155491876-918333\",\"cmd\":\"bind\",\"data\":{\"userID\":137,\"appID\":0,\"token\":\"1678155491\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:11+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155491,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:11+08:00","userKey":137}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155491876-918333\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:43316","time":"2023-03-07T10:18:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:18:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:18:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.99 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:18:16+08:00"}
{"Addr":"[::1]:43316","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:18:16+08:00"}
{"client.Addr":"[::1]:43316","client.UserID":137,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:18:16+08:00"}
{"AppId":0,"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":163,"level":"info","msg":"Login Info","name":"任不齐","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:43320","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:43320","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155496760-327268\",\"cmd\":\"bind\",\"data\":{\"userID\":163,\"appID\":0,\"token\":\"1678155496\"}}","time":"2023-03-07T10:18:16+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155496760-327268\",\"cmd\":\"bind\",\"data\":{\"userID\":163,\"appID\":0,\"token\":\"1678155496\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:16+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:16+08:00","userKey":163}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155496760-327268\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:43320","time":"2023-03-07T10:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:18:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:18:17+08:00"}
{"AppId":0,"RoomID":101,"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:18:20+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:20+08:00","userKey":163}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:18:20+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155446\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"121809182","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:18:20+08:00","userID":163}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:20+08:00","userKey":163}
{"appID":0,"data":"{\"seq\":\"121809182\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"任不齐\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:18:20+08:00","userID":163}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:163","time":"2023-03-07T10:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.1 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:18:20+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:18:20+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155446\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.74 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:18:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:18:21+08:00"}
{"currentTime":1678155506,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155506776-780468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:18:26+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155506776-780468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:26+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:18:26+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:26+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155506776-780468\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:18:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155516762-526906\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:18:36+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155516762-526906\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:36+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:18:36+08:00"}
{"HeartbeatTime":1678155506,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:36+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155516762-526906\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155526771-436902\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:18:46+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155526771-436902\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:46+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:18:46+08:00"}
{"HeartbeatTime":1678155516,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:46+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155526771-436902\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155536764-817895\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:18:56+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155536764-817895\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:18:56+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:18:56+08:00"}
{"HeartbeatTime":1678155526,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:18:56+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155536764-817895\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:18:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155546776-714419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:19:06+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155546776-714419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:19:06+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:19:06+08:00"}
{"HeartbeatTime":1678155536,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:06+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155546776-714419\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:19:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155556761-742888\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:19:16+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155556761-742888\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:19:16+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:19:16+08:00"}
{"HeartbeatTime":1678155546,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:16+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155556761-742888\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:19:16+08:00"}
{"currentTime":1678155566,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155566769-795651\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:19:26+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155566769-795651\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:19:26+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:19:26+08:00"}
{"HeartbeatTime":1678155556,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:26+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155566769-795651\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:19:27+08:00"}
{"client.Addr":"[::1]:43316","client.HeartbeatTime":1678155491,"client.LoginTime":1678155491,"client.UserID":137,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:19:27+08:00"}
{"client.Addr":"[::1]:36270","client.HeartbeatTime":1678155487,"client.LoginTime":1678155386,"client.UserID":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:19:27+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155491,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:27+08:00","userKey":137}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:43316","time":"2023-03-07T10:19:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:43316ok:false","time":"2023-03-07T10:19:27+08:00"}
{"client.Addr":"[::1]:43316","client.UserID":137,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:19:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:19:27+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155566\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"166463160","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:19:27+08:00","userID":137}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678155491,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:27+08:00","userKey":137}
{"appID":0,"data":"{\"seq\":\"166463160\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"公皙哀\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:19:27+08:00","userID":137}
{"HeartbeatTime":1678155487,"IsLogoff":false,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:27+08:00","userKey":391}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:36270","time":"2023-03-07T10:19:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:36270ok:false","time":"2023-03-07T10:19:27+08:00"}
{"client.Addr":"[::1]:36270","client.UserID":391,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:19:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:19:27+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155566\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"168653726","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:19:27+08:00","userID":391}
{"HeartbeatTime":1678155487,"IsLogoff":true,"LoginTime":1678155386,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:27+08:00","userKey":391}
{"appID":0,"data":"{\"seq\":\"168653726\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"贺若弼\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:19:27+08:00","userID":391}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155576766-461387\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:19:36+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155576766-461387\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:19:36+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:19:36+08:00"}
{"HeartbeatTime":1678155566,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:36+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155576766-461387\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:19:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155586762-531957\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:19:46+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155586762-531957\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:19:46+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:19:46+08:00"}
{"HeartbeatTime":1678155576,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:46+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155586762-531957\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:19:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155596767-212445\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:19:56+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155596767-212445\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:19:56+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:19:56+08:00"}
{"HeartbeatTime":1678155586,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:19:56+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155596767-212445\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:19:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:19:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155606765-996271\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:20:06+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155606765-996271\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:20:06+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:20:06+08:00"}
{"HeartbeatTime":1678155596,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:20:06+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155606765-996271\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:20:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155616763-943036\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:20:16+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155616763-943036\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:20:16+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:20:16+08:00"}
{"HeartbeatTime":1678155606,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:20:16+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155616763-943036\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:20:16+08:00"}
{"currentTime":1678155626,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:20:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155626773-117995\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:20:26+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155626773-117995\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:20:26+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:20:26+08:00"}
{"HeartbeatTime":1678155616,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:20:26+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155626773-117995\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:20:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:20:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155636775-146607\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:20:36+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155636775-146607\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:20:36+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:20:36+08:00"}
{"HeartbeatTime":1678155626,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:20:36+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155636775-146607\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:20:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155646770-738919\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:20:46+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155646770-738919\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:20:46+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:20:46+08:00"}
{"HeartbeatTime":1678155636,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:20:46+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155646770-738919\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:20:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155656771-940043\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:20:56+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155656771-940043\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:20:56+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:20:56+08:00"}
{"HeartbeatTime":1678155646,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:20:56+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155656771-940043\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:20:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:20:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155666761-255787\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:21:06+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155666761-255787\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:21:06+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:21:06+08:00"}
{"HeartbeatTime":1678155656,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:21:06+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155666761-255787\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:21:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155676771-407944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:21:16+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155676771-407944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:21:16+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:21:16+08:00"}
{"HeartbeatTime":1678155666,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:21:16+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155676771-407944\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:21:16+08:00"}
{"currentTime":1678155686,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:21:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155686765-840162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:21:26+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155686765-840162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:21:26+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:21:26+08:00"}
{"HeartbeatTime":1678155676,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:21:26+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155686765-840162\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:21:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:21:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155696764-902424\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:21:36+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155696764-902424\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:21:36+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:21:36+08:00"}
{"HeartbeatTime":1678155686,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:21:36+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155696764-902424\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:21:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155706774-369328\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:21:46+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155706774-369328\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:21:46+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:21:46+08:00"}
{"HeartbeatTime":1678155696,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:21:46+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155706774-369328\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:21:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155716774-242767\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:21:56+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155716774-242767\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:21:56+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:21:56+08:00"}
{"HeartbeatTime":1678155706,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:21:56+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155716774-242767\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:21:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:21:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155726773-150844\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:22:06+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155726773-150844\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:06+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:22:06+08:00"}
{"HeartbeatTime":1678155716,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:06+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155726773-150844\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155736771-719829\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:22:16+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155736771-719829\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:16+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:22:16+08:00"}
{"HeartbeatTime":1678155726,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:16+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155736771-719829\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:16+08:00"}
{"currentTime":1678155746,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:22:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155746767-684622\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:22:26+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155746767-684622\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:26+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:22:26+08:00"}
{"HeartbeatTime":1678155736,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:26+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155746767-684622\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:22:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155756770-177553\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","time":"2023-03-07T10:22:36+08:00"}
{"addr":"[::1]:43320","data":"{\"seq\":\"1678155756770-177553\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":163}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:36+08:00"}
{"UserId":163,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:22:36+08:00"}
{"HeartbeatTime":1678155746,"IsLogoff":false,"LoginTime":1678155496,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:36+08:00","userKey":163}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155756770-177553\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T10:22:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T10:22:42+08:00"}
{"currentTime":1678155764,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:22:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:22:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.13 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:22:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:22:45+08:00"}
{"AppId":0,"UserId":51,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":51,"level":"info","msg":"Login Info","name":"秦观","time":"2023-03-07T10:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.89 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:46494","time":"2023-03-07T10:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:46494","time":"2023-03-07T10:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155766638-896218\",\"cmd\":\"bind\",\"data\":{\"userID\":51,\"appID\":0,\"token\":\"1678155766\"}}","time":"2023-03-07T10:22:46+08:00"}
{"addr":"[::1]:46494","data":"{\"seq\":\"1678155766638-896218\",\"cmd\":\"bind\",\"data\":{\"userID\":51,\"appID\":0,\"token\":\"1678155766\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:46+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155766,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:46+08:00","userKey":51}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:46494","time":"2023-03-07T10:22:46+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155766638-896218\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:46+08:00"}
{"AppId":0,"RoomID":101,"UserId":51,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:22:48+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155766,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:48+08:00","userKey":51}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:48+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"413440336","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:22:48+08:00","userID":51}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155766,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:48+08:00","userKey":51}
{"appID":0,"data":"{\"seq\":\"413440336\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"秦观\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:22:48+08:00","userID":51}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:51","time":"2023-03-07T10:22:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.83 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:22:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.76 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:22:48+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:22:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:22:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:48+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.8 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:22:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:22:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.19 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:22:49+08:00"}
{"Addr":"[::1]:46494","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:22:49+08:00"}
{"client.Addr":"[::1]:46494","client.UserID":51,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:22:49+08:00"}
{"AppId":0,"UserId":486,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":486,"level":"info","msg":"Login Info","name":"杨涟","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.58 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:58658","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:58658","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155770020-931242\",\"cmd\":\"bind\",\"data\":{\"userID\":486,\"appID\":0,\"token\":\"1678155770\"}}","time":"2023-03-07T10:22:50+08:00"}
{"addr":"[::1]:58658","data":"{\"seq\":\"1678155770020-931242\",\"cmd\":\"bind\",\"data\":{\"userID\":486,\"appID\":0,\"token\":\"1678155770\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:50+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155770,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:50+08:00","userKey":486}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155770020-931242\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:58658","time":"2023-03-07T10:22:50+08:00"}
{"AppId":0,"RoomID":101,"UserId":486,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:22:50+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155770,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:50+08:00","userKey":486}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:50+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"892143016","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:22:50+08:00","userID":486}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155770,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:50+08:00","userKey":486}
{"appID":0,"data":"{\"seq\":\"892143016\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨涟\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:22:50+08:00","userID":486}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:486","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.26 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:22:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.22 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:22:50+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:22:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:22:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:51+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.02 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:22:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:22:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.82 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:22:51+08:00"}
{"Addr":"[::1]:58658","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:22:51+08:00"}
{"client.Addr":"[::1]:58658","client.UserID":486,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:22:51+08:00"}
{"AppId":0,"UserId":358,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":358,"level":"info","msg":"Login Info","name":"高望","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.52 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:58662","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:58662","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155772762-761771\",\"cmd\":\"bind\",\"data\":{\"userID\":358,\"appID\":0,\"token\":\"1678155772\"}}","time":"2023-03-07T10:22:52+08:00"}
{"addr":"[::1]:58662","data":"{\"seq\":\"1678155772762-761771\",\"cmd\":\"bind\",\"data\":{\"userID\":358,\"appID\":0,\"token\":\"1678155772\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:52+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155772,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:52+08:00","userKey":358}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155772762-761771\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:58662","time":"2023-03-07T10:22:52+08:00"}
{"AppId":0,"RoomID":101,"UserId":358,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:22:53+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155772,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:53+08:00","userKey":358}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:53+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"305869899","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:22:53+08:00","userID":358}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155772,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:53+08:00","userKey":358}
{"appID":0,"data":"{\"seq\":\"305869899\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"高望\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:22:53+08:00","userID":358}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:358","time":"2023-03-07T10:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.44 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.27 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:22:53+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:53+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.76 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:22:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:22:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.38 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:22:55+08:00"}
{"Addr":"[::1]:58662","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:22:55+08:00"}
{"client.Addr":"[::1]:58662","client.UserID":358,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:22:55+08:00"}
{"AppId":0,"UserId":229,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":229,"level":"info","msg":"Login Info","name":"苏秦","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.6 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:58678","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:58678","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155776183-696340\",\"cmd\":\"bind\",\"data\":{\"userID\":229,\"appID\":0,\"token\":\"1678155776\"}}","time":"2023-03-07T10:22:56+08:00"}
{"addr":"[::1]:58678","data":"{\"seq\":\"1678155776183-696340\",\"cmd\":\"bind\",\"data\":{\"userID\":229,\"appID\":0,\"token\":\"1678155776\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:22:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155776,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:56+08:00","userKey":229}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155776183-696340\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:58678","time":"2023-03-07T10:22:56+08:00"}
{"AppId":0,"RoomID":101,"UserId":229,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:22:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155776,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:56+08:00","userKey":229}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:56+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"733836894","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:22:56+08:00","userID":229}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155776,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:22:56+08:00","userKey":229}
{"appID":0,"data":"{\"seq\":\"733836894\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"苏秦\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:22:56+08:00","userID":229}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:229","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.62 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.48 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:22:56+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:22:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:22:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:22:57+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.75 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:22:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:23:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.82 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:23:03+08:00"}
{"Addr":"[::1]:58678","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:23:03+08:00"}
{"client.Addr":"[::1]:58678","client.UserID":229,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:23:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:23:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:23:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:23:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.8 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:23:10+08:00"}
{"AppId":0,"UserId":505,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":505,"level":"info","msg":"Login Info","name":"睿亲王","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.96 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:60436","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:60436","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155791525-271512\",\"cmd\":\"bind\",\"data\":{\"userID\":505,\"appID\":0,\"token\":\"1678155791\"}}","time":"2023-03-07T10:23:11+08:00"}
{"addr":"[::1]:60436","data":"{\"seq\":\"1678155791525-271512\",\"cmd\":\"bind\",\"data\":{\"userID\":505,\"appID\":0,\"token\":\"1678155791\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:23:11+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155791,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:23:11+08:00","userKey":505}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155791525-271512\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:23:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:60436","time":"2023-03-07T10:23:11+08:00"}
{"AppId":0,"RoomID":101,"UserId":505,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:23:12+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155791,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:23:12+08:00","userKey":505}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:23:12+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"33338666","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:23:12+08:00","userID":505}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155791,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:23:12+08:00","userKey":505}
{"appID":0,"data":"{\"seq\":\"33338666\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"睿亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:23:12+08:00","userID":505}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:505","time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.95 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:23:12+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:23:12+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155764\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.65 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.13 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:23:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.8 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:23:14+08:00"}
{"Addr":"[::1]:60436","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:23:14+08:00"}
{"client.Addr":"[::1]:60436","client.UserID":505,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:23:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:23:15+08:00"}
{"currentTime":1678155824,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:23:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:23:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:46494","client.HeartbeatTime":1678155766,"client.LoginTime":1678155766,"client.UserID":51,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:58658","client.HeartbeatTime":1678155770,"client.LoginTime":1678155770,"client.UserID":486,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:58662","client.HeartbeatTime":1678155772,"client.LoginTime":1678155772,"client.UserID":358,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:58678","client.HeartbeatTime":1678155776,"client.LoginTime":1678155776,"client.UserID":229,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:60436","client.HeartbeatTime":1678155791,"client.LoginTime":1678155791,"client.UserID":505,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:24:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155766,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":51}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:46494","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:46494ok:false","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:46494","client.UserID":51,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:24:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155824\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"81717530","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:24:15+08:00","userID":51}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678155766,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":51}
{"appID":0,"data":"{\"seq\":\"81717530\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"秦观\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:24:15+08:00","userID":51}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155770,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":486}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:58658","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:58658ok:false","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:58658","client.UserID":486,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:24:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155824\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"84005930","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:24:15+08:00","userID":486}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678155770,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":486}
{"appID":0,"data":"{\"seq\":\"84005930\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"杨涟\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:24:15+08:00","userID":486}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155772,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":358}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:58662","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:58662ok:false","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:58662","client.UserID":358,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:24:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155824\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"86415277","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:24:15+08:00","userID":358}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678155772,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":358}
{"appID":0,"data":"{\"seq\":\"86415277\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"高望\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:24:15+08:00","userID":358}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155776,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":229}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:58678","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:58678ok:false","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:58678","client.UserID":229,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:24:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155824\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"89321357","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:24:15+08:00","userID":229}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678155776,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":229}
{"appID":0,"data":"{\"seq\":\"89321357\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"苏秦\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:24:15+08:00","userID":229}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155791,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":505}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:60436","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:60436ok:false","time":"2023-03-07T10:24:15+08:00"}
{"client.Addr":"[::1]:60436","client.UserID":505,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:24:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:24:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155824\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"91958805","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:24:15+08:00","userID":505}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678155791,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:24:15+08:00","userKey":505}
{"appID":0,"data":"{\"seq\":\"91958805\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"睿亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:24:15+08:00","userID":505}
{"currentTime":1678155884,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:24:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:24:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:25:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:25:00+08:00"}
{"AppId":0,"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":285,"level":"info","msg":"Login Info","name":"颜良","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.41 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:46216","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:46216","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155905636-828413\",\"cmd\":\"bind\",\"data\":{\"userID\":285,\"appID\":0,\"token\":\"1678155905\"}}","time":"2023-03-07T10:25:05+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155905636-828413\",\"cmd\":\"bind\",\"data\":{\"userID\":285,\"appID\":0,\"token\":\"1678155905\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:25:05+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:05+08:00","userKey":285}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155905636-828413\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:46216","time":"2023-03-07T10:25:05+08:00"}
{"AppId":0,"RoomID":101,"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:25:07+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:07+08:00","userKey":285}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:25:07+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155884\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"446476280","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:25:07+08:00","userID":285}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:07+08:00","userKey":285}
{"appID":0,"data":"{\"seq\":\"446476280\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"颜良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:25:07+08:00","userID":285}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:285","time":"2023-03-07T10:25:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.81 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:25:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.49 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:25:07+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:25:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:25:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:25:07+08:00","valByte":"[\"172.30.41.217:9001\",\"1678155884\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.61 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:25:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:25:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155915645-727737\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:25:15+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155915645-727737\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:25:15+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:25:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:15+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155915645-727737\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:25:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155925640-268621\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:25:25+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155925640-268621\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:25:25+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:25:25+08:00"}
{"HeartbeatTime":1678155915,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:25+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155925640-268621\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:25:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155935651-765376\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:25:35+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155935651-765376\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:25:35+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:25:35+08:00"}
{"HeartbeatTime":1678155925,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:35+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155935651-765376\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:25:35+08:00"}
{"currentTime":1678155944,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:25:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:25:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155945646-714326\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:25:45+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155945646-714326\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:25:45+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:25:45+08:00"}
{"HeartbeatTime":1678155935,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:45+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155945646-714326\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:25:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155955645-426016\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:25:55+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155955645-426016\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:25:55+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:25:55+08:00"}
{"HeartbeatTime":1678155945,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:25:55+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155955645-426016\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:25:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155965644-763477\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:26:05+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155965644-763477\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:26:05+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:26:05+08:00"}
{"HeartbeatTime":1678155955,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:26:05+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155965644-763477\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:26:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:26:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155975654-319351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:26:15+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155975654-319351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:26:15+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:26:15+08:00"}
{"HeartbeatTime":1678155965,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:26:15+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155975654-319351\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:26:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155985644-670792\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:26:25+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155985644-670792\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:26:25+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:26:25+08:00"}
{"HeartbeatTime":1678155975,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:26:25+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155985644-670792\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:26:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678155995645-370429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:26:35+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678155995645-370429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:26:35+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:26:35+08:00"}
{"HeartbeatTime":1678155985,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:26:35+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678155995645-370429\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:26:35+08:00"}
{"currentTime":1678156004,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:26:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:26:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156005646-313045\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:26:45+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156005646-313045\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:26:45+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:26:45+08:00"}
{"HeartbeatTime":1678155995,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:26:45+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156005646-313045\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:26:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156015644-155911\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:26:55+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156015644-155911\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:26:55+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:26:55+08:00"}
{"HeartbeatTime":1678156005,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:26:55+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156015644-155911\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:26:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156025641-765412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:27:05+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156025641-765412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:27:05+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:27:05+08:00"}
{"HeartbeatTime":1678156015,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:27:05+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156025641-765412\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:27:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:27:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156035633-977414\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:27:15+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156035633-977414\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:27:15+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:27:15+08:00"}
{"HeartbeatTime":1678156025,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:27:15+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156035633-977414\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:27:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156045642-881099\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:27:25+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156045642-881099\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:27:25+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:27:25+08:00"}
{"HeartbeatTime":1678156035,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:27:25+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156045642-881099\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:27:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156055638-477304\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:27:35+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156055638-477304\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:27:35+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:27:35+08:00"}
{"HeartbeatTime":1678156045,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:27:35+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156055638-477304\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:27:35+08:00"}
{"currentTime":1678156064,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:27:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:27:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156065634-912255\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:27:45+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156065634-912255\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:27:45+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:27:45+08:00"}
{"HeartbeatTime":1678156055,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:27:45+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156065634-912255\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:27:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156075638-192776\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:27:55+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156075638-192776\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:27:55+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:27:55+08:00"}
{"HeartbeatTime":1678156065,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:27:55+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156075638-192776\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:27:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156085643-970849\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:28:05+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156085643-970849\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:28:05+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:28:05+08:00"}
{"HeartbeatTime":1678156075,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:28:05+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156085643-970849\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:28:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:28:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156095649-902560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:28:15+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156095649-902560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:28:15+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:28:15+08:00"}
{"HeartbeatTime":1678156085,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:28:15+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156095649-902560\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:28:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:28:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:28:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156106476-290061\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:28:26+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156106476-290061\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:28:26+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:28:26+08:00"}
{"HeartbeatTime":1678156095,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:28:26+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156106476-290061\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:28:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156116473-933004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:28:36+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156116473-933004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:28:36+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:28:36+08:00"}
{"HeartbeatTime":1678156106,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:28:36+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156116473-933004\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:28:36+08:00"}
{"currentTime":1678156124,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:28:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:28:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156126474-497054\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:28:46+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156126474-497054\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:28:46+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:28:46+08:00"}
{"HeartbeatTime":1678156116,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:28:46+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156126474-497054\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:28:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156136472-532592\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:28:56+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156136472-532592\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:28:56+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:28:56+08:00"}
{"HeartbeatTime":1678156126,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:28:56+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156136472-532592\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:28:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156146475-271685\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:29:06+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156146475-271685\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:29:06+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:29:06+08:00"}
{"HeartbeatTime":1678156136,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:29:06+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156146475-271685\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:29:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:29:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156156469-930579\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:29:16+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156156469-930579\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:29:16+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:29:16+08:00"}
{"HeartbeatTime":1678156146,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:29:16+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156156469-930579\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:29:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156166483-868522\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:29:26+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156166483-868522\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:29:26+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:29:26+08:00"}
{"HeartbeatTime":1678156156,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:29:26+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156166483-868522\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:29:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156176479-151316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:29:36+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156176479-151316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:29:36+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:29:36+08:00"}
{"HeartbeatTime":1678156166,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:29:36+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156176479-151316\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:29:36+08:00"}
{"currentTime":1678156184,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:29:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:29:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156186478-625582\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","time":"2023-03-07T10:29:46+08:00"}
{"addr":"[::1]:46216","data":"{\"seq\":\"1678156186478-625582\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":285}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:29:46+08:00"}
{"UserId":285,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:29:46+08:00"}
{"HeartbeatTime":1678156176,"IsLogoff":false,"LoginTime":1678155905,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:29:46+08:00","userKey":285}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156186478-625582\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:29:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T10:29:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T10:29:58+08:00"}
{"currentTime":1678156200,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:30:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:30:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:30:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.88 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:30:04+08:00"}
{"AppId":0,"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":298,"level":"info","msg":"Login Info","name":"曹豹","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.58 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44356","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:44356","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156209202-603632\",\"cmd\":\"bind\",\"data\":{\"userID\":298,\"appID\":0,\"token\":\"1678156209\"}}","time":"2023-03-07T10:30:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156209202-603632\",\"cmd\":\"bind\",\"data\":{\"userID\":298,\"appID\":0,\"token\":\"1678156209\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:30:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:09+08:00","userKey":298}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156209202-603632\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:44356","time":"2023-03-07T10:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:30:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.4 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:30:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:30:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:30:12+08:00"}
{"AppId":0,"RoomID":101,"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:30:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:15+08:00","userKey":298}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"161329813","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:30:15+08:00","userID":298}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:15+08:00","userKey":298}
{"appID":0,"data":"{\"seq\":\"161329813\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"曹豹\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:30:15+08:00","userID":298}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:298","time":"2023-03-07T10:30:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.82 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:30:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.3 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:30:15+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:30:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:30:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.63 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:30:15+08:00"}
{"AppId":0,"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:194","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"ExitChatRoom","time":"2023-03-07T10:30:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:18+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"440530793","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:30:18+08:00","userID":298}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:18+08:00","userKey":298}
{"appID":0,"data":"{\"seq\":\"440530793\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"曹豹\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:30:18+08:00","userID":298}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.67 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-07T10:30:18+08:00"}
{"AppId":0,"RoomID":102,"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:30:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:18+08:00","userKey":298}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:18+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"447635416","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:30:18+08:00","userID":298}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:18+08:00","userKey":298}
{"appID":0,"data":"{\"seq\":\"447635416\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"曹豹\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T10:30:18+08:00","userID":298}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:298","time":"2023-03-07T10:30:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.01 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:30:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.17 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=5\u0026limit=5]","time":"2023-03-07T10:30:18+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-07T10:30:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-07T10:30:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:18+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.63 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-07T10:30:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156219206-480372\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:30:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156219206-480372\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:30:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:30:19+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156219206-480372\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:30:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:30:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.52 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:30:23+08:00"}
{"AppId":0,"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:194","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"ExitChatRoom","time":"2023-03-07T10:30:25+08:00"}
{"AppId":0,"RoomID":103,"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:30:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:25+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"HeartbeatTime":1678156219,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:25+08:00","userKey":298}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"356272091","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:30:25+08:00","userID":298}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:25+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"HeartbeatTime":1678156219,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:25+08:00","userKey":298}
{"appID":0,"data":"{\"seq\":\"356272091\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"曹豹\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T10:30:25+08:00","userID":298}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.82 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-07T10:30:25+08:00"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"357344259","roomID":103,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:30:25+08:00","userID":298}
{"HeartbeatTime":1678156219,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:25+08:00","userKey":298}
{"appID":0,"data":"{\"seq\":\"357344259\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"曹豹\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":103,"time":"2023-03-07T10:30:25+08:00","userID":298}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:298","time":"2023-03-07T10:30:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.64 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:30:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.22 method:GET statusCode:200 uri:/user/historyMessageList?roomID=103\u0026start=10\u0026limit=5]","time":"2023-03-07T10:30:25+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:103","roomID":103,"time":"2023-03-07T10:30:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":103,"time":"2023-03-07T10:30:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:30:25+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156200\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.62 method:GET statusCode:200 uri:/user/list?roomID=103]","time":"2023-03-07T10:30:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156229218-928560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:30:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156229218-928560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:30:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:30:29+08:00"}
{"HeartbeatTime":1678156219,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156229218-928560\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:30:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:30:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156239213-665772\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:30:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156239213-665772\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:30:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:30:39+08:00"}
{"HeartbeatTime":1678156229,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156239213-665772\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:30:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156249217-120499\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:30:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156249217-120499\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:30:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:30:49+08:00"}
{"HeartbeatTime":1678156239,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156249217-120499\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:30:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156259203-963327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:30:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156259203-963327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:30:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:30:59+08:00"}
{"HeartbeatTime":1678156249,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:30:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156259203-963327\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:30:59+08:00"}
{"currentTime":1678156260,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:31:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:31:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156269222-268749\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:31:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156269222-268749\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:31:09+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:31:09+08:00"}
{"HeartbeatTime":1678156259,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:31:09+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156269222-268749\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:31:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156279210-727342\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:31:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156279210-727342\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:31:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:31:19+08:00"}
{"HeartbeatTime":1678156269,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:31:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156279210-727342\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:31:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156289215-995674\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:31:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156289215-995674\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:31:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:31:29+08:00"}
{"HeartbeatTime":1678156279,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:31:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156289215-995674\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:31:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:31:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156299222-248188\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:31:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156299222-248188\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:31:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:31:39+08:00"}
{"HeartbeatTime":1678156289,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:31:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156299222-248188\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:31:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156309220-448399\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:31:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156309220-448399\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:31:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:31:49+08:00"}
{"HeartbeatTime":1678156299,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:31:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156309220-448399\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:31:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156319222-698596\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:31:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156319222-698596\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:31:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:31:59+08:00"}
{"HeartbeatTime":1678156309,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:31:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156319222-698596\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:31:59+08:00"}
{"currentTime":1678156320,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:32:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:32:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156329212-174110\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:32:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156329212-174110\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:32:09+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:32:09+08:00"}
{"HeartbeatTime":1678156319,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:32:09+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156329212-174110\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:32:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156339222-639532\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:32:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156339222-639532\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:32:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:32:19+08:00"}
{"HeartbeatTime":1678156329,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:32:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156339222-639532\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:32:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156349225-526761\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:32:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156349225-526761\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:32:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:32:29+08:00"}
{"HeartbeatTime":1678156339,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:32:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156349225-526761\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:32:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:32:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156359221-931246\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:32:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156359221-931246\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:32:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:32:39+08:00"}
{"HeartbeatTime":1678156349,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:32:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156359221-931246\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:32:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156369218-993642\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:32:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156369218-993642\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:32:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:32:49+08:00"}
{"HeartbeatTime":1678156359,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:32:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156369218-993642\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:32:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156379222-327054\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:32:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156379222-327054\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:32:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:32:59+08:00"}
{"HeartbeatTime":1678156369,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:32:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156379222-327054\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:32:59+08:00"}
{"currentTime":1678156380,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:33:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:33:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156389223-361675\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:33:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156389223-361675\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:33:09+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:33:09+08:00"}
{"HeartbeatTime":1678156379,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:33:09+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156389223-361675\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:33:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156399213-296403\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:33:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156399213-296403\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:33:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:33:19+08:00"}
{"HeartbeatTime":1678156389,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:33:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156399213-296403\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:33:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156409231-715412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:33:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156409231-715412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:33:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:33:29+08:00"}
{"HeartbeatTime":1678156399,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:33:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156409231-715412\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:33:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:33:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156419222-656563\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:33:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156419222-656563\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:33:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:33:39+08:00"}
{"HeartbeatTime":1678156409,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:33:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156419222-656563\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:33:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156429226-858884\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:33:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156429226-858884\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:33:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:33:49+08:00"}
{"HeartbeatTime":1678156419,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:33:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156429226-858884\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:33:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156439224-966863\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:33:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156439224-966863\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:33:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:33:59+08:00"}
{"HeartbeatTime":1678156429,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:33:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156439224-966863\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:33:59+08:00"}
{"currentTime":1678156440,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:34:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:34:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156449216-962450\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:34:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156449216-962450\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:34:09+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:34:09+08:00"}
{"HeartbeatTime":1678156439,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:34:09+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156449216-962450\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:34:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156459216-529367\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:34:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156459216-529367\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:34:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:34:19+08:00"}
{"HeartbeatTime":1678156449,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:34:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156459216-529367\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:34:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156469222-811518\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:34:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156469222-811518\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:34:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:34:29+08:00"}
{"HeartbeatTime":1678156459,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:34:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156469222-811518\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:34:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:34:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156479220-927608\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:34:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156479220-927608\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:34:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:34:39+08:00"}
{"HeartbeatTime":1678156469,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:34:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156479220-927608\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:34:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156489217-390686\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:34:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156489217-390686\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:34:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:34:49+08:00"}
{"HeartbeatTime":1678156479,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:34:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156489217-390686\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:34:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156499222-506643\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:34:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156499222-506643\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:34:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:34:59+08:00"}
{"HeartbeatTime":1678156489,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:34:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156499222-506643\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:34:59+08:00"}
{"currentTime":1678156500,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:35:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:35:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156509217-971434\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:35:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156509217-971434\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:35:09+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:35:09+08:00"}
{"HeartbeatTime":1678156499,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:35:09+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156509217-971434\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:35:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156519225-770152\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:35:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156519225-770152\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:35:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:35:19+08:00"}
{"HeartbeatTime":1678156509,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:35:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156519225-770152\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:35:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156529220-810433\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:35:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156529220-810433\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:35:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:35:29+08:00"}
{"HeartbeatTime":1678156519,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:35:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156529220-810433\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:35:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:35:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156539225-980056\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:35:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156539225-980056\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:35:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:35:39+08:00"}
{"HeartbeatTime":1678156529,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:35:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156539225-980056\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:35:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156549221-691292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:35:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156549221-691292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:35:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:35:49+08:00"}
{"HeartbeatTime":1678156539,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:35:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156549221-691292\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:35:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156559217-729487\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:35:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156559217-729487\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:35:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:35:59+08:00"}
{"HeartbeatTime":1678156549,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:35:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156559217-729487\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:35:59+08:00"}
{"currentTime":1678156560,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:36:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:36:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156569216-817285\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:36:09+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156569216-817285\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:36:09+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:36:09+08:00"}
{"HeartbeatTime":1678156559,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:36:09+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156569216-817285\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:36:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156579226-537144\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:36:19+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156579226-537144\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:36:19+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:36:19+08:00"}
{"HeartbeatTime":1678156569,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:36:19+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156579226-537144\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:36:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156589225-182799\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:36:29+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156589225-182799\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:36:29+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:36:29+08:00"}
{"HeartbeatTime":1678156579,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:36:29+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156589225-182799\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:36:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:36:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156599223-199372\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:36:39+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156599223-199372\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:36:39+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:36:39+08:00"}
{"HeartbeatTime":1678156589,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:36:39+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156599223-199372\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:36:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156609222-706162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:36:49+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156609222-706162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:36:49+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:36:49+08:00"}
{"HeartbeatTime":1678156599,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:36:49+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156609222-706162\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:36:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156619223-849159\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","time":"2023-03-07T10:36:59+08:00"}
{"addr":"[::1]:44356","data":"{\"seq\":\"1678156619223-849159\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":298}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:36:59+08:00"}
{"UserId":298,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:36:59+08:00"}
{"HeartbeatTime":1678156609,"IsLogoff":false,"LoginTime":1678156209,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:36:59+08:00","userKey":298}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156619223-849159\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:36:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T10:37:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T10:37:06+08:00"}
{"currentTime":1678156628,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:37:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:37:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:37:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.96 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:37:09+08:00"}
{"AppId":0,"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":503,"level":"info","msg":"Login Info","name":"礼亲王","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.96 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:35684","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:35684","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156631199-665611\",\"cmd\":\"bind\",\"data\":{\"userID\":503,\"appID\":0,\"token\":\"1678156631\"}}","time":"2023-03-07T10:37:11+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156631199-665611\",\"cmd\":\"bind\",\"data\":{\"userID\":503,\"appID\":0,\"token\":\"1678156631\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:37:11+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:11+08:00","userKey":503}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156631199-665611\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:35684","time":"2023-03-07T10:37:11+08:00"}
{"AppId":0,"RoomID":101,"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:37:11+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:11+08:00","userKey":503}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:11+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"860453924","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:37:11+08:00","userID":503}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:11+08:00","userKey":503}
{"appID":0,"data":"{\"seq\":\"860453924\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"礼亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:37:11+08:00","userID":503}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:503","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.41 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:37:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:37:11+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:37:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:37:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:12+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.08 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:37:12+08:00"}
{"AppId":0,"RoomID":102,"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:37:15+08:00"}
{"AppId":0,"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:194","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"ExitChatRoom","time":"2023-03-07T10:37:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:15+08:00","userKey":503}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"975109993","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:37:15+08:00","userID":503}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"975473848","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:37:15+08:00","userID":503}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:15+08:00","userKey":503}
{"appID":0,"data":"{\"seq\":\"975109993\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"礼亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:37:15+08:00","userID":503}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.49 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-07T10:37:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:15+08:00","userKey":503}
{"appID":0,"data":"{\"seq\":\"975473848\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"礼亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T10:37:15+08:00","userID":503}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:503","time":"2023-03-07T10:37:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.36 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:37:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.32 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=5\u0026limit=5]","time":"2023-03-07T10:37:15+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-07T10:37:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-07T10:37:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:16+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-07T10:37:16+08:00"}
{"AppId":0,"RoomID":103,"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:37:18+08:00"}
{"AppId":0,"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:194","func":"bychat/internal/servers/websocket.ExitChatRoom","level":"info","msg":"ExitChatRoom","time":"2023-03-07T10:37:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:18+08:00","userKey":503}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:18+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:18+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"44587130","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:37:18+08:00","userID":503}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"44854909","roomID":103,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:37:18+08:00","userID":503}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:18+08:00","userKey":503}
{"appID":0,"data":"{\"seq\":\"44587130\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"礼亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-07T10:37:18+08:00","userID":503}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.36 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-07T10:37:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:18+08:00","userKey":503}
{"appID":0,"data":"{\"seq\":\"44854909\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"礼亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":103,"time":"2023-03-07T10:37:18+08:00","userID":503}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:503","time":"2023-03-07T10:37:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.86 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:37:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.27 method:GET statusCode:200 uri:/user/historyMessageList?roomID=103\u0026start=10\u0026limit=5]","time":"2023-03-07T10:37:18+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:103","roomID":103,"time":"2023-03-07T10:37:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":103,"time":"2023-03-07T10:37:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:37:18+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156628\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.81 method:GET statusCode:200 uri:/user/list?roomID=103]","time":"2023-03-07T10:37:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156641217-171507\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:37:21+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156641217-171507\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:37:21+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:37:21+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:21+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156641217-171507\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:37:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156651205-552599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:37:31+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156651205-552599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:37:31+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:37:31+08:00"}
{"HeartbeatTime":1678156641,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:31+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156651205-552599\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:37:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156661204-750882\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:37:41+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156661204-750882\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:37:41+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:37:41+08:00"}
{"HeartbeatTime":1678156651,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:41+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156661204-750882\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:37:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156671199-378019\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:37:51+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156671199-378019\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:37:51+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:37:51+08:00"}
{"HeartbeatTime":1678156661,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:37:51+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156671199-378019\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:37:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156681213-613631\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:38:01+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156681213-613631\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:38:01+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:38:01+08:00"}
{"HeartbeatTime":1678156671,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:38:01+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156681213-613631\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:38:01+08:00"}
{"currentTime":1678156688,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:38:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:38:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156691215-767310\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:38:11+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156691215-767310\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:38:11+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:38:11+08:00"}
{"HeartbeatTime":1678156681,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:38:11+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156691215-767310\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:38:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156701200-158775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:38:21+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156701200-158775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:38:21+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:38:21+08:00"}
{"HeartbeatTime":1678156691,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:38:21+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156701200-158775\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:38:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156711208-676926\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:38:31+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156711208-676926\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:38:31+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:38:31+08:00"}
{"HeartbeatTime":1678156701,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:38:31+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156711208-676926\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:38:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:38:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156721204-200169\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:38:41+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156721204-200169\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:38:41+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:38:41+08:00"}
{"HeartbeatTime":1678156711,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:38:41+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156721204-200169\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678156731205-204007\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","time":"2023-03-07T10:38:51+08:00"}
{"addr":"[::1]:35684","data":"{\"seq\":\"1678156731205-204007\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":503}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:38:51+08:00"}
{"UserId":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:38:51+08:00"}
{"HeartbeatTime":1678156721,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:38:51+08:00","userKey":503}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678156731205-204007\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:38:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:38:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.99 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:38:56+08:00"}
{"Addr":"[::1]:35684","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:38:56+08:00"}
{"client.Addr":"[::1]:35684","client.UserID":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:38:56+08:00"}
{"currentTime":1678156748,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:39:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:39:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:39:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.21 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:39:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:39:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.91 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:39:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:39:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.83 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:39:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:39:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:39:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.54 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:39:42+08:00"}
{"AppId":0,"RoomID":101,"UserId":262,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:39:45+08:00"}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-07T10:39:45+08:00","userKey":262}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:169","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"error","msg":"EnterChatRoom Failed:redis: nil","time":"2023-03-07T10:39:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:177","func":"bychat/api/v1/user.EnterChatRoom","level":"error","msg":"EnterChatRoom Failedredis: nil","time":"2023-03-07T10:39:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:39:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:39:45+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:39:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:39:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:39:45+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156748\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.63 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:39:45+08:00"}
{"currentTime":1678156808,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:40:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:40:09+08:00"}
{"client.Addr":"[::1]:35684","client.HeartbeatTime":1678156731,"client.LoginTime":1678156631,"client.UserID":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:40:09+08:00"}
{"HeartbeatTime":1678156731,"IsLogoff":false,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:40:09+08:00","userKey":503}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:35684","time":"2023-03-07T10:40:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:35684ok:false","time":"2023-03-07T10:40:09+08:00"}
{"client.Addr":"[::1]:35684","client.UserID":503,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:40:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:40:09+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156808\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"175819865","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:40:09+08:00","userID":503}
{"HeartbeatTime":1678156731,"IsLogoff":true,"LoginTime":1678156631,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:40:09+08:00","userKey":503}
{"appID":0,"data":"{\"seq\":\"175819865\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"礼亲王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:40:09+08:00","userID":503}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:40:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.56 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:40:21+08:00"}
{"AppId":0,"RoomID":101,"UserId":129,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:40:29+08:00"}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-07T10:40:29+08:00","userKey":129}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:169","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"error","msg":"EnterChatRoom Failed:redis: nil","time":"2023-03-07T10:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:177","func":"bychat/api/v1/user.EnterChatRoom","level":"error","msg":"EnterChatRoom Failedredis: nil","time":"2023-03-07T10:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.69 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.21 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:40:29+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:40:29+08:00","valByte":"[\"172.30.41.217:9001\",\"1678156808\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.84 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:40:39+08:00"}
{"currentTime":1678156868,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:41:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:41:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:41:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:41:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.85 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:41:59+08:00"}
{"AppId":0,"RoomID":101,"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:42:00+08:00"}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-07T10:42:00+08:00","userKey":485}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:169","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"error","msg":"EnterChatRoom Failed:redis: nil","time":"2023-03-07T10:42:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:177","func":"bychat/api/v1/user.EnterChatRoom","level":"error","msg":"EnterChatRoom Failedredis: nil","time":"2023-03-07T10:42:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.5 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:42:00+08:00"}
{"currentTime":1678156928,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:42:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:42:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:42:39+08:00"}
{"currentTime":1678156988,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:43:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:43:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:43:39+08:00"}
{"currentTime":1678157048,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:44:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:44:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:44:39+08:00"}
{"currentTime":1678157108,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:45:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:45:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:45:39+08:00"}
{"currentTime":1678157168,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:46:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:46:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:46:39+08:00"}
{"currentTime":1678157228,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:47:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:47:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:47:39+08:00"}
{"currentTime":1678157288,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:48:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:48:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:48:39+08:00"}
{"currentTime":1678157348,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:49:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:49:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:49:39+08:00"}
{"currentTime":1678157408,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:50:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:50:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:50:39+08:00"}
{"currentTime":1678157468,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:51:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:51:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:51:39+08:00"}
{"currentTime":1678157528,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:52:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:52:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:52:39+08:00"}
{"currentTime":1678157588,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:53:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:53:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:53:39+08:00"}
{"currentTime":1678157648,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:54:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:54:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:54:39+08:00"}
{"currentTime":1678157708,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:55:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:55:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:55:39+08:00"}
{"currentTime":1678157768,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:56:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:56:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T10:57:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T10:57:24+08:00"}
{"currentTime":1678157846,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:57:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:57:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:57:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.89 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:57:28+08:00"}
{"AppId":0,"UserId":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":73,"level":"info","msg":"Login Info","name":"吴镇","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.77 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:35836","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:35836","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157853234-897399\",\"cmd\":\"bind\",\"data\":{\"userID\":73,\"appID\":0,\"token\":\"1678157853\"}}","time":"2023-03-07T10:57:33+08:00"}
{"addr":"[::1]:35836","data":"{\"seq\":\"1678157853234-897399\",\"cmd\":\"bind\",\"data\":{\"userID\":73,\"appID\":0,\"token\":\"1678157853\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:57:33+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:33+08:00","userKey":73}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157853234-897399\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:57:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:35836","time":"2023-03-07T10:57:33+08:00"}
{"AppId":1,"RoomID":101,"UserId":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:57:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:41+08:00","userKey":73}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:57:41+08:00","valByte":"[\"172.30.41.217:9001\",\"1678157846\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"102422533","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:57:41+08:00","userID":73}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:41+08:00","userKey":73}
{"appID":1,"data":"{\"seq\":\"102422533\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"吴镇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:57:41+08:00","userID":73}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:73","time":"2023-03-07T10:57:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.68 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:57:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.32 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:57:41+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:57:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:57:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:57:41+08:00","valByte":"[\"172.30.41.217:9001\",\"1678157846\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.12 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:57:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157863475-484572\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":73}}","time":"2023-03-07T10:57:43+08:00"}
{"addr":"[::1]:35836","data":"{\"seq\":\"1678157863475-484572\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":73}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:57:43+08:00"}
{"UserId":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:57:43+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:43+08:00","userKey":73}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157863475-484572\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:57:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:57:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.96 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:57:43+08:00"}
{"AppId":0,"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":291,"level":"info","msg":"Login Info","name":"邴原","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.42 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:36644","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:36644","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157865140-880106\",\"cmd\":\"bind\",\"data\":{\"userID\":291,\"appID\":0,\"token\":\"1678157865\"}}","time":"2023-03-07T10:57:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157865140-880106\",\"cmd\":\"bind\",\"data\":{\"userID\":291,\"appID\":0,\"token\":\"1678157865\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:57:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:45+08:00","userKey":291}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157865140-880106\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:36644","time":"2023-03-07T10:57:45+08:00"}
{"AppId":1,"RoomID":101,"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T10:57:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:45+08:00","userKey":291}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:57:45+08:00","valByte":"[\"172.30.41.217:9001\",\"1678157846\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"710726963","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:57:45+08:00","userID":291}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:45+08:00","userKey":291}
{"appID":1,"data":"{\"seq\":\"710726963\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"邴原\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:57:45+08:00","userID":291}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:291","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.37 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T10:57:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.4 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T10:57:45+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T10:57:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T10:57:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:57:46+08:00","valByte":"[\"172.30.41.217:9001\",\"1678157846\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.69 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T10:57:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:112","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"nicaiwo","msg":"SendMessageAll","msgID":"1678157871873-963168","roomID":101,"time":"2023-03-07T10:57:51+08:00","userID":291}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:57:51+08:00","valByte":"[\"172.30.41.217:9001\",\"1678157846\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"nicaiwo","msg":"SendUserMessageAll","msgID":"1678157871873-963168","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:57:51+08:00","userID":291}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:51+08:00","userKey":291}
{"appID":0,"data":"{\"seq\":\"1678157871873-963168\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"nicaiwo\",\"from\":\"邴原\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T10:57:51+08:00","userID":291}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.88 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T10:57:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157873241-167435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":73}}","time":"2023-03-07T10:57:53+08:00"}
{"addr":"[::1]:35836","data":"{\"seq\":\"1678157873241-167435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":73}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:57:53+08:00"}
{"UserId":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:57:53+08:00"}
{"HeartbeatTime":1678157863,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:53+08:00","userKey":73}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157873241-167435\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:57:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157875479-395425\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:57:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157875479-395425\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:57:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:57:55+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:57:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157875479-395425\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:57:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:57:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157883240-644900\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":73}}","time":"2023-03-07T10:58:03+08:00"}
{"addr":"[::1]:35836","data":"{\"seq\":\"1678157883240-644900\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":73}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:03+08:00"}
{"UserId":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:03+08:00"}
{"HeartbeatTime":1678157873,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:03+08:00","userKey":73}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157883240-644900\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T10:58:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.07 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T10:58:04+08:00"}
{"Addr":"[::1]:35836","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T10:58:04+08:00"}
{"client.Addr":"[::1]:35836","client.UserID":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T10:58:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157885481-483403\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:58:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157885481-483403\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:05+08:00"}
{"HeartbeatTime":1678157875,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157885481-483403\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157895485-188713\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:58:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157895485-188713\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:15+08:00"}
{"HeartbeatTime":1678157885,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157895485-188713\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157905479-890788\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:58:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157905479-890788\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:25+08:00"}
{"HeartbeatTime":1678157895,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157905479-890788\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:25+08:00"}
{"currentTime":1678157906,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:58:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:58:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157915477-930965\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:58:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157915477-930965\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:35+08:00"}
{"HeartbeatTime":1678157905,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157915477-930965\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157925481-949343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:58:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157925481-949343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:45+08:00"}
{"HeartbeatTime":1678157915,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157925481-949343\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157935480-440026\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:58:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157935480-440026\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:58:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:58:55+08:00"}
{"HeartbeatTime":1678157925,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:58:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157935480-440026\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:58:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:58:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157945481-616507\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:59:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157945481-616507\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:59:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:59:05+08:00"}
{"HeartbeatTime":1678157935,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157945481-616507\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:59:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157955481-535050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:59:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157955481-535050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:59:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:59:15+08:00"}
{"HeartbeatTime":1678157945,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157955481-535050\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:59:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:59:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:59:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157965484-964059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:59:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157965484-964059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:59:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:59:25+08:00"}
{"HeartbeatTime":1678157955,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157965484-964059\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:59:25+08:00"}
{"currentTime":1678157966,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T10:59:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:59:27+08:00"}
{"client.Addr":"[::1]:35836","client.HeartbeatTime":1678157883,"client.LoginTime":1678157853,"client.UserID":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:315","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T10:59:27+08:00"}
{"HeartbeatTime":1678157883,"IsLogoff":false,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:27+08:00","userKey":73}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:224","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:35836","time":"2023-03-07T10:59:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:35836ok:false","time":"2023-03-07T10:59:27+08:00"}
{"client.Addr":"[::1]:35836","client.UserID":73,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T10:59:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T10:59:27+08:00","valByte":"[\"172.30.41.217:9001\",\"1678157966\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"185051557","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T10:59:27+08:00","userID":73}
{"HeartbeatTime":1678157883,"IsLogoff":true,"LoginTime":1678157853,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:27+08:00","userKey":73}
{"appID":0,"data":"{\"seq\":\"185051557\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"吴镇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T10:59:27+08:00","userID":73}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T10:59:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T10:59:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157975481-578156\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:59:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157975481-578156\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:59:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:59:35+08:00"}
{"HeartbeatTime":1678157965,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157975481-578156\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:59:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157985142-702699\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:59:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157985142-702699\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:59:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:59:45+08:00"}
{"HeartbeatTime":1678157975,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157985142-702699\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:59:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678157995144-780859\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T10:59:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678157995144-780859\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T10:59:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T10:59:55+08:00"}
{"HeartbeatTime":1678157985,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T10:59:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678157995144-780859\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T10:59:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T10:59:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158005152-408366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:00:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158005152-408366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:00:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:00:05+08:00"}
{"HeartbeatTime":1678157995,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:00:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158005152-408366\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:00:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158015151-241232\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:00:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158015151-241232\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:00:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:00:15+08:00"}
{"HeartbeatTime":1678158005,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:00:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158015151-241232\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:00:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158025479-426079\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:00:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158025479-426079\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:00:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:00:25+08:00"}
{"HeartbeatTime":1678158015,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:00:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158025479-426079\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:00:25+08:00"}
{"currentTime":1678158026,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:00:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:00:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158035478-701639\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:00:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158035478-701639\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:00:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:00:35+08:00"}
{"HeartbeatTime":1678158025,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:00:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158035478-701639\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:00:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158045479-277202\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:00:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158045479-277202\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:00:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:00:45+08:00"}
{"HeartbeatTime":1678158035,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:00:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158045479-277202\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:00:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158055475-859738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:00:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158055475-859738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:00:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:00:55+08:00"}
{"HeartbeatTime":1678158045,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:00:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158055475-859738\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:00:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158065476-870092\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:01:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158065476-870092\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:01:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:01:05+08:00"}
{"HeartbeatTime":1678158055,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:01:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158065476-870092\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:01:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158075474-679004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:01:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158075474-679004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:01:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:01:15+08:00"}
{"HeartbeatTime":1678158065,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:01:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158075474-679004\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:01:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158085474-292989\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:01:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158085474-292989\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:01:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:01:25+08:00"}
{"HeartbeatTime":1678158075,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:01:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158085474-292989\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:01:25+08:00"}
{"currentTime":1678158086,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:01:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:01:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158095480-589897\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:01:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158095480-589897\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:01:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:01:35+08:00"}
{"HeartbeatTime":1678158085,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:01:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158095480-589897\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:01:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158105476-548433\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:01:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158105476-548433\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:01:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:01:45+08:00"}
{"HeartbeatTime":1678158095,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:01:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158105476-548433\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:01:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158115481-196504\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:01:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158115481-196504\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:01:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:01:55+08:00"}
{"HeartbeatTime":1678158105,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:01:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158115481-196504\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:01:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:01:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158125479-756110\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:02:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158125479-756110\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:02:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:02:05+08:00"}
{"HeartbeatTime":1678158115,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:02:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158125479-756110\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:02:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158135478-874805\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:02:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158135478-874805\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:02:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:02:15+08:00"}
{"HeartbeatTime":1678158125,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:02:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158135478-874805\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158145483-928778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:02:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158145483-928778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:02:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:02:25+08:00"}
{"HeartbeatTime":1678158135,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:02:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158145483-928778\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:02:25+08:00"}
{"currentTime":1678158146,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:02:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:02:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158155479-986406\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:02:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158155479-986406\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:02:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:02:35+08:00"}
{"HeartbeatTime":1678158145,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:02:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158155479-986406\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:02:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158165477-757795\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:02:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158165477-757795\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:02:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:02:45+08:00"}
{"HeartbeatTime":1678158155,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:02:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158165477-757795\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:02:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158175475-755495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:02:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158175475-755495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:02:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:02:55+08:00"}
{"HeartbeatTime":1678158165,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:02:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158175475-755495\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:02:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:02:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158185483-532596\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:03:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158185483-532596\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:03:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:03:05+08:00"}
{"HeartbeatTime":1678158175,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:03:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158185483-532596\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:03:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158195481-297948\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:03:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158195481-297948\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:03:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:03:15+08:00"}
{"HeartbeatTime":1678158185,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:03:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158195481-297948\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:03:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158205476-427196\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:03:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158205476-427196\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:03:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:03:25+08:00"}
{"HeartbeatTime":1678158195,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:03:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158205476-427196\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:03:25+08:00"}
{"currentTime":1678158206,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:03:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:03:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158215478-506741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:03:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158215478-506741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:03:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:03:35+08:00"}
{"HeartbeatTime":1678158205,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:03:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158215478-506741\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:03:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158225482-373625\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:03:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158225482-373625\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:03:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:03:45+08:00"}
{"HeartbeatTime":1678158215,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:03:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158225482-373625\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:03:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158235470-165138\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:03:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158235470-165138\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:03:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:03:55+08:00"}
{"HeartbeatTime":1678158225,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:03:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158235470-165138\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:03:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:03:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158245474-142059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:04:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158245474-142059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:04:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:04:05+08:00"}
{"HeartbeatTime":1678158235,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:04:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158245474-142059\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:04:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158255474-453537\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:04:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158255474-453537\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:04:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:04:15+08:00"}
{"HeartbeatTime":1678158245,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:04:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158255474-453537\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:04:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158265474-353230\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:04:25+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158265474-353230\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:04:25+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:04:25+08:00"}
{"HeartbeatTime":1678158255,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:04:25+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158265474-353230\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:04:25+08:00"}
{"currentTime":1678158266,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:04:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:04:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158275475-531118\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:04:35+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158275475-531118\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:04:35+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:04:35+08:00"}
{"HeartbeatTime":1678158265,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:04:35+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158275475-531118\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:04:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158285480-880594\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:04:45+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158285480-880594\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:04:45+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:04:45+08:00"}
{"HeartbeatTime":1678158275,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:04:45+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158285480-880594\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:04:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158295471-303740\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:04:55+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158295471-303740\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:04:55+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:04:55+08:00"}
{"HeartbeatTime":1678158285,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:04:55+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158295471-303740\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:04:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:04:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158305469-128468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:05:05+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158305469-128468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:05:05+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:05:05+08:00"}
{"HeartbeatTime":1678158295,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:05:05+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158305469-128468\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158315477-175904\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:05:15+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158315477-175904\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:05:15+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:05:15+08:00"}
{"HeartbeatTime":1678158305,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:05:15+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158315477-175904\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:05:15+08:00"}
{"currentTime":1678158326,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:05:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:05:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:05:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158362480-944377\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:06:02+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158362480-944377\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:06:02+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:06:02+08:00"}
{"HeartbeatTime":1678158315,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:06:02+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158362480-944377\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:06:02+08:00"}
{"currentTime":1678158386,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:06:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:06:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:06:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158422483-957740\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","time":"2023-03-07T11:07:02+08:00"}
{"addr":"[::1]:36644","data":"{\"seq\":\"1678158422483-957740\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":291}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:07:02+08:00"}
{"UserId":291,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:07:02+08:00"}
{"HeartbeatTime":1678158362,"IsLogoff":false,"LoginTime":1678157865,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:07:02+08:00","userKey":291}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158422483-957740\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:07:02+08:00"}
{"currentTime":1678158446,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:07:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:07:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T11:07:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T11:07:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T11:08:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T11:08:23+08:00"}
{"currentTime":1678158505,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:08:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:08:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T11:08:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.86 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T11:08:28+08:00"}
{"AppId":0,"UserId":46,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":46,"level":"info","msg":"Login Info","name":"苏东坡","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.65 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48980","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:48980","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158509926-212540\",\"cmd\":\"bind\",\"data\":{\"userID\":46,\"appID\":0,\"token\":\"1678158509\"}}","time":"2023-03-07T11:08:29+08:00"}
{"addr":"[::1]:48980","data":"{\"seq\":\"1678158509926-212540\",\"cmd\":\"bind\",\"data\":{\"userID\":46,\"appID\":0,\"token\":\"1678158509\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:08:29+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158509,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:29+08:00","userKey":46}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158509926-212540\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:08:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:48980","time":"2023-03-07T11:08:29+08:00"}
{"AppId":1,"RoomID":101,"UserId":46,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T11:08:30+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158509,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:30+08:00","userKey":46}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T11:08:30+08:00","valByte":"[\"172.30.41.217:9001\",\"1678158505\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"855570936","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T11:08:30+08:00","userID":46}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158509,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:30+08:00","userKey":46}
{"appID":1,"data":"{\"seq\":\"855570936\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"苏东坡\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T11:08:30+08:00","userID":46}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:46","time":"2023-03-07T11:08:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.65 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T11:08:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T11:08:30+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T11:08:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T11:08:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T11:08:31+08:00","valByte":"[\"172.30.41.217:9001\",\"1678158505\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.88 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T11:08:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T11:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.64 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T11:08:34+08:00"}
{"Addr":"[::1]:48980","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T11:08:34+08:00"}
{"client.Addr":"[::1]:48980","client.UserID":46,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T11:08:34+08:00"}
{"AppId":0,"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":261,"level":"info","msg":"Login Info","name":"许虔","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.47 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48990","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:48990","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158515786-359209\",\"cmd\":\"bind\",\"data\":{\"userID\":261,\"appID\":0,\"token\":\"1678158515\"}}","time":"2023-03-07T11:08:35+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158515786-359209\",\"cmd\":\"bind\",\"data\":{\"userID\":261,\"appID\":0,\"token\":\"1678158515\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:08:35+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:35+08:00","userKey":261}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158515786-359209\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:48990","time":"2023-03-07T11:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:08:36+08:00"}
{"AppId":1,"RoomID":101,"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T11:08:37+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:37+08:00","userKey":261}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T11:08:37+08:00","valByte":"[\"172.30.41.217:9001\",\"1678158505\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"8454866","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T11:08:37+08:00","userID":261}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:37+08:00","userKey":261}
{"appID":1,"data":"{\"seq\":\"8454866\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"许虔\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T11:08:37+08:00","userID":261}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:261","time":"2023-03-07T11:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.25 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T11:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.35 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T11:08:37+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T11:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T11:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T11:08:37+08:00","valByte":"[\"172.30.41.217:9001\",\"1678158505\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.82 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T11:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T11:08:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.52 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T11:08:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158525791-345442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:08:45+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158525791-345442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:08:45+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:08:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:45+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158525791-345442\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:08:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:08:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158535789-850278\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:08:55+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158535789-850278\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:08:55+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:08:55+08:00"}
{"HeartbeatTime":1678158525,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:08:55+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158535789-850278\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:08:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:08:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158545787-274516\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:09:05+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158545787-274516\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:09:05+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:09:05+08:00"}
{"HeartbeatTime":1678158535,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:05+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158545787-274516\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:09:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:09:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158555791-992802\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:09:15+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158555791-992802\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:09:15+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:09:15+08:00"}
{"HeartbeatTime":1678158545,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:15+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158555791-992802\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:09:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:09:16+08:00"}
{"currentTime":1678158565,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:09:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158565790-292837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:09:25+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158565790-292837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:09:25+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:09:25+08:00"}
{"HeartbeatTime":1678158555,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:25+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158565790-292837\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:09:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:09:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158575790-231380\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:09:35+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158575790-231380\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:09:35+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:09:35+08:00"}
{"HeartbeatTime":1678158565,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:35+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158575790-231380\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:09:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:09:36+08:00"}
{"client.Addr":"[::1]:48980","client.HeartbeatTime":1678158509,"client.LoginTime":1678158509,"client.UserID":46,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:316","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T11:09:36+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158509,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:36+08:00","userKey":46}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:225","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:48980","time":"2023-03-07T11:09:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T11:09:36+08:00","valByte":"[\"172.30.41.217:9001\",\"1678158565\",\"172.30.41.217:9002\",\"1678152379\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:48980ok:false","time":"2023-03-07T11:09:36+08:00"}
{"client.Addr":"[::1]:48980","client.UserID":46,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T11:09:36+08:00"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"567445960","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T11:09:36+08:00","userID":46}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678158509,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:36+08:00","userKey":46}
{"appID":0,"data":"{\"seq\":\"567445960\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"苏东坡\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T11:09:36+08:00","userID":46}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158585794-491096\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:09:45+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158585794-491096\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:09:45+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:09:45+08:00"}
{"HeartbeatTime":1678158575,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:45+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158585794-491096\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:09:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:09:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158595791-915421\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:09:55+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158595791-915421\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:09:55+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:09:55+08:00"}
{"HeartbeatTime":1678158585,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:09:55+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158595791-915421\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:09:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:09:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158605799-478704\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:10:05+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158605799-478704\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:10:05+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:10:05+08:00"}
{"HeartbeatTime":1678158595,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:10:05+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158605799-478704\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:10:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:10:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158615790-113066\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:10:15+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158615790-113066\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:10:15+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:10:15+08:00"}
{"HeartbeatTime":1678158605,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:10:15+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158615790-113066\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:10:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:10:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T11:10:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.21 method:GET statusCode:200 uri:/system/state]","time":"2023-03-07T11:10:20+08:00"}
{"currentTime":1678158625,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:10:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158625790-978382\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","time":"2023-03-07T11:10:25+08:00"}
{"addr":"[::1]:48990","data":"{\"seq\":\"1678158625790-978382\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":261}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:10:25+08:00"}
{"UserId":261,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:10:25+08:00"}
{"HeartbeatTime":1678158615,"IsLogoff":false,"LoginTime":1678158515,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:10:25+08:00","userKey":261}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158625790-978382\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:10:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:10:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T11:13:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T11:13:49+08:00"}
{"currentTime":1678158831,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:13:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T11:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.79 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T11:13:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T11:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.06 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T11:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-07T11:14:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.32 method:GET statusCode:200 uri:/system/state?isDebuf=true]","time":"2023-03-07T11:14:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:14:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:14:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:14:07+08:00"}
{"AppId":1,"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:45","func":"bychat/api/v1/user.Login","id":159,"level":"info","msg":"Login Info","name":"漆雕徒父","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.82 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:59600","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:59600","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158850199-462994\",\"cmd\":\"bind\",\"data\":{\"userID\":159,\"appID\":0,\"token\":\"1678158850\"}}","time":"2023-03-07T11:14:10+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158850199-462994\",\"cmd\":\"bind\",\"data\":{\"userID\":159,\"appID\":0,\"token\":\"1678158850\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:14:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:14:10+08:00","userKey":159}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158850199-462994\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:59600","time":"2023-03-07T11:14:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:14:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:14:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:14:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158860472-432730\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:14:20+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158860472-432730\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:14:20+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:14:20+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:14:20+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158860472-432730\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:14:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:14:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158870483-298680\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:14:30+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158870483-298680\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:14:30+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:14:30+08:00"}
{"HeartbeatTime":1678158860,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:14:30+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158870483-298680\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:14:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:14:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158880472-536553\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:14:40+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158880472-536553\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:14:40+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:14:40+08:00"}
{"HeartbeatTime":1678158870,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:14:40+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158880472-536553\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:14:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:14:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158890480-287507\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:14:50+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158890480-287507\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:14:50+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:14:50+08:00"}
{"HeartbeatTime":1678158880,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:14:50+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158890480-287507\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:14:50+08:00"}
{"currentTime":1678158891,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:14:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:14:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158900469-998084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:15:00+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158900469-998084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:15:00+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:15:00+08:00"}
{"HeartbeatTime":1678158890,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:15:00+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158900469-998084\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:15:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:15:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158910204-653444\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:15:10+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158910204-653444\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:15:10+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:15:10+08:00"}
{"HeartbeatTime":1678158900,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:15:10+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158910204-653444\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:15:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:15:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158920209-703718\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:15:20+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158920209-703718\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:15:20+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:15:20+08:00"}
{"HeartbeatTime":1678158910,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:15:20+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158920209-703718\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:15:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:15:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158930211-611633\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:15:30+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158930211-611633\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:15:30+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:15:30+08:00"}
{"HeartbeatTime":1678158920,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:15:30+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158930211-611633\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:15:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:15:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158940203-885808\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:15:40+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158940203-885808\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:15:40+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:15:40+08:00"}
{"HeartbeatTime":1678158930,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:15:40+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158940203-885808\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:15:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:15:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158950200-257883\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:15:50+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158950200-257883\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:15:50+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:15:50+08:00"}
{"HeartbeatTime":1678158940,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:15:50+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158950200-257883\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:15:50+08:00"}
{"currentTime":1678158951,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:15:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:15:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158960201-297874\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:16:00+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158960201-297874\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:16:00+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:16:00+08:00"}
{"HeartbeatTime":1678158950,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:16:00+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158960201-297874\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:16:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:16:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158970201-733004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:16:10+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158970201-733004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:16:10+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:16:10+08:00"}
{"HeartbeatTime":1678158960,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:16:10+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158970201-733004\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:16:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:16:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158980204-964074\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:16:20+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158980204-964074\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:16:20+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:16:20+08:00"}
{"HeartbeatTime":1678158970,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:16:20+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158980204-964074\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:16:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:16:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678158990210-380405\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:16:30+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678158990210-380405\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:16:30+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:16:30+08:00"}
{"HeartbeatTime":1678158980,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:16:30+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678158990210-380405\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:16:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:16:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159000204-342137\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:16:40+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159000204-342137\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:16:40+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:16:40+08:00"}
{"HeartbeatTime":1678158990,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:16:40+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159000204-342137\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:16:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:16:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159010212-512233\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:16:50+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159010212-512233\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:16:50+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:16:50+08:00"}
{"HeartbeatTime":1678159000,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:16:50+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159010212-512233\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:16:50+08:00"}
{"currentTime":1678159011,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:16:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:16:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159020211-652205\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:17:00+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159020211-652205\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:17:00+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:17:00+08:00"}
{"HeartbeatTime":1678159010,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:17:00+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159020211-652205\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:17:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:17:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159030205-257583\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:17:10+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159030205-257583\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:17:10+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:17:10+08:00"}
{"HeartbeatTime":1678159020,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:17:10+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159030205-257583\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:17:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:17:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159040209-140272\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:17:20+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159040209-140272\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:17:20+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:17:20+08:00"}
{"HeartbeatTime":1678159030,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:17:20+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159040209-140272\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:17:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:17:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159050210-551008\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:17:30+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159050210-551008\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:17:30+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:17:30+08:00"}
{"HeartbeatTime":1678159040,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:17:30+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159050210-551008\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:17:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:17:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159060203-791366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:17:40+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159060203-791366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:17:40+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:17:40+08:00"}
{"HeartbeatTime":1678159050,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:17:40+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159060203-791366\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:17:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:17:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159070215-586686\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:17:50+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159070215-586686\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:17:50+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:17:50+08:00"}
{"HeartbeatTime":1678159060,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:17:50+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159070215-586686\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:17:50+08:00"}
{"currentTime":1678159071,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:17:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:17:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159080478-887725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:18:00+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159080478-887725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:00+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:18:00+08:00"}
{"HeartbeatTime":1678159070,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:00+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159080478-887725\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:18:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159090476-496435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:18:10+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159090476-496435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:10+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:18:10+08:00"}
{"HeartbeatTime":1678159080,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:10+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159090476-496435\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:18:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159100483-146781\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:18:20+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159100483-146781\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:20+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:18:20+08:00"}
{"HeartbeatTime":1678159090,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:20+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159100483-146781\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:18:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159110481-271706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:18:30+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159110481-271706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:30+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:18:30+08:00"}
{"HeartbeatTime":1678159100,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:30+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159110481-271706\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159120472-402229\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","time":"2023-03-07T11:18:40+08:00"}
{"addr":"[::1]:59600","data":"{\"seq\":\"1678159120472-402229\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":159}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:40+08:00"}
{"UserId":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:18:40+08:00"}
{"HeartbeatTime":1678159110,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:40+08:00","userKey":159}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159120472-402229\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:18:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T11:18:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.64 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T11:18:44+08:00"}
{"Addr":"[::1]:59600","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T11:18:44+08:00"}
{"client.Addr":"[::1]:59600","client.UserID":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T11:18:44+08:00"}
{"AppId":1,"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:45","func":"bychat/api/v1/user.Login","id":342,"level":"info","msg":"Login Info","name":"司马敏","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.54 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:41124","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:41124","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159126142-960281\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":1,\"token\":\"1678159126\"}}","time":"2023-03-07T11:18:46+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159126142-960281\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":1,\"token\":\"1678159126\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:46+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:46+08:00","userKey":342}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159126142-960281\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:41124","time":"2023-03-07T11:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:18:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:18:48+08:00"}
{"currentTime":1678159131,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:18:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159136154-229473\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:18:56+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159136154-229473\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:18:56+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:18:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:18:56+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159136154-229473\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:19:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159146477-951602\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:19:06+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159146477-951602\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:19:06+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:19:06+08:00"}
{"HeartbeatTime":1678159136,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:06+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159146477-951602\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:19:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:19:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:19:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:19:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159156470-266320\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:19:16+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159156470-266320\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:19:16+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:19:16+08:00"}
{"HeartbeatTime":1678159146,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:16+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159156470-266320\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:19:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:19:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159166479-983934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:19:26+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159166479-983934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:19:26+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:19:26+08:00"}
{"HeartbeatTime":1678159156,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:26+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159166479-983934\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:19:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:19:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.13 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:19:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:19:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:19:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159176469-512885\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:19:36+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159176469-512885\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:19:36+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:19:36+08:00"}
{"HeartbeatTime":1678159166,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:36+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159176469-512885\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:19:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:19:42+08:00"}
{"client.Addr":"[::1]:59600","client.HeartbeatTime":1678159120,"client.LoginTime":1678158850,"client.UserID":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:316","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T11:19:42+08:00"}
{"HeartbeatTime":1678159120,"IsLogoff":false,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:42+08:00","userKey":159}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:225","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:59600","time":"2023-03-07T11:19:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:59600ok:false","time":"2023-03-07T11:19:42+08:00"}
{"client.Addr":"[::1]:59600","client.UserID":159,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T11:19:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T11:19:42+08:00","valByte":"[\"172.30.41.217:9001\",\"1678159131\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"532896125","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T11:19:42+08:00","userID":159}
{"HeartbeatTime":1678159120,"IsLogoff":true,"LoginTime":1678158850,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:42+08:00","userKey":159}
{"appID":0,"data":"{\"seq\":\"532896125\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"漆雕徒父\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T11:19:42+08:00","userID":159}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159186482-952170\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:19:46+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159186482-952170\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:19:46+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:19:46+08:00"}
{"HeartbeatTime":1678159176,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:46+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159186482-952170\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:19:46+08:00"}
{"currentTime":1678159191,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:19:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:19:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T11:19:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T11:19:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159196482-369309\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:19:56+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159196482-369309\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:19:56+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:19:56+08:00"}
{"HeartbeatTime":1678159186,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:19:56+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159196482-369309\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:19:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:20:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159206472-719569\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:20:06+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159206472-719569\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:20:06+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:20:06+08:00"}
{"HeartbeatTime":1678159196,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:20:06+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159206472-719569\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:20:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:20:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159216473-934555\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:20:16+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159216473-934555\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:20:16+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:20:16+08:00"}
{"HeartbeatTime":1678159206,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:20:16+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159216473-934555\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:20:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:20:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159226477-647419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:20:26+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159226477-647419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:20:26+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:20:26+08:00"}
{"HeartbeatTime":1678159216,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:20:26+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159226477-647419\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:20:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159236495-141609\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:20:36+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159236495-141609\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:20:36+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:20:36+08:00"}
{"HeartbeatTime":1678159226,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:20:36+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159236495-141609\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:20:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:20:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159246469-444555\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:20:46+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159246469-444555\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:20:46+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:20:46+08:00"}
{"HeartbeatTime":1678159236,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:20:46+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159246469-444555\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:20:46+08:00"}
{"currentTime":1678159251,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:20:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:20:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159256478-732096\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:20:56+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159256478-732096\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:20:56+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:20:56+08:00"}
{"HeartbeatTime":1678159246,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:20:56+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159256478-732096\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:20:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:21:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159266483-423143\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:21:06+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159266483-423143\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:21:06+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:21:06+08:00"}
{"HeartbeatTime":1678159256,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:21:06+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159266483-423143\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:21:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:21:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159276472-901111\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:21:16+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159276472-901111\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:21:16+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:21:16+08:00"}
{"HeartbeatTime":1678159266,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:21:16+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159276472-901111\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:21:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:21:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159286477-328196\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:21:26+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159286477-328196\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:21:26+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:21:26+08:00"}
{"HeartbeatTime":1678159276,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:21:26+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159286477-328196\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:21:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:21:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159296480-374253\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:21:36+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159296480-374253\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:21:36+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:21:36+08:00"}
{"HeartbeatTime":1678159286,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:21:36+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159296480-374253\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:21:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:21:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159306480-356072\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:21:46+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159306480-356072\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:21:46+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:21:46+08:00"}
{"HeartbeatTime":1678159296,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:21:46+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159306480-356072\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:21:46+08:00"}
{"currentTime":1678159311,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:21:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:21:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159316483-352382\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:21:56+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159316483-352382\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:21:56+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:21:56+08:00"}
{"HeartbeatTime":1678159306,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:21:56+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159316483-352382\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:21:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:22:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159326480-636256\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:22:06+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159326480-636256\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:22:06+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:22:06+08:00"}
{"HeartbeatTime":1678159316,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:22:06+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159326480-636256\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:22:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:22:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159336484-998147\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:22:16+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159336484-998147\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:22:16+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:22:16+08:00"}
{"HeartbeatTime":1678159326,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:22:16+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159336484-998147\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:22:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:22:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159346472-370562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:22:26+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159346472-370562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:22:26+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:22:26+08:00"}
{"HeartbeatTime":1678159336,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:22:26+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159346472-370562\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:22:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:22:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159356469-881083\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:22:36+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159356469-881083\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:22:36+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:22:36+08:00"}
{"HeartbeatTime":1678159346,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:22:36+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159356469-881083\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:22:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:22:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159366470-476662\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:22:46+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159366470-476662\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:22:46+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:22:46+08:00"}
{"HeartbeatTime":1678159356,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:22:46+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159366470-476662\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:22:46+08:00"}
{"currentTime":1678159371,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:22:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159376480-395387\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:22:56+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159376480-395387\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:22:56+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:22:56+08:00"}
{"HeartbeatTime":1678159366,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:22:56+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159376480-395387\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:23:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159386474-914945\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:23:06+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159386474-914945\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:23:06+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:23:06+08:00"}
{"HeartbeatTime":1678159376,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:23:06+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159386474-914945\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:23:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159396480-982769\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:23:16+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159396480-982769\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:23:16+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:23:16+08:00"}
{"HeartbeatTime":1678159386,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:23:16+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159396480-982769\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:23:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:23:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159406471-185191\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:23:26+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159406471-185191\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:23:26+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:23:26+08:00"}
{"HeartbeatTime":1678159396,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:23:26+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159406471-185191\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:23:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:23:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159416479-149410\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:23:36+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159416479-149410\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:23:36+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:23:36+08:00"}
{"HeartbeatTime":1678159406,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:23:36+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159416479-149410\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:23:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:23:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159426473-281755\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:23:46+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159426473-281755\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:23:46+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:23:46+08:00"}
{"HeartbeatTime":1678159416,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:23:46+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159426473-281755\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:23:46+08:00"}
{"currentTime":1678159431,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:23:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:23:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159436472-699525\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:23:56+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159436472-699525\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:23:56+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:23:56+08:00"}
{"HeartbeatTime":1678159426,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:23:56+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159436472-699525\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:24:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:24:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:24:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:24:42+08:00"}
{"currentTime":1678159491,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:24:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:24:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159497473-531506\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:24:57+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159497473-531506\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:24:57+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:24:57+08:00"}
{"HeartbeatTime":1678159436,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:24:57+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159497473-531506\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:24:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:25:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:25:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:25:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:25:42+08:00"}
{"currentTime":1678159551,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:25:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159558482-374468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:25:58+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159558482-374468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:25:58+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:25:58+08:00"}
{"HeartbeatTime":1678159497,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:25:58+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159558482-374468\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:25:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:26:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:26:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:26:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:26:42+08:00"}
{"currentTime":1678159611,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:26:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:26:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159619480-172297\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:26:59+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159619480-172297\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:26:59+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:26:59+08:00"}
{"HeartbeatTime":1678159558,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:26:59+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159619480-172297\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:26:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:27:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:27:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:27:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:27:42+08:00"}
{"currentTime":1678159671,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:27:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:27:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159680475-774553\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:28:00+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159680475-774553\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:28:00+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:28:00+08:00"}
{"HeartbeatTime":1678159619,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:28:00+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159680475-774553\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:28:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:28:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:28:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:28:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:28:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:28:42+08:00"}
{"currentTime":1678159731,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:28:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:28:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159741482-224801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:29:01+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159741482-224801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:29:01+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:29:01+08:00"}
{"HeartbeatTime":1678159680,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:29:01+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159741482-224801\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:29:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:29:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:29:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:29:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:29:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:29:42+08:00"}
{"currentTime":1678159791,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:29:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:29:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159802469-876068\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:30:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159802469-876068\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:30:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:30:02+08:00"}
{"HeartbeatTime":1678159741,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:30:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159802469-876068\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:30:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:30:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:30:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:30:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:30:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:30:42+08:00"}
{"currentTime":1678159851,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:30:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:30:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159862470-497821\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:31:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159862470-497821\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:31:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:31:02+08:00"}
{"HeartbeatTime":1678159802,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:31:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159862470-497821\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:31:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:31:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:31:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:31:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:31:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:31:42+08:00"}
{"currentTime":1678159911,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:31:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:31:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159922470-958484\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:32:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159922470-958484\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:32:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:32:02+08:00"}
{"HeartbeatTime":1678159862,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:32:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159922470-958484\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:32:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:32:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:32:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:32:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:32:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:32:42+08:00"}
{"currentTime":1678159971,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:32:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:32:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678159982471-439782\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:33:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678159982471-439782\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:33:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:33:02+08:00"}
{"HeartbeatTime":1678159922,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:33:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678159982471-439782\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:33:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:33:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:33:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:33:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:33:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:33:42+08:00"}
{"currentTime":1678160031,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:33:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:33:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160042475-779822\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:34:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160042475-779822\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:34:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:34:02+08:00"}
{"HeartbeatTime":1678159982,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:34:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160042475-779822\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:34:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:34:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:34:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:34:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:34:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:34:42+08:00"}
{"currentTime":1678160091,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:34:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:34:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160102480-512545\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:35:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160102480-512545\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:35:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:35:02+08:00"}
{"HeartbeatTime":1678160042,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:35:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160102480-512545\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:35:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:35:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:35:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:35:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:35:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:35:42+08:00"}
{"currentTime":1678160151,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:35:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:35:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160162482-150256\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:36:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160162482-150256\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:36:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:36:02+08:00"}
{"HeartbeatTime":1678160102,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:36:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160162482-150256\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:36:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:36:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:36:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:36:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:36:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:36:43+08:00"}
{"currentTime":1678160211,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:36:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:36:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160222484-807224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:37:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160222484-807224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:37:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:37:02+08:00"}
{"HeartbeatTime":1678160162,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:37:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160222484-807224\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:37:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:37:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:37:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:37:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:37:43+08:00"}
{"currentTime":1678160271,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:37:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:37:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160282474-181536\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:38:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160282474-181536\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:38:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:38:02+08:00"}
{"HeartbeatTime":1678160222,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:38:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160282474-181536\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:38:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:38:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:38:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:38:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:38:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:38:43+08:00"}
{"currentTime":1678160331,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:38:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:38:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160342476-421439\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:39:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160342476-421439\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:39:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:39:02+08:00"}
{"HeartbeatTime":1678160282,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:39:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160342476-421439\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:39:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:39:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:39:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:39:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:39:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:39:43+08:00"}
{"currentTime":1678160391,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:39:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:39:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160402482-673367\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:40:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160402482-673367\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:40:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:40:02+08:00"}
{"HeartbeatTime":1678160342,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:40:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160402482-673367\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:40:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:40:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:40:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:40:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:40:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:40:43+08:00"}
{"currentTime":1678160451,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:40:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:40:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160462481-596539\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:41:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160462481-596539\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:41:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:41:02+08:00"}
{"HeartbeatTime":1678160402,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:41:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160462481-596539\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:41:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:41:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:41:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:41:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:41:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:41:43+08:00"}
{"currentTime":1678160511,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:41:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:41:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160522483-895654\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:42:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160522483-895654\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:42:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:42:02+08:00"}
{"HeartbeatTime":1678160462,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:42:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160522483-895654\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:42:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:42:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:42:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:42:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:42:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:42:43+08:00"}
{"currentTime":1678160571,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:42:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:42:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160582469-538374\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:43:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160582469-538374\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:43:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:43:02+08:00"}
{"HeartbeatTime":1678160522,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:43:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160582469-538374\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:43:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:43:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:43:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:43:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:43:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:43:43+08:00"}
{"currentTime":1678160631,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:43:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:43:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160642482-520658\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:44:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160642482-520658\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:44:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:44:02+08:00"}
{"HeartbeatTime":1678160582,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:44:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160642482-520658\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:44:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:44:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:44:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:44:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:44:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:44:43+08:00"}
{"currentTime":1678160691,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:44:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:44:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160702483-161346\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:45:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160702483-161346\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:45:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:45:02+08:00"}
{"HeartbeatTime":1678160642,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:45:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160702483-161346\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:45:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:45:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:45:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:45:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:45:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:45:43+08:00"}
{"currentTime":1678160751,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:45:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:45:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160762474-143795\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:46:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160762474-143795\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:46:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:46:02+08:00"}
{"HeartbeatTime":1678160702,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:46:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160762474-143795\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:46:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:46:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:46:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:46:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:46:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:46:43+08:00"}
{"currentTime":1678160811,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:46:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:46:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160822482-182430\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:47:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160822482-182430\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:47:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:47:02+08:00"}
{"HeartbeatTime":1678160762,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:47:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160822482-182430\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:47:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:47:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:47:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:47:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:47:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:47:43+08:00"}
{"currentTime":1678160871,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160882475-845832\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:48:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160882475-845832\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:48:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:48:02+08:00"}
{"HeartbeatTime":1678160822,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:48:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160882475-845832\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:48:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:48:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:48:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:48:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:48:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:48:43+08:00"}
{"currentTime":1678160931,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:48:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:48:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678160942478-492228\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:49:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678160942478-492228\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:49:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:49:02+08:00"}
{"HeartbeatTime":1678160882,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:49:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678160942478-492228\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:49:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:49:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:49:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:49:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:49:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:49:43+08:00"}
{"currentTime":1678160991,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:49:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:49:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678161002476-918606\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:50:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678161002476-918606\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:50:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:50:02+08:00"}
{"HeartbeatTime":1678160942,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:50:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678161002476-918606\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:50:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:50:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:50:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:50:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:50:43+08:00"}
{"currentTime":1678161051,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:50:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:50:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678161062474-778138\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:51:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678161062474-778138\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:51:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:51:02+08:00"}
{"HeartbeatTime":1678161002,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:51:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678161062474-778138\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:51:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:51:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:51:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:51:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:51:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:51:43+08:00"}
{"currentTime":1678161111,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:51:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:51:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678161122477-476884\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:52:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678161122477-476884\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:52:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:52:02+08:00"}
{"HeartbeatTime":1678161062,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:52:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678161122477-476884\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:52:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:52:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:52:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:52:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:52:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:52:43+08:00"}
{"currentTime":1678161171,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:52:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:52:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678161182471-583524\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:53:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678161182471-583524\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:53:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:53:02+08:00"}
{"HeartbeatTime":1678161122,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:53:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678161182471-583524\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:53:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:53:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:53:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:53:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:53:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:53:43+08:00"}
{"currentTime":1678161231,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:53:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:53:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678161242471-742806\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:54:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678161242471-742806\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:54:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:54:02+08:00"}
{"HeartbeatTime":1678161182,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:54:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678161242471-742806\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:54:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:54:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:54:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:54:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:54:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:54:43+08:00"}
{"currentTime":1678161291,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T11:54:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:54:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678161302476-746350\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T11:55:02+08:00"}
{"addr":"[::1]:41124","data":"{\"seq\":\"1678161302476-746350\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T11:55:02+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T11:55:02+08:00"}
{"HeartbeatTime":1678161242,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T11:55:02+08:00","userKey":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678161302476-746350\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T11:55:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:55:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:55:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:55:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T11:55:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:11:29+08:00"}
{"client.Addr":"[::1]:41124","client.HeartbeatTime":1678161302,"client.LoginTime":1678159126,"client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:316","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T12:11:29+08:00"}
{"currentTime":1678162289,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:11:29+08:00"}
{"Addr":"[::1]:41124","err":"websocket: close 1006 (abnormal closure): unexpected EOF","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T12:11:29+08:00"}
{"client.Addr":"[::1]:41124","client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T12:11:29+08:00"}
{"HeartbeatTime":1678161302,"IsLogoff":false,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T12:11:29+08:00","userKey":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:225","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:41124","time":"2023-03-07T12:11:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T12:11:29+08:00","valByte":"[\"172.30.41.217:9001\",\"1678162289\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:41124ok:false","time":"2023-03-07T12:11:29+08:00"}
{"client.Addr":"[::1]:41124","client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T12:11:29+08:00"}
{"appID":1,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"405985253","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T12:11:29+08:00","userID":342}
{"HeartbeatTime":1678161302,"IsLogoff":true,"LoginTime":1678159126,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-07T12:11:29+08:00","userKey":342}
{"appID":1,"data":"{\"seq\":\"405985253\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"司马敏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-07T12:11:29+08:00","userID":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:11:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:11:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:11:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:12:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:12:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:12:29+08:00"}
{"currentTime":1678162349,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:12:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:12:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:12:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:12:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:13:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:13:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:13:29+08:00"}
{"currentTime":1678162409,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:13:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:13:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:13:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:14:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:14:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:14:29+08:00"}
{"currentTime":1678162469,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:14:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:14:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:14:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:15:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:15:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:15:29+08:00"}
{"currentTime":1678162529,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:15:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:15:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:15:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:15:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:16:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:16:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:16:29+08:00"}
{"currentTime":1678162589,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:16:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:16:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:16:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:16:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:17:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:17:19+08:00"}
{"currentTime":1678162649,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:17:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:17:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:17:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:17:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:17:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:18:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:18:19+08:00"}
{"currentTime":1678162709,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:18:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:18:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:18:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:18:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:19:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:19:19+08:00"}
{"currentTime":1678162769,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:19:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:19:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:19:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:19:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:19:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:20:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:20:19+08:00"}
{"currentTime":1678162829,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:20:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:20:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:20:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:20:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:20:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:21:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:21:19+08:00"}
{"currentTime":1678162889,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:21:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:21:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:21:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:21:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:21:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:22:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:22:19+08:00"}
{"currentTime":1678162949,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:22:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:22:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:22:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:22:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:22:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:23:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:23:19+08:00"}
{"currentTime":1678163009,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:23:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:23:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:23:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:23:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:23:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:24:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:24:19+08:00"}
{"currentTime":1678163069,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:24:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:24:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:24:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:24:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:24:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:25:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:25:19+08:00"}
{"currentTime":1678163129,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:25:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:25:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:25:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:25:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:25:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:26:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:26:19+08:00"}
{"currentTime":1678163189,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:26:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:26:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:26:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:26:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:26:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:27:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:27:19+08:00"}
{"currentTime":1678163249,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:27:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:27:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:27:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:27:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:27:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:28:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:28:19+08:00"}
{"currentTime":1678163309,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:28:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:28:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:28:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:28:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:28:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:29:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:29:19+08:00"}
{"currentTime":1678163369,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:29:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:29:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:29:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:29:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:29:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:30:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:30:19+08:00"}
{"currentTime":1678163429,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:30:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:30:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:30:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:30:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:30:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:31:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:31:19+08:00"}
{"currentTime":1678163489,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:31:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:31:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:31:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:31:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:31:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:32:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:32:19+08:00"}
{"currentTime":1678163549,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:32:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:32:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:32:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:32:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:32:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:33:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:33:19+08:00"}
{"currentTime":1678163609,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:33:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:33:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:33:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:33:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:34:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:34:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:34:20+08:00"}
{"currentTime":1678163669,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:34:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:34:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:34:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:34:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:35:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:35:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:35:20+08:00"}
{"currentTime":1678163729,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:35:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:35:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:35:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:35:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:36:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:36:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:36:20+08:00"}
{"currentTime":1678163789,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:36:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:36:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:36:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:36:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:37:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:37:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:37:20+08:00"}
{"currentTime":1678163849,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:37:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:37:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:37:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:38:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:38:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:38:20+08:00"}
{"currentTime":1678163909,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:38:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:38:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:38:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:38:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:39:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:39:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:39:20+08:00"}
{"currentTime":1678163969,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:39:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:39:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:39:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:39:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:40:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:40:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:40:20+08:00"}
{"currentTime":1678164029,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:40:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:40:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:40:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:40:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:41:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:41:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:41:20+08:00"}
{"currentTime":1678164089,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:41:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:41:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:41:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:41:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:42:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:42:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:42:20+08:00"}
{"currentTime":1678164149,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:42:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:42:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:42:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:43:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:43:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:43:20+08:00"}
{"currentTime":1678164209,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:43:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:43:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:43:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:43:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:44:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:44:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:44:20+08:00"}
{"currentTime":1678164269,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:44:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:44:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:44:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:44:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:45:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:45:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:45:20+08:00"}
{"currentTime":1678164329,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:45:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:45:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:45:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:45:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:46:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:46:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:46:20+08:00"}
{"currentTime":1678164389,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:46:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:46:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:46:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:46:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:47:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:47:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:47:20+08:00"}
{"currentTime":1678164449,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:47:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:47:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:47:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:48:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:48:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:48:20+08:00"}
{"currentTime":1678164509,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:48:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:48:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:48:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:49:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:49:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:49:20+08:00"}
{"currentTime":1678164569,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T12:49:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:49:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:49:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:49:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:50:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T12:50:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:01:36+08:00"}
{"currentTime":1678165296,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:01:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:01:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:01:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:02:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:02:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:02:26+08:00"}
{"currentTime":1678165356,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:02:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:02:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:02:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:02:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:03:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:03:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:03:26+08:00"}
{"currentTime":1678165416,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:03:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:03:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:03:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:03:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:04:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:04:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:04:26+08:00"}
{"currentTime":1678165476,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:04:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:04:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:04:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:04:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:05:26+08:00"}
{"currentTime":1678165536,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:05:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:05:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:05:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:05:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:06:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:06:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:06:27+08:00"}
{"currentTime":1678165596,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:06:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:06:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:06:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:07:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:07:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:07:27+08:00"}
{"currentTime":1678165656,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:07:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:07:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:07:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:07:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:08:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:08:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:08:27+08:00"}
{"currentTime":1678165716,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:08:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:08:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:09:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:09:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:09:27+08:00"}
{"currentTime":1678165776,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:09:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:09:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:09:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:09:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:10:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:10:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:10:27+08:00"}
{"currentTime":1678165836,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:10:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:10:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:10:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:10:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:11:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:11:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:11:27+08:00"}
{"currentTime":1678165896,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:11:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:11:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:11:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:11:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:12:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:12:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:12:27+08:00"}
{"currentTime":1678165956,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:12:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:12:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:12:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:12:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:13:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:13:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:13:27+08:00"}
{"currentTime":1678166016,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:13:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:13:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:13:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:13:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:14:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:14:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:14:27+08:00"}
{"currentTime":1678166076,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:14:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:14:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:14:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:14:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:15:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:15:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:15:27+08:00"}
{"currentTime":1678166136,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:15:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:15:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:17:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:17:33+08:00"}
{"currentTime":1678166255,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:17:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:17:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:17:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.06 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:17:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.04 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:17:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:17:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:17:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:18:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:18:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:18:26+08:00"}
{"currentTime":1678166315,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:18:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:18:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:18:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:18:47+08:00"}
{"currentTime":1678166329,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.09 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:19:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.35 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:19:27+08:00"}
{"currentTime":1678166368,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:19:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/routers/web_routers.go:54","func":"bychat/internal/routers.postAlbums","level":"error","msg":"错误invalid character 'i' looking for beginning of value","time":"2023-03-07T13:19:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:19:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:19:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:20:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:20:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:20:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:20:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.88 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:20:14+08:00"}
{"currentTime":1678166415,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:20:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/routers/web_routers.go:54","func":"bychat/internal/routers.postAlbums","level":"error","msg":"错误invalid character 'i' looking for beginning of value","time":"2023-03-07T13:20:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:20:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:20:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:20:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:20:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:20:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:20:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:21:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:21:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:21:09+08:00"}
{"currentTime":1678166471,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:21:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:21:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:21:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.9 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:21:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/routers/web_routers.go:54","func":"bychat/internal/routers.postAlbums","level":"error","msg":"错误invalid character 'i' looking for beginning of value","time":"2023-03-07T13:21:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:21:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:21:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:21:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:21:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:21:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:23:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:23:51+08:00"}
{"currentTime":1678166633,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:23:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:23:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:23:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.43 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:23:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/routers/web_routers.go:54","func":"bychat/internal/routers.postAlbums","level":"error","msg":"错误invalid character 'i' looking for beginning of value","time":"2023-03-07T13:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:24:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:24:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:24:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:24:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:24:44+08:00"}
{"currentTime":1678166685,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:24:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/routers/web_routers.go:54","func":"bychat/internal/routers.postAlbums","level":"error","msg":"错误invalid character 'i' looking for beginning of value","time":"2023-03-07T13:24:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.36 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:24:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:24:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:24:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.39 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:25:05+08:00"}
{"currentTime":1678166706,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:25:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.09 method:POST statusCode:201 uri:/user/login]","time":"2023-03-07T13:25:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:25:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:25:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:25:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:25:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:25:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.84 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:25:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.12 method:POST statusCode:201 uri:/user/login]","time":"2023-03-07T13:25:20+08:00"}
{"currentTime":1678166720,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:25:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:25:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:25:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.27 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:25:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.06 method:POST statusCode:201 uri:/user/login]","time":"2023-03-07T13:25:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:25:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:25:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:25:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:26:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:26:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:26:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:26:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.26 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:26:21+08:00"}
{"currentTime":1678166782,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:26:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/routers/web_routers.go:54","func":"bychat/internal/routers.postAlbums","level":"error","msg":"错误json: cannot unmarshal string into Go struct field album.id of type int","time":"2023-03-07T13:26:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.19 method:POST statusCode:400 uri:/user/login]","time":"2023-03-07T13:26:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:26:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:39:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:39:49+08:00"}
{"currentTime":1678167591,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:39:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:39:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:39:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.91 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:39:52+08:00"}
{"AppId":1,"UserId":458,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":458,"level":"info","msg":"Login Info","name":"马远","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.34 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:32914","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:32914","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167594073-274120\",\"cmd\":\"bind\",\"data\":{\"userID\":458,\"appID\":1,\"token\":\"1678167594\"}}","time":"2023-03-07T13:39:54+08:00"}
{"addr":"[::1]:32914","data":"{\"seq\":\"1678167594073-274120\",\"cmd\":\"bind\",\"data\":{\"userID\":458,\"appID\":1,\"token\":\"1678167594\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:39:54+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167594073-274120\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:32914","time":"2023-03-07T13:39:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:172","func":"bychat/api/v1/user.EnterChatRoom","level":"error","msg":"EnterChatRoom Param Failedinvalid character 'r' looking for beginning of value","time":"2023-03-07T13:39:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.71 method:POST statusCode:400 uri:/user/enter]","time":"2023-03-07T13:39:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:40:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:40:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:40:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:41:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.23 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:41:00+08:00"}
{"currentTime":1678167661,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:41:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:41:02+08:00"}
{"AppId":1,"UserId":317,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":317,"level":"info","msg":"Login Info","name":"赵云","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.63 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:50284","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:50284","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167665333-188008\",\"cmd\":\"bind\",\"data\":{\"userID\":317,\"appID\":1,\"token\":\"1678167665\"}}","time":"2023-03-07T13:41:05+08:00"}
{"addr":"[::1]:50284","data":"{\"seq\":\"1678167665333-188008\",\"cmd\":\"bind\",\"data\":{\"userID\":317,\"appID\":1,\"token\":\"1678167665\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:41:05+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167665333-188008\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:41:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:50284","time":"2023-03-07T13:41:05+08:00"}
{"AppId":1,"RoomID":101,"UserId":317,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T13:41:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T13:41:06+08:00","valByte":"[\"172.30.41.217:9001\",\"1678167661\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"631701520","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T13:41:06+08:00","userID":317}
{"appID":1,"data":"{\"seq\":\"631701520\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"赵云\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T13:41:06+08:00","userID":317}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:317","time":"2023-03-07T13:41:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.74 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T13:41:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.8 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T13:41:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:75","func":"bychat/api/v1/user.GetRoomUserList","level":"error","msg":"websocket Login BindJSON:EOF","time":"2023-03-07T13:41:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.19 method:GET statusCode:400 uri:/user/list?roomID=101]","time":"2023-03-07T13:41:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:41:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167675334-933162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","time":"2023-03-07T13:41:15+08:00"}
{"addr":"[::1]:50284","data":"{\"seq\":\"1678167675334-933162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:41:15+08:00"}
{"UserId":317,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T13:41:15+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167675334-933162\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:41:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:41:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167685469-598200\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","time":"2023-03-07T13:41:25+08:00"}
{"addr":"[::1]:50284","data":"{\"seq\":\"1678167685469-598200\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:41:25+08:00"}
{"UserId":317,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T13:41:25+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167685469-598200\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:41:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:41:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167695480-988357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","time":"2023-03-07T13:41:35+08:00"}
{"addr":"[::1]:50284","data":"{\"seq\":\"1678167695480-988357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:41:35+08:00"}
{"UserId":317,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T13:41:35+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167695480-988357\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:41:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:41:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167705517-162685\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","time":"2023-03-07T13:41:45+08:00"}
{"addr":"[::1]:50284","data":"{\"seq\":\"1678167705517-162685\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":317}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:41:45+08:00"}
{"UserId":317,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T13:41:45+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167705517-162685\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:41:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T13:41:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T13:41:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T13:41:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.3 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T13:41:48+08:00"}
{"currentTime":1678167709,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T13:41:49+08:00"}
{"AppId":1,"UserId":517,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":517,"level":"info","msg":"Login Info","name":"端华","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.4 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:50042","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:50042","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678167709425-399694\",\"cmd\":\"bind\",\"data\":{\"userID\":517,\"appID\":1,\"token\":\"1678167709\"}}","time":"2023-03-07T13:41:49+08:00"}
{"addr":"[::1]:50042","data":"{\"seq\":\"1678167709425-399694\",\"cmd\":\"bind\",\"data\":{\"userID\":517,\"appID\":1,\"token\":\"1678167709\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T13:41:49+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678167709425-399694\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:50042","time":"2023-03-07T13:41:49+08:00"}
{"AppId":1,"RoomID":101,"UserId":517,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T13:41:49+08:00","valByte":"[\"172.30.41.217:9001\",\"1678167709\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"893574953","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T13:41:49+08:00","userID":517}
{"appID":1,"data":"{\"seq\":\"893574953\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"端华\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T13:41:49+08:00","userID":517}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:517","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.2 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.46 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T13:41:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T13:41:50+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T13:41:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T13:41:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T13:41:50+08:00","valByte":"[\"172.30.41.217:9001\",\"1678167709\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.66 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T13:41:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:00:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:00:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:00:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.18 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:00:56+08:00"}
{"currentTime":1678168856,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:00:56+08:00"}
{"AppId":1,"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":82,"level":"info","msg":"Login Info","name":"徐贲","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.82 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:42542","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:42542","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168857142-775571\",\"cmd\":\"bind\",\"data\":{\"userID\":82,\"appID\":1,\"token\":\"1678168857\"}}","time":"2023-03-07T14:00:57+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168857142-775571\",\"cmd\":\"bind\",\"data\":{\"userID\":82,\"appID\":1,\"token\":\"1678168857\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:42542","time":"2023-03-07T14:00:57+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168857142-775571\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:00:57+08:00"}
{"AppId":1,"RoomID":101,"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:00:57+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"511371582","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:00:57+08:00","userID":82}
{"appID":1,"data":"{\"seq\":\"511371582\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"徐贲\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:00:57+08:00","userID":82}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:82","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.43 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.6 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:00:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:00:57+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:00:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T14:00:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:00:58+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.22 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:00:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:00:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.65 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:00:58+08:00"}
{"AppId":1,"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":250,"level":"info","msg":"Login Info","name":"班固","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.73 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:37576","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:37576","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168859405-456433\",\"cmd\":\"bind\",\"data\":{\"userID\":250,\"appID\":1,\"token\":\"1678168859\"}}","time":"2023-03-07T14:00:59+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168859405-456433\",\"cmd\":\"bind\",\"data\":{\"userID\":250,\"appID\":1,\"token\":\"1678168859\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:00:59+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168859405-456433\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:37576","time":"2023-03-07T14:00:59+08:00"}
{"AppId":1,"RoomID":101,"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:00:59+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"714017611","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:00:59+08:00","userID":250}
{"appID":1,"data":"{\"seq\":\"714017611\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"班固\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:00:59+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:250","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.91 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:00:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.33 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:00:59+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:01:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T14:01:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:01:00+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.78 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:01:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"啊啊","msg":"SendMessageAll","msgID":"1678168861953-140340","roomID":101,"time":"2023-03-07T14:01:01+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:01:01+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"啊啊","msg":"SendUserMessageAll","msgID":"1678168861953-140340","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:01:01+08:00","userID":250}
{"appID":0,"data":"{\"seq\":\"1678168861953-140340\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"啊啊\",\"from\":\"班固\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:01:01+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.54 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:01:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168867155-845661\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:01:07+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168867155-845661\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:07+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:07+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168867155-845661\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:01:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168869407-379652\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:01:09+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168869407-379652\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:09+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:09+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168869407-379652\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"as","msg":"SendMessageAll","msgID":"1678168870104-328841","roomID":101,"time":"2023-03-07T14:01:10+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:01:10+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"as","msg":"SendUserMessageAll","msgID":"1678168870104-328841","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:01:10+08:00","userID":250}
{"appID":0,"data":"{\"seq\":\"1678168870104-328841\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"as\",\"from\":\"班固\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:01:10+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.71 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:01:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"cx","msg":"SendMessageAll","msgID":"1678168876879-251926","roomID":101,"time":"2023-03-07T14:01:16+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:01:16+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168856\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"cx","msg":"SendUserMessageAll","msgID":"1678168876879-251926","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:01:16+08:00","userID":250}
{"appID":0,"data":"{\"seq\":\"1678168876879-251926\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"cx\",\"from\":\"班固\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:01:16+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.49 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:01:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168877483-765467\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:01:17+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168877483-765467\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:17+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:17+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168877483-765467\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:01:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168879413-948304\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:01:19+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168879413-948304\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:19+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:19+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168879413-948304\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168887474-900693\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:01:27+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168887474-900693\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:27+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:27+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168887474-900693\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:01:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168889479-797061\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:01:29+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168889479-797061\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:29+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:29+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168889479-797061\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168897480-289936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:01:37+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168897480-289936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:37+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:37+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168897480-289936\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:01:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168899470-463819\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:01:39+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168899470-463819\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:39+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:39+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168899470-463819\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168907473-192706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:01:47+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168907473-192706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:47+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:47+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168907473-192706\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:01:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168909483-245385\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:01:49+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168909483-245385\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:49+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:49+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168909483-245385\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:49+08:00"}
{"currentTime":1678168916,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:01:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168917469-995724\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:01:57+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168917469-995724\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:57+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:57+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168917469-995724\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:01:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168919471-378777\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:01:59+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168919471-378777\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:01:59+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:01:59+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168919471-378777\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:01:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168927470-270991\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:02:07+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168927470-270991\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:07+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:07+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168927470-270991\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:02:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168929483-882582\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","time":"2023-03-07T14:02:09+08:00"}
{"addr":"[::1]:37576","data":"{\"seq\":\"1678168929483-882582\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":250}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:09+08:00"}
{"UserId":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:09+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168929483-882582\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:02:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.47 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:02:13+08:00"}
{"Addr":"[::1]:37576","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-07T14:02:13+08:00"}
{"client.Addr":"[::1]:37576","client.UserID":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-07T14:02:13+08:00"}
{"AppId":1,"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":236,"level":"info","msg":"Login Info","name":"张良","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.52 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54566","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:54566","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168934655-952650\",\"cmd\":\"bind\",\"data\":{\"userID\":236,\"appID\":1,\"token\":\"1678168934\"}}","time":"2023-03-07T14:02:14+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168934655-952650\",\"cmd\":\"bind\",\"data\":{\"userID\":236,\"appID\":1,\"token\":\"1678168934\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:14+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168934655-952650\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:54566","time":"2023-03-07T14:02:14+08:00"}
{"AppId":1,"RoomID":101,"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:02:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168916\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"107012706","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:02:15+08:00","userID":236}
{"appID":1,"data":"{\"seq\":\"107012706\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:02:15+08:00","userID":236}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:236","time":"2023-03-07T14:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.88 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.49 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:02:15+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T14:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:02:15+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168916\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.65 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:02:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168937470-353185\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:02:17+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168937470-353185\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:17+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:17+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168937470-353185\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:02:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"xc","msg":"SendMessageAll","msgID":"1678168938995-252888","roomID":101,"time":"2023-03-07T14:02:19+08:00","userID":236}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:02:19+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168916\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"xc","msg":"SendUserMessageAll","msgID":"1678168938995-252888","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:02:19+08:00","userID":236}
{"appID":0,"data":"{\"seq\":\"1678168938995-252888\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"xc\",\"from\":\"张良\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:02:19+08:00","userID":236}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.25 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:02:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168944658-894554\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:02:24+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168944658-894554\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:24+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:24+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168944658-894554\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168947468-613843\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:02:27+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168947468-613843\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:27+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:27+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168947468-613843\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:02:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168954661-621496\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:02:34+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168954661-621496\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:34+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:34+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168954661-621496\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168957472-384999\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:02:37+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168957472-384999\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:37+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:37+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168957472-384999\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:02:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168965475-265853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:02:45+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168965475-265853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:45+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:45+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168965475-265853\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168967475-259190\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:02:47+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168967475-259190\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:47+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:47+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168967475-259190\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:02:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168975028-448012\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:02:55+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168975028-448012\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:55+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:55+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168975028-448012\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:55+08:00"}
{"currentTime":1678168976,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:02:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168977470-854906\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:02:57+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168977470-854906\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:02:57+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:02:57+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168977470-854906\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:02:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:02:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168985472-653758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:03:05+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168985472-653758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:05+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:05+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168985472-653758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168987474-869748\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:03:07+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168987474-869748\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:07+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:07+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168987474-869748\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:03:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态true","time":"2023-03-07T14:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.21 method:GET statusCode:200 uri:/system/state?isDebug=true]","time":"2023-03-07T14:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168994661-383643\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:03:14+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678168994661-383643\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:14+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:14+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168994661-383643\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678168997475-342834\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:03:17+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678168997475-342834\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:17+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:17+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678168997475-342834\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:03:17+08:00"}
{"client.Addr":"[::1]:37576","client.HeartbeatTime":1678168929,"client.LoginTime":1678168859,"client.UserID":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:316","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-07T14:03:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:225","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:37576","time":"2023-03-07T14:03:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:37576ok:false","time":"2023-03-07T14:03:17+08:00"}
{"client.Addr":"[::1]:37576","client.UserID":250,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-07T14:03:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:03:17+08:00","valByte":"[\"172.30.41.217:9001\",\"1678168976\"]"}
{"appID":1,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"729870696","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:03:17+08:00","userID":250}
{"appID":1,"data":"{\"seq\":\"729870696\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"班固\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:03:17+08:00","userID":250}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169005469-396748\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:03:25+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169005469-396748\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:25+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:25+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169005469-396748\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169007483-443719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:03:27+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169007483-443719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:27+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:27+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169007483-443719\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:03:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169015469-989308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:03:35+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169015469-989308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:35+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:35+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169015469-989308\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169017481-820966\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:03:37+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169017481-820966\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:37+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:37+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169017481-820966\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:03:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169025483-877815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:03:45+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169025483-877815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:45+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:45+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169025483-877815\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169027471-220292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:03:47+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169027471-220292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:47+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:47+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169027471-220292\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:03:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169035468-453404\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:03:55+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169035468-453404\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:55+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:55+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169035468-453404\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:55+08:00"}
{"currentTime":1678169036,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:03:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169037469-536941\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:03:57+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169037469-536941\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:03:57+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:03:57+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169037469-536941\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:03:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:03:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169045473-410524\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:04:05+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169045473-410524\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:05+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:05+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169045473-410524\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169047483-917952\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:04:07+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169047483-917952\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:07+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:07+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169047483-917952\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:04:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169055476-297791\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:04:15+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169055476-297791\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:15+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:15+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169055476-297791\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169057481-134511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:04:17+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169057481-134511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:17+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:17+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169057481-134511\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:04:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169065469-108349\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:04:25+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169065469-108349\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:25+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:25+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169065469-108349\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169067470-406590\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:04:27+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169067470-406590\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:27+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:27+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169067470-406590\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:04:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169074663-420407\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:04:34+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169074663-420407\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:34+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:34+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169074663-420407\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169077146-604638\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:04:37+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169077146-604638\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:37+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:37+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169077146-604638\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:04:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169085479-580374\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:04:45+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169085479-580374\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:45+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:45+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169085479-580374\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169087475-873447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:04:47+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169087475-873447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:47+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:47+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169087475-873447\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:04:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169095470-434944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:04:55+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169095470-434944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:55+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:55+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169095470-434944\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:55+08:00"}
{"currentTime":1678169096,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:04:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169097482-539446\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:04:57+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169097482-539446\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:04:57+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:04:57+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169097482-539446\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:04:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:04:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169105469-642171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:05:05+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169105469-642171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:05+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:05+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169105469-642171\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169107479-450331\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:05:07+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169107479-450331\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:07+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:07+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169107479-450331\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:05:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169115473-868130\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:05:15+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169115473-868130\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:15+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:15+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169115473-868130\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169117474-892626\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:05:17+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169117474-892626\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:17+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:17+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169117474-892626\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:05:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169125468-604647\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:05:25+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169125468-604647\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:25+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:25+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169125468-604647\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169127481-984589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:05:27+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169127481-984589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:27+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:27+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169127481-984589\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:05:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169135472-174640\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:05:35+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169135472-174640\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:35+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:35+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169135472-174640\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169137479-994618\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:05:37+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169137479-994618\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:37+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:37+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169137479-994618\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:05:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169145482-169633\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:05:45+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169145482-169633\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:45+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:45+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169145482-169633\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169147475-504471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:05:47+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169147475-504471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:47+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:47+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169147475-504471\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:05:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169155480-540080\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:05:55+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169155480-540080\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:55+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:55+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169155480-540080\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:55+08:00"}
{"currentTime":1678169156,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:05:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169157483-782533\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:05:57+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169157483-782533\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:05:57+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:05:57+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169157483-782533\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:05:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:05:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169165476-612679\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:06:05+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169165476-612679\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:05+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:05+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169165476-612679\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169167481-243046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:06:07+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169167481-243046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:07+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:07+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169167481-243046\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:06:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169175469-239386\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:06:15+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169175469-239386\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:15+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:15+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169175469-239386\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169177475-155445\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:06:17+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169177475-155445\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:17+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:17+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169177475-155445\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:06:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169185471-123580\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:06:25+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169185471-123580\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:25+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:25+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169185471-123580\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169187480-228758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:06:27+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169187480-228758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:27+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:27+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169187480-228758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:06:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169195477-917818\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:06:35+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169195477-917818\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:35+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:35+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169195477-917818\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169197482-932429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:06:37+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169197482-932429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:37+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:37+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169197482-932429\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:06:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169205471-804944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","time":"2023-03-07T14:06:45+08:00"}
{"addr":"[::1]:54566","data":"{\"seq\":\"1678169205471-804944\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":236}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:45+08:00"}
{"UserId":236,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:45+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169205471-804944\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169207482-290603\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","time":"2023-03-07T14:06:47+08:00"}
{"addr":"[::1]:42542","data":"{\"seq\":\"1678169207482-290603\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":82}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:47+08:00"}
{"UserId":82,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:06:47+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169207482-290603\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:06:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:06:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:06:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.84 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:06:56+08:00"}
{"currentTime":1678169217,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:06:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:06:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.11 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:06:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:06:58+08:00"}
{"AppId":1,"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":234,"level":"info","msg":"Login Info","name":"蒙恬","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.97 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:52758","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:188","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:52758","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169219217-381296\",\"cmd\":\"bind\",\"data\":{\"userID\":234,\"appID\":1,\"token\":\"1678169219\"}}","time":"2023-03-07T14:06:59+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169219217-381296\",\"cmd\":\"bind\",\"data\":{\"userID\":234,\"appID\":1,\"token\":\"1678169219\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:194","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:52758","time":"2023-03-07T14:06:59+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169219217-381296\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:06:59+08:00"}
{"AppId":1,"RoomID":101,"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:06:59+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169217\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"631218562","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:06:59+08:00","userID":234}
{"appID":1,"data":"{\"seq\":\"631218562\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"蒙恬\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:06:59+08:00","userID":234}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:234","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.09 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.29 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:06:59+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:07:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T14:07:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:07:00+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169217\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.9 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:07:00+08:00"}
{"AppId":1,"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":287,"level":"info","msg":"Login Info","name":"张颌","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.86 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:52768","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:188","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:52768","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169222266-389051\",\"cmd\":\"bind\",\"data\":{\"userID\":287,\"appID\":1,\"token\":\"1678169222\"}}","time":"2023-03-07T14:07:02+08:00"}
{"addr":"[::1]:52768","data":"{\"seq\":\"1678169222266-389051\",\"cmd\":\"bind\",\"data\":{\"userID\":287,\"appID\":1,\"token\":\"1678169222\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:02+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169222266-389051\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:194","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:52768","time":"2023-03-07T14:07:02+08:00"}
{"AppId":1,"RoomID":101,"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:07:02+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169217\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"601077566","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:07:02+08:00","userID":287}
{"appID":1,"data":"{\"seq\":\"601077566\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张颌\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:07:02+08:00","userID":287}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:287","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.6 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:07:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.22 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:07:02+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:07:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T14:07:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:07:03+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169217\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:07:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"ss","msg":"SendMessageAll","msgID":"1678169225822-681746","roomID":101,"time":"2023-03-07T14:07:05+08:00","userID":287}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:07:05+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169217\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"ss","msg":"SendUserMessageAll","msgID":"1678169225822-681746","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:07:05+08:00","userID":287}
{"appID":0,"data":"{\"seq\":\"1678169225822-681746\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"ss\",\"from\":\"张颌\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:07:05+08:00","userID":287}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.47 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:07:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:07:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169229472-610932\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","time":"2023-03-07T14:07:09+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169229472-610932\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:09+08:00"}
{"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:09+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169229472-610932\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169232481-862504\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","time":"2023-03-07T14:07:12+08:00"}
{"addr":"[::1]:52768","data":"{\"seq\":\"1678169232481-862504\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:12+08:00"}
{"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:12+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169232481-862504\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:07:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169239477-690364\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","time":"2023-03-07T14:07:19+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169239477-690364\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:19+08:00"}
{"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:19+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169239477-690364\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169242482-420735\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","time":"2023-03-07T14:07:22+08:00"}
{"addr":"[::1]:52768","data":"{\"seq\":\"1678169242482-420735\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:22+08:00"}
{"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:22+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169242482-420735\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:07:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169249480-101758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","time":"2023-03-07T14:07:29+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169249480-101758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:29+08:00"}
{"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:29+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169249480-101758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169252476-825428\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","time":"2023-03-07T14:07:32+08:00"}
{"addr":"[::1]:52768","data":"{\"seq\":\"1678169252476-825428\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:32+08:00"}
{"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:32+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169252476-825428\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:07:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169259475-946293\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","time":"2023-03-07T14:07:39+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169259475-946293\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:39+08:00"}
{"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:39+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169259475-946293\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169262474-255973\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","time":"2023-03-07T14:07:42+08:00"}
{"addr":"[::1]:52768","data":"{\"seq\":\"1678169262474-255973\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:42+08:00"}
{"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:42+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169262474-255973\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:07:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169269469-914589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","time":"2023-03-07T14:07:49+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169269469-914589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:49+08:00"}
{"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:49+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169269469-914589\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169272480-542000\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","time":"2023-03-07T14:07:52+08:00"}
{"addr":"[::1]:52768","data":"{\"seq\":\"1678169272480-542000\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":287}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:52+08:00"}
{"UserId":287,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:52+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169272480-542000\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:52+08:00"}
{"currentTime":1678169277,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:07:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:07:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169279479-442210\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","time":"2023-03-07T14:07:59+08:00"}
{"addr":"[::1]:52758","data":"{\"seq\":\"1678169279479-442210\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":234}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:07:59+08:00"}
{"UserId":234,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:07:59+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169279479-442210\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:07:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:08:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:08:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:08:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.3 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:08:03+08:00"}
{"currentTime":1678169284,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:08:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:08:05+08:00"}
{"AppId":1,"UserId":247,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":247,"level":"info","msg":"Login Info","name":"司马迁","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.68 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:56772","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:192","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:56772","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169285924-637305\",\"cmd\":\"bind\",\"data\":{\"userID\":247,\"appID\":1,\"token\":\"1678169285\"}}","time":"2023-03-07T14:08:05+08:00"}
{"addr":"[::1]:56772","data":"{\"seq\":\"1678169285924-637305\",\"cmd\":\"bind\",\"data\":{\"userID\":247,\"appID\":1,\"token\":\"1678169285\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:08:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:198","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:56772","time":"2023-03-07T14:08:05+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169285924-637305\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:08:05+08:00"}
{"AppId":1,"RoomID":101,"UserId":247,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:08:06+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169284\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"271904347","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:08:06+08:00","userID":247}
{"appID":1,"data":"{\"seq\":\"271904347\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"司马迁\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:08:06+08:00","userID":247}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:181","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:08:06+08:00","tmpRoomID":0,"userID":247}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:247","time":"2023-03-07T14:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.29 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:08:06+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-07T14:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:08:06+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169284\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.65 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"aa","msg":"SendMessageAll","msgID":"1678169288962-153713","roomID":101,"time":"2023-03-07T14:08:08+08:00","userID":247}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:08:08+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169284\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"aa","msg":"SendUserMessageAll","msgID":"1678169288962-153713","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:08:08+08:00","userID":247}
{"appID":0,"data":"{\"seq\":\"1678169288962-153713\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aa\",\"from\":\"司马迁\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:08:08+08:00","userID":247}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:181","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:08:08+08:00","tmpRoomID":101,"userID":247}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.1 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:08:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:08:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169296472-417053\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":247}}","time":"2023-03-07T14:08:16+08:00"}
{"addr":"[::1]:56772","data":"{\"seq\":\"1678169296472-417053\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":247}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:08:16+08:00"}
{"UserId":247,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:08:16+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169296472-417053\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:08:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:11:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:11:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:11:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.46 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:11:26+08:00"}
{"currentTime":1678169487,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:11:27+08:00"}
{"AppId":1,"UserId":521,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":521,"level":"info","msg":"Login Info","name":"穆荫","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.63 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:43082","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:194","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:43082","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169487988-236531\",\"cmd\":\"bind\",\"data\":{\"userID\":521,\"appID\":1,\"token\":\"1678169487\"}}","time":"2023-03-07T14:11:27+08:00"}
{"addr":"[::1]:43082","data":"{\"seq\":\"1678169487988-236531\",\"cmd\":\"bind\",\"data\":{\"userID\":521,\"appID\":1,\"token\":\"1678169487\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:11:27+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169487988-236531\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:11:27+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:200","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:43082","time":"2023-03-07T14:11:27+08:00"}
{"AppId":1,"RoomID":101,"UserId":521,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:11:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:11:28+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169487\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"734475888","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:11:28+08:00","userID":521}
{"appID":1,"data":"{\"seq\":\"734475888\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"穆荫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:11:28+08:00","userID":521}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:183","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","ignoreClient":521,"ignoreClient1":1,"level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:11:28+08:00","tmpRoomID":0,"userID":521}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:521","time":"2023-03-07T14:11:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.46 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:11:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.25 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:11:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:11:28+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:11:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-03-07T14:11:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:11:29+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169487\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.72 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:11:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678169490170-941926","roomID":101,"time":"2023-03-07T14:11:30+08:00","userID":521}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:11:30+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169487\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678169490170-941926","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:11:30+08:00","userID":521}
{"appID":0,"data":"{\"seq\":\"1678169490170-941926\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"穆荫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:11:30+08:00","userID":521}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169498477-967838\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":521}}","time":"2023-03-07T14:11:38+08:00"}
{"addr":"[::1]:43082","data":"{\"seq\":\"1678169498477-967838\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":521}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:11:38+08:00"}
{"UserId":521,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:11:38+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169498477-967838\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:11:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:11:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169508001-198653\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":521}}","time":"2023-03-07T14:11:48+08:00"}
{"addr":"[::1]:43082","data":"{\"seq\":\"1678169508001-198653\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":521}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:11:48+08:00"}
{"UserId":521,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:11:48+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169508001-198653\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:11:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:11:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:12:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:12:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:12:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.66 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:12:28+08:00"}
{"currentTime":1678169548,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:12:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:12:29+08:00"}
{"AppId":1,"UserId":62,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":62,"level":"info","msg":"Login Info","name":"范成大","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.03 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48808","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:195","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:48808","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678169550264-709069\",\"cmd\":\"bind\",\"data\":{\"userID\":62,\"appID\":1,\"token\":\"1678169550\"}}","time":"2023-03-07T14:12:30+08:00"}
{"addr":"[::1]:48808","data":"{\"seq\":\"1678169550264-709069\",\"cmd\":\"bind\",\"data\":{\"userID\":62,\"appID\":1,\"token\":\"1678169550\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:12:30+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678169550264-709069\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:12:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:201","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:48808","time":"2023-03-07T14:12:30+08:00"}
{"AppId":1,"RoomID":101,"UserId":62,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:12:31+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169548\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"420300330","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:12:31+08:00","userID":62}
{"appID":1,"data":"{\"seq\":\"420300330\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"范成大\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:12:31+08:00","userID":62}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_62:0xc000481d40]","time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:184","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","ignoreClient":62,"ignoreClient1":1,"level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:12:31+08:00","tmpRoomID":0,"userID":62}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:62","time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.59 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.49 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:12:31+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:12:31+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169548\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.63 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:12:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678169552902-355073","roomID":101,"time":"2023-03-07T14:12:32+08:00","userID":62}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:12:32+08:00","valByte":"[\"172.30.41.217:9001\",\"1678169548\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678169552902-355073","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:12:32+08:00","userID":62}
{"appID":0,"data":"{\"seq\":\"1678169552902-355073\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"范成大\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:12:32+08:00","userID":62}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_62:0xc000481d40]","time":"2023-03-07T14:12:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:24:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:24:58+08:00"}
{"currentTime":1678170300,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:25:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:25:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.7 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:25:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:25:01+08:00"}
{"AppId":1,"UserId":372,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":372,"level":"info","msg":"Login Info","name":"齐王冏","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.61 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48082","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:196","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:48082","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678170301579-130388\",\"cmd\":\"bind\",\"data\":{\"userID\":372,\"appID\":1,\"token\":\"1678170301\"}}","time":"2023-03-07T14:25:01+08:00"}
{"addr":"[::1]:48082","data":"{\"seq\":\"1678170301579-130388\",\"cmd\":\"bind\",\"data\":{\"userID\":372,\"appID\":1,\"token\":\"1678170301\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:25:01+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678170301579-130388\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:203","func":"bychat/internal/servers/websocket.(*ClientManager).EventBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:48082\u0026{1 372 172.30.41.217 9001 [::1]:48082 0xc000406000 0xc0000bc120 1678170301 1678170301 1678170301}","time":"2023-03-07T14:25:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.06 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:25:03+08:00"}
{"AppId":1,"RoomID":101,"UserId":372,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:25:04+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170300\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"637871772","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:25:04+08:00","userID":372}
{"appID":1,"data":"{\"seq\":\"637871772\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"齐王冏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:25:04+08:00","userID":372}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_372:0xc0000bc240]","time":"2023-03-07T14:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient1:1_372","time":"2023-03-07T14:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:185","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","ignoreClient":372,"ignoreClient1":1,"level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:25:04+08:00","tmpRoomID":0,"userID":372}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:372","time":"2023-03-07T14:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.71 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:25:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.4 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:25:04+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-03-07T14:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:25:05+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170300\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.98 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:25:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678170306692-550918","roomID":101,"time":"2023-03-07T14:25:06+08:00","userID":372}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:25:06+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170300\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678170306692-550918","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:25:06+08:00","userID":372}
{"appID":0,"data":"{\"seq\":\"1678170306692-550918\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"齐王冏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:25:06+08:00","userID":372}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_372:0xc0000bc240]","time":"2023-03-07T14:25:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient1:0_372","time":"2023-03-07T14:25:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:25:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678170312475-324851\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":372}}","time":"2023-03-07T14:25:12+08:00"}
{"addr":"[::1]:48082","data":"{\"seq\":\"1678170312475-324851\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":372}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:25:12+08:00"}
{"UserId":372,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:25:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_372:0xc0000bc240]","time":"2023-03-07T14:25:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient1:1_372","time":"2023-03-07T14:25:12+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678170312475-324851\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:25:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:25:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:25:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:25:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.09 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:25:51+08:00"}
{"AppId":1,"UserId":109,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":109,"level":"info","msg":"Login Info","name":"神农","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.98 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:45272","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:197","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:45272","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678170352605-139737\",\"cmd\":\"bind\",\"data\":{\"userID\":109,\"appID\":1,\"token\":\"1678170352\"}}","time":"2023-03-07T14:25:52+08:00"}
{"addr":"[::1]:45272","data":"{\"seq\":\"1678170352605-139737\",\"cmd\":\"bind\",\"data\":{\"userID\":109,\"appID\":1,\"token\":\"1678170352\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:25:52+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678170352605-139737\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:204","func":"bychat/internal/servers/websocket.(*ClientManager).EventBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:45272\u0026{1 109 172.30.41.217 9001 [::1]:45272 0xc00057c000 0xc00010e180 1678170352 1678170352 1678170352}","time":"2023-03-07T14:25:52+08:00"}
{"currentTime":1678170352,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:25:52+08:00"}
{"AppId":1,"RoomID":101,"UserId":109,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:166","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:25:52+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170352\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"990252343","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:25:52+08:00","userID":109}
{"appID":1,"data":"{\"seq\":\"990252343\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"神农\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:25:52+08:00","userID":109}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_109:0xc00010e240]","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient1:1_109","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:114","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient2 客户端:\u0026{1 109 172.30.41.217 9001 [::1]:45272 0xc00057c000 0xc00010e180 1678170352 1678170352 1678170352}","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:186","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","ignoreClient":109,"ignoreClient1":1,"level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:25:52+08:00","tmpRoomID":0,"userID":109}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:184","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:109","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.35 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:25:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.42 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:25:53+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:25:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-03-07T14:25:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:25:53+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170352\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.14 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:25:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:25:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"as","msg":"SendMessageAll","msgID":"1678170354291-531235","roomID":101,"time":"2023-03-07T14:25:54+08:00","userID":109}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:25:54+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170352\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"as","msg":"SendUserMessageAll","msgID":"1678170354291-531235","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:25:54+08:00","userID":109}
{"appID":0,"data":"{\"seq\":\"1678170354291-531235\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"as\",\"from\":\"神农\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:25:54+08:00","userID":109}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:109","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient:map[1_109:0xc00010e240]","time":"2023-03-07T14:25:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient1:0_109","time":"2023-03-07T14:25:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:114","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"GetUserClient2 客户端:\u003cnil\u003e","time":"2023-03-07T14:25:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-07T14:30:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-07T14:30:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:13","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-07T14:30:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.09 method:GET statusCode:200 uri:/home/index]","time":"2023-03-07T14:30:43+08:00"}
{"currentTime":1678170644,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-07T14:30:44+08:00"}
{"AppId":1,"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:48","func":"bychat/api/v1/user.Login","id":342,"level":"info","msg":"Login Info","name":"司马敏","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:42940","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:197","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:42940","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678170644853-949967\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":1,\"token\":\"1678170644\"}}","time":"2023-03-07T14:30:44+08:00"}
{"addr":"[::1]:42940","data":"{\"seq\":\"1678170644853-949967\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":1,\"token\":\"1678170644\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:30:44+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678170644853-949967\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:204","func":"bychat/internal/servers/websocket.(*ClientManager).EventBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:42940\u0026{1 342 172.30.41.217 9001 [::1]:42940 0xc00082e000 0xc000538060 1678170644 1678170644 1678170644}","time":"2023-03-07T14:30:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:30:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.35 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:30:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678170654855-757899\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","time":"2023-03-07T14:30:54+08:00"}
{"addr":"[::1]:42940","data":"{\"seq\":\"1678170654855-757899\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":342}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-07T14:30:54+08:00"}
{"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:64","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-07T14:30:54+08:00"}
{"appID":1,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"ClientManager GetUserClient","time":"2023-03-07T14:30:54+08:00","userID":342}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678170654855-757899\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-07T14:30:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-07T14:30:55+08:00"}
{"AppId":1,"RoomID":101,"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:170","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom","time":"2023-03-07T14:30:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:30:55+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170644\"]"}
{"appID":1,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"391720059","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:30:55+08:00","userID":342}
{"appID":1,"data":"{\"seq\":\"391720059\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"司马敏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:30:55+08:00","userID":342}
{"appID":1,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"ClientManager GetUserClient","time":"2023-03-07T14:30:55+08:00","userID":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:186","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","ignoreClient":342,"ignoreClient1":1,"level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:30:55+08:00","tmpRoomID":0,"userID":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:188","func":"bychat/internal/servers/websocket.EnterChatRoom","level":"info","msg":"EnterChatRoom uo:342","time":"2023-03-07T14:30:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.16 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-07T14:30:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.85 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-07T14:30:55+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:88","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-07T14:30:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"GetRoomUserList","roomID":101,"time":"2023-03-07T14:30:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:30:55+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170644\"]"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.88 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-07T14:30:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:119","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"ds","msg":"SendMessageAll","msgID":"1678170657384-616315","roomID":101,"time":"2023-03-07T14:30:57+08:00","userID":342}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:87","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-07T14:30:57+08:00","valByte":"[\"172.30.41.217:9001\",\"1678170644\"]"}
{"appID":1,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:110","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"ds","msg":"SendUserMessageAll","msgID":"1678170657384-616315","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-07T14:30:57+08:00","userID":342}
{"appID":1,"data":"{\"seq\":\"1678170657384-616315\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"ds\",\"from\":\"司马敏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:152","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-07T14:30:57+08:00","userID":342}
{"appID":1,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:110","func":"bychat/internal/servers/websocket.(*ClientManager).GetUserClient","level":"info","msg":"ClientManager GetUserClient","time":"2023-03-07T14:30:57+08:00","userID":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:186","func":"bychat/internal/servers/websocket.(*ClientManager).sendAll","ignoreClient":342,"ignoreClient1":1,"level":"info","msg":"sendAll 发送消息","roomID":101,"time":"2023-03-07T14:30:57+08:00","tmpRoomID":101,"userID":342}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.5 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-07T14:30:57+08:00"}
