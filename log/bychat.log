{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:08:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:08:17+08:00"}
{"currentTime":1678079299,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:08:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:08:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:08:26+08:00"}
{"currentTime":1678079308,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:08:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:08:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.72 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:08:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:08:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.72 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:08:31+08:00"}
{"AppId":0,"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:247","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":485,"level":"info","msg":"Login Info","name":"袁宗道","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:50886","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079313205-104761\",\"cmd\":\"bind\",\"data\":{\"userID\":485,\"appID\":0,\"token\":\"1678079313\"}}","time":"2023-03-06T13:08:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678079313205-104761\",\"cmd\":\"bind\",\"data\":{\"userID\":485,\"appID\":0,\"token\":\"1678079313\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:33+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:33+08:00","userKey":485}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079313205-104761\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:08:33+08:00"}
{"AppId":0,"RoomID":101,"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:185","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:08:33+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:33+08:00","userKey":485}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:33+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:133","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"769520003","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:08:33+08:00","userID":485}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:33+08:00","userKey":485}
{"appID":0,"data":"{\"seq\":\"769520003\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"袁宗道\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:33+08:00","userID":485}
{"appID":0,"data":"{\"seq\":\"769520003\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"袁宗道\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:33+08:00","userID":485}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:203","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:485","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.22 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.46 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:08:33+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:34+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:08:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.51 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:08:34+08:00"}
{"AppId":0,"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:247","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":39,"level":"info","msg":"Login Info","name":"元之赵孟頫","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.91 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54162","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079316937-383452\",\"cmd\":\"bind\",\"data\":{\"userID\":39,\"appID\":0,\"token\":\"1678079316\"}}","time":"2023-03-06T13:08:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678079316937-383452\",\"cmd\":\"bind\",\"data\":{\"userID\":39,\"appID\":0,\"token\":\"1678079316\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:36+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:36+08:00","userKey":39}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079316937-383452\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:08:36+08:00"}
{"AppId":0,"RoomID":101,"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:185","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:08:37+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:37+08:00","userKey":39}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:37+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:133","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"504087372","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:08:37+08:00","userID":39}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:37+08:00","userKey":39}
{"appID":0,"data":"{\"seq\":\"504087372\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:37+08:00","userID":39}
{"appID":0,"data":"{\"seq\":\"504087372\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:37+08:00","userID":39}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:203","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:39","time":"2023-03-06T13:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.37 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:08:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.48 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:08:37+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:38+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"袁宗道\"","time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[袁宗道]","time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.57 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079323494-284650\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","time":"2023-03-06T13:08:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678079323494-284650\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:43+08:00"}
{"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:43+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:43+08:00","userKey":485}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079323494-284650\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079327490-510750\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","time":"2023-03-06T13:08:47+08:00"}
{"addr":"","data":"{\"seq\":\"1678079327490-510750\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:47+08:00"}
{"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:47+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:47+08:00","userKey":39}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079327490-510750\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"啊啊啊","msg":"SendMessageAll","msgID":"1678079330743-738818","roomID":101,"time":"2023-03-06T13:08:50+08:00","userID":39}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:08:50+08:00","valByte":"[\"172.30.41.217:9001\",\"1678079308\",\"172.30.41.217:9002\",\"1678079299\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:133","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"啊啊啊","msg":"SendUserMessageAll","msgID":"1678079330743-738818","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:08:50+08:00","userID":39}
{"HeartbeatTime":1678079327,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:50+08:00","userKey":39}
{"appID":0,"data":"{\"seq\":\"1678079330743-738818\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"啊啊啊\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:50+08:00","userID":39}
{"appID":0,"data":"{\"seq\":\"1678079330743-738818\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"啊啊啊\",\"from\":\"元之赵孟頫\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:171","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:08:50+08:00","userID":39}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.41 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:08:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079333491-255112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","time":"2023-03-06T13:08:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678079333491-255112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:53+08:00"}
{"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:53+08:00"}
{"HeartbeatTime":1678079323,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:53+08:00","userKey":485}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079333491-255112\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079337492-751040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","time":"2023-03-06T13:08:57+08:00"}
{"addr":"","data":"{\"seq\":\"1678079337492-751040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":39}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:08:57+08:00"}
{"UserId":39,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:08:57+08:00"}
{"HeartbeatTime":1678079327,"IsLogoff":false,"LoginTime":1678079316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:08:57+08:00","userKey":39}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079337492-751040\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:08:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678079343491-105777\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","time":"2023-03-06T13:09:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678079343491-105777\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":485}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:09:03+08:00"}
{"UserId":485,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:09:03+08:00"}
{"HeartbeatTime":1678079333,"IsLogoff":false,"LoginTime":1678079313,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:09:03+08:00","userKey":485}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678079343491-105777\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:09:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:37:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:37:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:37:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:37:34+08:00"}
{"currentTime":1678081054,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:37:34+08:00"}
{"currentTime":1678081056,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:37:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:37:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.85 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:37:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:37:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.07 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:37:37+08:00"}
{"AppId":0,"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":480,"level":"info","msg":"Login Info","name":"杨士奇","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.48 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44110","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081059127-338649\",\"cmd\":\"bind\",\"data\":{\"userID\":480,\"appID\":0,\"token\":\"1678081059\"}}","time":"2023-03-06T13:37:39+08:00"}
{"addr":"","data":"{\"seq\":\"1678081059127-338649\",\"cmd\":\"bind\",\"data\":{\"userID\":480,\"appID\":0,\"token\":\"1678081059\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:37:39+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:39+08:00","userKey":480}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081059127-338649\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:37:39+08:00"}
{"AppId":0,"RoomID":101,"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:37:39+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:39+08:00","userKey":480}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:39+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"587929801","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:37:39+08:00","userID":480}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:39+08:00","userKey":480}
{"appID":0,"data":"{\"seq\":\"587929801\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨士奇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:37:39+08:00","userID":480}
{"appID":0,"data":"{\"seq\":\"587929801\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨士奇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:37:39+08:00","userID":480}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:480","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.1 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:37:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:37:39+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:40+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.99 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:37:40+08:00"}
{"AppId":0,"RoomID":101,"UserId":134,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:37:42+08:00"}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-06T13:37:42+08:00","userKey":134}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:194","func":"bychat/internal/servers/websocket.EnterRoom","level":"error","msg":"EnterRoom Failed:redis: nil","time":"2023-03-06T13:37:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:177","func":"bychat/api/v1/user.EnterRoom","level":"error","msg":"EnterRoom Failedredis: nil","time":"2023-03-06T13:37:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:37:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.43 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:37:42+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:43+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"杨士奇\"","time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[杨士奇]","time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.76 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"线程","msg":"SendMessageAll","msgID":"1678081066290-705696","roomID":101,"time":"2023-03-06T13:37:46+08:00","userID":134}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:37:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081054\",\"172.30.41.217:9001\",\"1678081056\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"线程","msg":"SendUserMessageAll","msgID":"1678081066290-705696","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:37:46+08:00","userID":134}
{"err":"redis: nil","file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:42","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"GetUserOnlineInfo","time":"2023-03-06T13:37:46+08:00","userKey":134}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:138","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"error","msg":"给全体用户发消息redis: nil","time":"2023-03-06T13:37:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.23 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:37:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081069493-482853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:37:49+08:00"}
{"addr":"","data":"{\"seq\":\"1678081069493-482853\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:37:49+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:37:49+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:49+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081069493-482853\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:37:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081079479-140786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:37:59+08:00"}
{"addr":"","data":"{\"seq\":\"1678081079479-140786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:37:59+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:37:59+08:00"}
{"HeartbeatTime":1678081069,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:37:59+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081079479-140786\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:37:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081089487-512909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:38:09+08:00"}
{"addr":"","data":"{\"seq\":\"1678081089487-512909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:09+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:09+08:00"}
{"HeartbeatTime":1678081079,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:09+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081089487-512909\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081099491-933463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:38:19+08:00"}
{"addr":"","data":"{\"seq\":\"1678081099491-933463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:19+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:19+08:00"}
{"HeartbeatTime":1678081089,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:19+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081099491-933463\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081109493-880135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","time":"2023-03-06T13:38:29+08:00"}
{"addr":"","data":"{\"seq\":\"1678081109493-880135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":480}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:29+08:00"}
{"UserId":480,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:29+08:00"}
{"HeartbeatTime":1678081099,"IsLogoff":false,"LoginTime":1678081059,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:29+08:00","userKey":480}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081109493-880135\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:29+08:00"}
{"currentTime":1678081114,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:38:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:38:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:38:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:38:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:38:36+08:00"}
{"currentTime":1678081118,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:38:38+08:00"}
{"currentTime":1678081118,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:38:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:38:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.53 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:38:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:38:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.82 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:38:40+08:00"}
{"AppId":0,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":79,"level":"info","msg":"Login Info","name":"揭俟斯","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.78 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:41328","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081121532-474137\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081121\"}}","time":"2023-03-06T13:38:41+08:00"}
{"addr":"","data":"{\"seq\":\"1678081121532-474137\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081121\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:41+08:00","userKey":79}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081121532-474137\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:38:41+08:00"}
{"AppId":0,"RoomID":101,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:38:42+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:42+08:00","userKey":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:42+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"50799550","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:38:42+08:00","userID":79}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:42+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"50799550\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:42+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"50799550\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:42+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:79","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.84 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:38:42+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:42+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:38:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.34 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:38:42+08:00"}
{"AppId":0,"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":388,"level":"info","msg":"Login Info","name":"张僧繇","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.56 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51296","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081125568-491419\",\"cmd\":\"bind\",\"data\":{\"userID\":388,\"appID\":0,\"token\":\"1678081125\"}}","time":"2023-03-06T13:38:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678081125568-491419\",\"cmd\":\"bind\",\"data\":{\"userID\":388,\"appID\":0,\"token\":\"1678081125\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:45+08:00","userKey":388}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081125568-491419\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:38:45+08:00"}
{"AppId":0,"RoomID":101,"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:38:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:45+08:00","userKey":388}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:45+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"967598293","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:38:45+08:00","userID":388}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:45+08:00","userKey":388}
{"appID":0,"data":"{\"seq\":\"967598293\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:45+08:00","userID":388}
{"appID":0,"data":"{\"seq\":\"967598293\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:45+08:00","userID":388}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:388","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.78 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:38:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:38:45+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"揭俟斯\"","time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:90","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[揭俟斯]","time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.7 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:38:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"aa","msg":"SendMessageAll","msgID":"1678081128308-575473","roomID":101,"time":"2023-03-06T13:38:48+08:00","userID":388}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:48+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"aa","msg":"SendUserMessageAll","msgID":"1678081128308-575473","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:38:48+08:00","userID":388}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:48+08:00","userKey":388}
{"appID":0,"data":"{\"seq\":\"1678081128308-575473\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aa\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:48+08:00","userID":388}
{"appID":0,"data":"{\"seq\":\"1678081128308-575473\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aa\",\"from\":\"张僧繇\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:48+08:00","userID":388}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.01 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:38:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081131832-779119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:38:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081131832-779119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:51+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:51+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081131832-779119\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678081134503-111849","roomID":101,"time":"2023-03-06T13:38:54+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:38:54+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081118\",\"172.30.41.217:9001\",\"1678081118\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678081134503-111849","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:38:54+08:00","userID":79}
{"HeartbeatTime":1678081131,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:54+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"1678081134503-111849\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:54+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"1678081134503-111849\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:38:54+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.78 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:38:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081136493-585368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","time":"2023-03-06T13:38:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678081136493-585368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:38:56+08:00"}
{"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:38:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:38:56+08:00","userKey":388}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081136493-585368\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:38:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081142493-809102\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:39:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678081142493-809102\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:39:02+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:39:02+08:00"}
{"HeartbeatTime":1678081131,"IsLogoff":false,"LoginTime":1678081121,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:39:02+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081142493-809102\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:39:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081145573-684792\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","time":"2023-03-06T13:39:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678081145573-684792\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":388}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:39:05+08:00"}
{"UserId":388,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:39:05+08:00"}
{"HeartbeatTime":1678081136,"IsLogoff":false,"LoginTime":1678081125,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:39:05+08:00","userKey":388}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081145573-684792\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:39:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:42:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:42:29+08:00"}
{"currentTime":1678081351,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:42:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:42:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:42:32+08:00"}
{"currentTime":1678081354,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:42:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:42:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.01 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:42:39+08:00"}
{"AppId":0,"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":264,"level":"info","msg":"Login Info","name":"吴汉","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.54 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:38340","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081361240-379853\",\"cmd\":\"bind\",\"data\":{\"userID\":264,\"appID\":0,\"token\":\"1678081361\"}}","time":"2023-03-06T13:42:41+08:00"}
{"addr":"","data":"{\"seq\":\"1678081361240-379853\",\"cmd\":\"bind\",\"data\":{\"userID\":264,\"appID\":0,\"token\":\"1678081361\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:41+08:00","userKey":264}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081361240-379853\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:42:41+08:00"}
{"AppId":0,"RoomID":101,"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:42:41+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:41+08:00","userKey":264}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:41+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"884135420","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:42:41+08:00","userID":264}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:41+08:00","userKey":264}
{"appID":0,"data":"{\"seq\":\"884135420\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"吴汉\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:41+08:00","userID":264}
{"appID":0,"data":"{\"seq\":\"884135420\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"吴汉\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:41+08:00","userID":264}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:264","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.67 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:42:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:42:41+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:42+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:42:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.73 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:42:42+08:00"}
{"AppId":0,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":79,"level":"info","msg":"Login Info","name":"揭俟斯","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.46 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:41308","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081364901-977751\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081364\"}}","time":"2023-03-06T13:42:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678081364901-977751\",\"cmd\":\"bind\",\"data\":{\"userID\":79,\"appID\":0,\"token\":\"1678081364\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:44+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:44+08:00","userKey":79}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081364901-977751\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:42:44+08:00"}
{"AppId":0,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T13:42:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:49+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"516184702","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:42:49+08:00","userID":79}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:49+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"516184702\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"516184702\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.25 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T13:42:49+08:00"}
{"AppId":0,"RoomID":101,"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:42:49+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:49+08:00","userKey":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:49+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"523758810","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:42:49+08:00","userID":79}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:49+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"523758810\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"523758810\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:42:49+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:79","time":"2023-03-06T13:42:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.03 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:42:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.69 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=5\u0026limit=5]","time":"2023-03-06T13:42:49+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:42:50+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"吴汉\"","time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[吴汉]","time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.95 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:42:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081371487-898733\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:42:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081371487-898733\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:51+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:42:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:51+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081371487-898733\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081371537-931719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:42:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081371537-931719\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:51+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:42:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:51+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081371537-931719\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081374911-172025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:42:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678081374911-172025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:42:54+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:42:54+08:00"}
{"HeartbeatTime":1678081371,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:42:54+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081374911-172025\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:42:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081381483-225541\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:01+08:00"}
{"addr":"","data":"{\"seq\":\"1678081381483-225541\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:01+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:01+08:00"}
{"HeartbeatTime":1678081371,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:01+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081381483-225541\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081381539-387756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:01+08:00"}
{"addr":"","data":"{\"seq\":\"1678081381539-387756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:01+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:01+08:00"}
{"HeartbeatTime":1678081374,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:01+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081381539-387756\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081384915-405119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678081384915-405119\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:04+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:04+08:00"}
{"HeartbeatTime":1678081381,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:04+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081384915-405119\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081391483-865313\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:11+08:00"}
{"addr":"","data":"{\"seq\":\"1678081391483-865313\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:11+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:11+08:00"}
{"HeartbeatTime":1678081381,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:11+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081391483-865313\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081391534-296931\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:11+08:00"}
{"addr":"","data":"{\"seq\":\"1678081391534-296931\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:11+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:11+08:00"}
{"HeartbeatTime":1678081384,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:11+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081391534-296931\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"aaa","msg":"SendMessageAll","msgID":"1678081392843-762640","roomID":101,"time":"2023-03-06T13:43:12+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:43:12+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081351\",\"172.30.41.217:9001\",\"1678081354\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"aaa","msg":"SendUserMessageAll","msgID":"1678081392843-762640","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:43:12+08:00","userID":79}
{"HeartbeatTime":1678081391,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:12+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"1678081392843-762640\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aaa\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:12+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"1678081392843-762640\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"aaa\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:12+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.32 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:43:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081394915-704429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678081394915-704429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:14+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:14+08:00"}
{"HeartbeatTime":1678081391,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:14+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081394915-704429\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081401491-246659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:21+08:00"}
{"addr":"","data":"{\"seq\":\"1678081401491-246659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:21+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:21+08:00"}
{"HeartbeatTime":1678081391,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:21+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081401491-246659\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081401539-116781\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:21+08:00"}
{"addr":"","data":"{\"seq\":\"1678081401539-116781\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:21+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:21+08:00"}
{"HeartbeatTime":1678081394,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:21+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081401539-116781\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081404904-487887\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678081404904-487887\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:24+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:24+08:00"}
{"HeartbeatTime":1678081401,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:24+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081404904-487887\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081411256-660870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:31+08:00"}
{"addr":"","data":"{\"seq\":\"1678081411256-660870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:31+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:31+08:00"}
{"HeartbeatTime":1678081401,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:31+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081411256-660870\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:31+08:00"}
{"currentTime":1678081411,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:43:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081412493-703321\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678081412493-703321\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:32+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:32+08:00"}
{"HeartbeatTime":1678081404,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:32+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081412493-703321\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:32+08:00"}
{"currentTime":1678081414,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:43:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081415485-466354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678081415485-466354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:35+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:35+08:00"}
{"HeartbeatTime":1678081412,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:35+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081415485-466354\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081421244-162974\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:41+08:00"}
{"addr":"","data":"{\"seq\":\"1678081421244-162974\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:41+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:41+08:00"}
{"HeartbeatTime":1678081411,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:41+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081421244-162974\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081422478-378934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678081422478-378934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:42+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:42+08:00"}
{"HeartbeatTime":1678081415,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:42+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081422478-378934\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081424902-845763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678081424902-845763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:44+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:44+08:00"}
{"HeartbeatTime":1678081422,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:44+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081424902-845763\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"zzz","msg":"SendMessageAll","msgID":"1678081426595-924042","roomID":101,"time":"2023-03-06T13:43:46+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:43:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081411\",\"172.30.41.217:9001\",\"1678081414\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"zzz","msg":"SendUserMessageAll","msgID":"1678081426595-924042","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:43:46+08:00","userID":79}
{"HeartbeatTime":1678081424,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:46+08:00","userKey":79}
{"appID":0,"data":"{\"seq\":\"1678081426595-924042\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"zzz\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:46+08:00","userID":79}
{"appID":0,"data":"{\"seq\":\"1678081426595-924042\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"zzz\",\"from\":\"揭俟斯\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:43:46+08:00","userID":79}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.39 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:43:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081431485-991428\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","time":"2023-03-06T13:43:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081431485-991428\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":264}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:51+08:00"}
{"UserId":264,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:51+08:00"}
{"HeartbeatTime":1678081421,"IsLogoff":false,"LoginTime":1678081361,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:51+08:00","userKey":264}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081431485-991428\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081431556-607060\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","time":"2023-03-06T13:43:51+08:00"}
{"addr":"","data":"{\"seq\":\"1678081431556-607060\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":79}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:43:51+08:00"}
{"UserId":79,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:43:51+08:00"}
{"HeartbeatTime":1678081424,"IsLogoff":false,"LoginTime":1678081364,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:43:51+08:00","userKey":79}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081431556-607060\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:43:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:47:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:47:36+08:00"}
{"currentTime":1678081658,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:47:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:47:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:47:41+08:00"}
{"currentTime":1678081663,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:47:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:47:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.55 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:47:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:47:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.2 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:47:49+08:00"}
{"AppId":0,"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":438,"level":"info","msg":"Login Info","name":"延嗣","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:49508","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081670683-457745\",\"cmd\":\"bind\",\"data\":{\"userID\":438,\"appID\":0,\"token\":\"1678081670\"}}","time":"2023-03-06T13:47:50+08:00"}
{"addr":"","data":"{\"seq\":\"1678081670683-457745\",\"cmd\":\"bind\",\"data\":{\"userID\":438,\"appID\":0,\"token\":\"1678081670\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:47:50+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:50+08:00","userKey":438}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081670683-457745\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:47:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:47:50+08:00"}
{"AppId":0,"RoomID":101,"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:47:51+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:51+08:00","userKey":438}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:47:51+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"208144968","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:47:51+08:00","userID":438}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:51+08:00","userKey":438}
{"appID":0,"data":"{\"seq\":\"208144968\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"延嗣\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:47:51+08:00","userID":438}
{"appID":0,"data":"{\"seq\":\"208144968\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"延嗣\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:47:51+08:00","userID":438}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:438","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.83 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.53 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:47:51+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:47:51+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:47:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.33 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:47:51+08:00"}
{"AppId":0,"UserId":482,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":482,"level":"info","msg":"Login Info","name":"杨溥","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.62 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:53246","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081673465-178160\",\"cmd\":\"bind\",\"data\":{\"userID\":482,\"appID\":0,\"token\":\"1678081673\"}}","time":"2023-03-06T13:47:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678081673465-178160\",\"cmd\":\"bind\",\"data\":{\"userID\":482,\"appID\":0,\"token\":\"1678081673\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:47:53+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:53+08:00","userKey":482}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081673465-178160\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:47:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:47:53+08:00"}
{"AppId":0,"RoomID":101,"UserId":482,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:47:54+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:54+08:00","userKey":482}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:47:54+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"13440137","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:47:54+08:00","userID":482}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:47:54+08:00","userKey":482}
{"appID":0,"data":"{\"seq\":\"13440137\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨溥\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:00+08:00","userID":482}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081681492-660857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:01+08:00"}
{"addr":"","data":"{\"seq\":\"1678081681492-660857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:01+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:01+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:01+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081681492-660857\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:01+08:00"}
{"appID":0,"data":"{\"seq\":\"13440137\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"杨溥\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:01+08:00","userID":482}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:482","time":"2023-03-06T13:48:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:10617.34 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:48:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081683474-343128\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":482}}","time":"2023-03-06T13:48:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678081683474-343128\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":482}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:04+08:00"}
{"UserId":482,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:04+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:04+08:00","userKey":482}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081683474-343128\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.61 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:48:04+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:05+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"延嗣\"","time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[延嗣]","time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.76 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:48:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"xx","msg":"SendMessageAll","msgID":"1678081688076-881282","roomID":101,"time":"2023-03-06T13:48:08+08:00","userID":482}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:08+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081658\",\"172.30.41.217:9001\",\"1678081663\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"xx","msg":"SendUserMessageAll","msgID":"1678081688076-881282","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:48:08+08:00","userID":482}
{"HeartbeatTime":1678081684,"IsLogoff":false,"LoginTime":1678081673,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:08+08:00","userKey":482}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081691500-989672\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:11+08:00"}
{"addr":"","data":"{\"seq\":\"1678081691500-989672\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:11+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:11+08:00"}
{"HeartbeatTime":1678081681,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:11+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081691500-989672\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:11+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081701488-735369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:21+08:00"}
{"addr":"","data":"{\"seq\":\"1678081701488-735369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:21+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:21+08:00"}
{"HeartbeatTime":1678081691,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:21+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081701488-735369\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081711493-917756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","time":"2023-03-06T13:48:31+08:00"}
{"addr":"","data":"{\"seq\":\"1678081711493-917756\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":438}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:31+08:00"}
{"UserId":438,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:31+08:00"}
{"HeartbeatTime":1678081701,"IsLogoff":false,"LoginTime":1678081670,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:31+08:00","userKey":438}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081711493-917756\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:48:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:48:37+08:00"}
{"currentTime":1678081719,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:48:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:48:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:48:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:48:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.97 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:48:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:48:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.83 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:48:44+08:00"}
{"currentTime":1678081724,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:48:44+08:00"}
{"AppId":0,"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":445,"level":"info","msg":"Login Info","name":"苏洵","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:45146","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081725661-851776\",\"cmd\":\"bind\",\"data\":{\"userID\":445,\"appID\":0,\"token\":\"1678081725\"}}","time":"2023-03-06T13:48:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678081725661-851776\",\"cmd\":\"bind\",\"data\":{\"userID\":445,\"appID\":0,\"token\":\"1678081725\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:45+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:45+08:00","userKey":445}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081725661-851776\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:48:45+08:00"}
{"AppId":0,"RoomID":101,"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:48:46+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:46+08:00","userKey":445}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"4436865","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T13:48:46+08:00","userID":445}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:46+08:00","userKey":445}
{"appID":0,"data":"{\"seq\":\"4436865\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"苏洵\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:46+08:00","userID":445}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:46+08:00","userKey":445}
{"appID":0,"data":"{\"seq\":\"4436865\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"苏洵\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":0,"time":"2023-03-06T13:48:46+08:00","userID":445}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:53","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:445","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:11.77 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.34 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:48:46+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:48:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.48 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:48:46+08:00"}
{"AppId":0,"UserId":68,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":68,"level":"info","msg":"Login Info","name":"黄晋","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.66 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:48956","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081727953-778095\",\"cmd\":\"bind\",\"data\":{\"userID\":68,\"appID\":0,\"token\":\"1678081727\"}}","time":"2023-03-06T13:48:47+08:00"}
{"addr":"","data":"{\"seq\":\"1678081727953-778095\",\"cmd\":\"bind\",\"data\":{\"userID\":68,\"appID\":0,\"token\":\"1678081727\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:47+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:47+08:00","userKey":68}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081727953-778095\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:48:47+08:00"}
{"AppId":0,"RoomID":101,"UserId":68,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:48:48+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:48+08:00","userKey":68}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:48+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"396617436","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:48:48+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:48+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"396617436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:48+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:48+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"396617436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":0,"time":"2023-03-06T13:48:48+08:00","userID":68}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:53","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:68","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:8.84 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:48:48+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:48+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"苏洵\"","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:91","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[苏洵]","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.21 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:48:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"cc","msg":"SendMessageAll","msgID":"1678081730733-213516","roomID":101,"time":"2023-03-06T13:48:50+08:00","userID":68}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:48:50+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081724\",\"172.30.41.217:9001\",\"1678081719\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"cc","msg":"SendUserMessageAll","msgID":"1678081730733-213516","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:48:50+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:50+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"1678081730733-213516\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"cc\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:48:50+08:00","userID":68}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:50+08:00","userKey":68}
{"appID":0,"data":"{\"seq\":\"1678081730733-213516\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"cc\",\"from\":\"黄晋\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":0,"time":"2023-03-06T13:48:50+08:00","userID":68}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:53","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.79 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:48:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081736479-959003\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","time":"2023-03-06T13:48:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678081736479-959003\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:56+08:00"}
{"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:56+08:00","userKey":445}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081736479-959003\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081737978-700599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":68}}","time":"2023-03-06T13:48:57+08:00"}
{"addr":"","data":"{\"seq\":\"1678081737978-700599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":68}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:48:57+08:00"}
{"UserId":68,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:48:57+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081727,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:48:57+08:00","userKey":68}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081737978-700599\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:48:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081746482-551261\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","time":"2023-03-06T13:49:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678081746482-551261\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":445}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:49:06+08:00"}
{"UserId":445,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:49:06+08:00"}
{"HeartbeatTime":1678081736,"IsLogoff":false,"LoginTime":1678081725,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:06+08:00","userKey":445}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081746482-551261\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:49:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:49:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T13:49:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T13:49:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T13:49:54+08:00"}
{"currentTime":1678081795,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T13:49:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:49:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.89 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:49:55+08:00"}
{"currentTime":1678081796,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T13:49:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T13:49:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.09 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T13:49:56+08:00"}
{"AppId":0,"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":24,"level":"info","msg":"Login Info","name":"王勃","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:34872","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081797822-107366\",\"cmd\":\"bind\",\"data\":{\"userID\":24,\"appID\":0,\"token\":\"1678081797\"}}","time":"2023-03-06T13:49:57+08:00"}
{"addr":"","data":"{\"seq\":\"1678081797822-107366\",\"cmd\":\"bind\",\"data\":{\"userID\":24,\"appID\":0,\"token\":\"1678081797\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:49:57+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:57+08:00","userKey":24}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081797822-107366\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:49:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:49:57+08:00"}
{"AppId":0,"RoomID":101,"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:49:58+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:58+08:00","userKey":24}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:49:58+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"105057436","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:49:58+08:00","userID":24}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:58+08:00","userKey":24}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:49:58+08:00","userKey":24}
{"appID":0,"data":"{\"seq\":\"105057436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"王勃\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:49:58+08:00","userID":24}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:49:58+08:00"}
{"appID":0,"data":"{\"seq\":\"105057436\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"王勃\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:49:58+08:00","userID":24}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:24","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:11.6 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.49 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:49:58+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:49:58+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T13:49:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.34 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:49:58+08:00"}
{"AppId":0,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":176,"level":"info","msg":"Login Info","name":"荣旗","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:35430","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081800292-417386\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678081800\"}}","time":"2023-03-06T13:50:00+08:00"}
{"addr":"","data":"{\"seq\":\"1678081800292-417386\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678081800\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:00+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T13:50:00+08:00"}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081800292-417386\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:00+08:00"}
{"AppId":0,"RoomID":101,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T13:50:00+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:50:00+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"644715546","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:50:00+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"644715546\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:00+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:00+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"644715546\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:00+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:176","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.08 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T13:50:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T13:50:00+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:50:01+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"王勃\"","time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[王勃]","time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.79 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T13:50:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"asd","msg":"SendMessageAll","msgID":"1678081802728-790683","roomID":101,"time":"2023-03-06T13:50:02+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T13:50:02+08:00","valByte":"[\"172.30.41.217:9002\",\"1678081795\",\"172.30.41.217:9001\",\"1678081796\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"asd","msg":"SendUserMessageAll","msgID":"1678081802728-790683","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T13:50:02+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:02+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"1678081802728-790683\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:02+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:02+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"1678081802728-790683\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"asd\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T13:50:02+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T13:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T13:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.21 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T13:50:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081807834-143573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-06T13:50:07+08:00"}
{"addr":"","data":"{\"seq\":\"1678081807834-143573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:07+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:50:07+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:07+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081807834-143573\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:07+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081810482-130626\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","time":"2023-03-06T13:50:10+08:00"}
{"addr":"","data":"{\"seq\":\"1678081810482-130626\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:10+08:00"}
{"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:50:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678081800,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:10+08:00","userKey":176}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081810482-130626\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678081817838-323162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","time":"2023-03-06T13:50:17+08:00"}
{"addr":"","data":"{\"seq\":\"1678081817838-323162\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":24}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T13:50:17+08:00"}
{"UserId":24,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T13:50:17+08:00"}
{"HeartbeatTime":1678081807,"IsLogoff":false,"LoginTime":1678081797,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T13:50:17+08:00","userKey":24}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678081817838-323162\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T13:50:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T15:01:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T15:01:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T15:04:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T15:04:51+08:00"}
{"currentTime":1678086293,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:04:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T15:04:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T15:04:59+08:00"}
{"currentTime":1678086301,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:05:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:05:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.08 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:05:02+08:00"}
{"AppId":0,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":385,"level":"info","msg":"Login Info","name":"兰陵王","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.75 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:43790","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086304674-403605\",\"cmd\":\"bind\",\"data\":{\"userID\":385,\"appID\":0,\"token\":\"1678086304\"}}","time":"2023-03-06T15:05:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678086304674-403605\",\"cmd\":\"bind\",\"data\":{\"userID\":385,\"appID\":0,\"token\":\"1678086304\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:04+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:04+08:00","userKey":385}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086304674-403605\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:05:04+08:00"}
{"AppId":0,"RoomID":101,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:05:05+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:05+08:00","userKey":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:05+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"556245254","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:05+08:00","userID":385}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:05+08:00","userKey":385}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:05+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"556245254\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:05+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:05+08:00"}
{"appID":0,"data":"{\"seq\":\"556245254\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:05+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:385","time":"2023-03-06T15:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:8.42 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T15:05:05+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:06+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T15:05:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.32 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T15:05:06+08:00"}
{"AppId":0,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":176,"level":"info","msg":"Login Info","name":"荣旗","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.12 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54272","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086308632-753608\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678086308\"}}","time":"2023-03-06T15:05:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086308632-753608\",\"cmd\":\"bind\",\"data\":{\"userID\":176,\"appID\":0,\"token\":\"1678086308\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:08+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:08+08:00","userKey":176}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086308632-753608\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:05:08+08:00"}
{"AppId":0,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"216516808","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"216516808\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"216516808\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:09+08:00"}
{"AppId":0,"RoomID":101,"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.83 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"223141347","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"223141347\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:09+08:00","userKey":176}
{"appID":0,"data":"{\"seq\":\"223141347\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"荣旗\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:09+08:00","userID":176}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:176","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.97 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.35 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=5\u0026limit=5]","time":"2023-03-06T15:05:09+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"兰陵王\"","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[兰陵王]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.38 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T15:05:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086310293-711804\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","time":"2023-03-06T15:05:10+08:00"}
{"addr":"","data":"{\"seq\":\"1678086310293-711804\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":176}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:10+08:00"}
{"UserId":176,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086308,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:10+08:00","userKey":176}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086310293-711804\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:05:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.09 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:05:14+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:55","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T15:05:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:45","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send\u0026{0 176 [::1]:54272     0xc0009606e0 0xc0000af980 1678086308 1678086310 1678086308}","time":"2023-03-06T15:05:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086315489-983135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086315489-983135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:15+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086315489-983135\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:15+08:00"}
{"AppId":0,"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":53,"level":"info","msg":"Login Info","name":"游酢","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.91 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:54278","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086316437-883638\",\"cmd\":\"bind\",\"data\":{\"userID\":53,\"appID\":0,\"token\":\"1678086316\"}}","time":"2023-03-06T15:05:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086316437-883638\",\"cmd\":\"bind\",\"data\":{\"userID\":53,\"appID\":0,\"token\":\"1678086316\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:16+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:16+08:00","userKey":53}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086316437-883638\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:05:16+08:00"}
{"AppId":0,"RoomID":101,"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:05:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:18+08:00","userKey":53}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:18+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"168718229","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:18+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:18+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"168718229\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:18+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:18+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"168718229\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:18+08:00","userID":53}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:53","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.66 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T15:05:18+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:18+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"兰陵王\"","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[兰陵王]","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.78 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T15:05:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678086321821-623528","roomID":101,"time":"2023-03-06T15:05:21+08:00","userID":53}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:21+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678086321821-623528","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:21+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:21+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"1678086321821-623528\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:21+08:00","userID":53}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:21+08:00","userKey":53}
{"appID":0,"data":"{\"seq\":\"1678086321821-623528\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"游酢\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:21+08:00","userID":53}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.48 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:05:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086324690-318577\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678086324690-318577\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:24+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:24+08:00"}
{"HeartbeatTime":1678086315,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:24+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086324690-318577\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086326486-215956\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086326486-215956\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:26+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086326486-215956\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086334689-366091\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678086334689-366091\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:34+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:34+08:00"}
{"HeartbeatTime":1678086324,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:34+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086334689-366091\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086336490-473801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086336490-473801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:36+08:00"}
{"HeartbeatTime":1678086326,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086336490-473801\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086344690-124909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678086344690-124909\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:44+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:44+08:00"}
{"HeartbeatTime":1678086334,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:44+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086344690-124909\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086346485-687604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086346485-687604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:46+08:00"}
{"HeartbeatTime":1678086336,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086346485-687604\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678086346611-499769","roomID":101,"time":"2023-03-06T15:05:46+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:05:46+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086301\",\"172.30.41.217:9001\",\"1678086293\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678086346611-499769","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:05:46+08:00","userID":385}
{"HeartbeatTime":1678086344,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:46+08:00","userKey":385}
{"HeartbeatTime":1678086344,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:46+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"1678086346611-499769\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:46+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:05:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:05:46+08:00"}
{"appID":0,"data":"{\"seq\":\"1678086346611-499769\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:05:46+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.52 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:05:46+08:00"}
{"currentTime":1678086353,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:05:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086355495-666576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:05:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086355495-666576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:55+08:00"}
{"HeartbeatTime":1678086344,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086355495-666576\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086356486-812040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:05:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086356486-812040\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:05:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:05:56+08:00"}
{"HeartbeatTime":1678086346,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:05:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086356486-812040\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:05:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:05:57+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.87 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:05:57+08:00"}
{"currentTime":1678086361,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:06:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086365491-456865\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086365491-456865\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:05+08:00"}
{"HeartbeatTime":1678086355,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086365491-456865\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T15:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.88 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T15:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086366489-718330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086366489-718330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:06+08:00"}
{"HeartbeatTime":1678086356,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086366489-718330\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:06+08:00"}
{"AppId":0,"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":267,"level":"info","msg":"Login Info","name":"寇恂","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.53 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51498","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086368070-243169\",\"cmd\":\"bind\",\"data\":{\"userID\":267,\"appID\":0,\"token\":\"1678086368\"}}","time":"2023-03-06T15:06:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086368070-243169\",\"cmd\":\"bind\",\"data\":{\"userID\":267,\"appID\":0,\"token\":\"1678086368\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:08+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:08+08:00","userKey":267}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086368070-243169\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:06:08+08:00"}
{"AppId":0,"RoomID":102,"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:06:09+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:09+08:00","userKey":267}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"246835472","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:06:09+08:00","userID":267}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:09+08:00","userKey":267}
{"appID":0,"data":"{\"seq\":\"246835472\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"寇恂\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:09+08:00","userID":267}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:09+08:00","userKey":267}
{"appID":0,"data":"{\"seq\":\"246835472\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"寇恂\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:09+08:00","userID":267}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:267","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.32 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T15:06:09+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:09+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T15:06:09+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.35 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:06:09+08:00"}
{"AppId":0,"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:253","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":462,"level":"info","msg":"Login Info","name":"张浚","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.64 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:51510","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086373199-597111\",\"cmd\":\"bind\",\"data\":{\"userID\":462,\"appID\":0,\"token\":\"1678086373\"}}","time":"2023-03-06T15:06:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086373199-597111\",\"cmd\":\"bind\",\"data\":{\"userID\":462,\"appID\":0,\"token\":\"1678086373\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:13+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086373199-597111\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T15:06:13+08:00"}
{"AppId":0,"RoomID":102,"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:06:13+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:13+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"869403206","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T15:06:13+08:00","userID":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:13+08:00","userKey":462}
{"appID":0,"data":"{\"seq\":\"869403206\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:13+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:06:13+08:00"}
{"appID":0,"data":"{\"seq\":\"869403206\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:13+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:462","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.62 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:06:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.22 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T15:06:13+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:14+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.62 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:06:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086375479-119459\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086375479-119459\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:15+08:00"}
{"HeartbeatTime":1678086365,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086375479-119459\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086376482-903351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086376482-903351\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:16+08:00"}
{"HeartbeatTime":1678086366,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086376482-903351\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086378492-869497\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086378492-869497\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:18+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086378492-869497\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"你大爷","msg":"SendMessageAll","msgID":"1678086381916-189561","roomID":102,"time":"2023-03-06T15:06:21+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:06:21+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086361\",\"172.30.41.217:9001\",\"1678086353\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"你大爷","msg":"SendUserMessageAll","msgID":"1678086381916-189561","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:06:21+08:00","userID":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:21+08:00","userKey":462}
{"appID":0,"data":"{\"seq\":\"1678086381916-189561\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:21+08:00","userID":462}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:21+08:00","userKey":462}
{"appID":0,"data":"{\"seq\":\"1678086381916-189561\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"你大爷\",\"from\":\"张浚\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:06:21+08:00","userID":462}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:06:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:06:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.61 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:06:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086383488-649283\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086383488-649283\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:23+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086383488-649283\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086385492-289604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086385492-289604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:25+08:00"}
{"HeartbeatTime":1678086375,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086385492-289604\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086386492-268860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086386492-268860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:26+08:00"}
{"HeartbeatTime":1678086376,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086386492-268860\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086388075-586868\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086388075-586868\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:28+08:00"}
{"HeartbeatTime":1678086378,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086388075-586868\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086393491-149981\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086393491-149981\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:33+08:00"}
{"HeartbeatTime":1678086383,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086393491-149981\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086395491-609938\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086395491-609938\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:35+08:00"}
{"HeartbeatTime":1678086385,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086395491-609938\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086396488-722255\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086396488-722255\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:36+08:00"}
{"HeartbeatTime":1678086386,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086396488-722255\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086398489-809635\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086398489-809635\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:38+08:00"}
{"HeartbeatTime":1678086388,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086398489-809635\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086403481-788986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086403481-788986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:43+08:00"}
{"HeartbeatTime":1678086393,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086403481-788986\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086405486-582752\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086405486-582752\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:45+08:00"}
{"HeartbeatTime":1678086395,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086405486-582752\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086406491-470449\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086406491-470449\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:46+08:00"}
{"HeartbeatTime":1678086396,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086406491-470449\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.2 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:47+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086408489-779985\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086408489-779985\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:48+08:00"}
{"HeartbeatTime":1678086398,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086408489-779985\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:06:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:06:53+08:00"}
{"currentTime":1678086413,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:06:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086413487-250160\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:06:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086413487-250160\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:53+08:00"}
{"HeartbeatTime":1678086403,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086413487-250160\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086415491-172967\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:06:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086415491-172967\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:55+08:00"}
{"HeartbeatTime":1678086405,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086415491-172967\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086416479-292970\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:06:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086416479-292970\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:56+08:00"}
{"HeartbeatTime":1678086406,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086416479-292970\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086418492-972468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:06:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086418492-972468\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:06:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:06:58+08:00"}
{"HeartbeatTime":1678086408,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:06:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086418492-972468\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:06:58+08:00"}
{"currentTime":1678086421,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:07:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086423481-217953\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086423481-217953\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:03+08:00"}
{"HeartbeatTime":1678086413,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086423481-217953\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086425486-761705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086425486-761705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:05+08:00"}
{"HeartbeatTime":1678086415,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086425486-761705\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086426493-858342\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086426493-858342\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:06+08:00"}
{"HeartbeatTime":1678086416,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086426493-858342\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086428484-212722\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086428484-212722\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:08+08:00"}
{"HeartbeatTime":1678086418,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086428484-212722\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086433220-548769\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086433220-548769\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:13+08:00"}
{"HeartbeatTime":1678086423,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086433220-548769\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086434840-698242\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678086434840-698242\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:14+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:14+08:00"}
{"HeartbeatTime":1678086425,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:14+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086434840-698242\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086436492-237966\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086436492-237966\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:16+08:00"}
{"HeartbeatTime":1678086426,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086436492-237966\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086438485-465187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086438485-465187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:18+08:00"}
{"HeartbeatTime":1678086428,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086438485-465187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086443481-369442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086443481-369442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:23+08:00"}
{"HeartbeatTime":1678086433,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086443481-369442\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086445488-774678\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086445488-774678\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:25+08:00"}
{"HeartbeatTime":1678086434,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086445488-774678\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086446482-116847\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086446482-116847\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:26+08:00"}
{"HeartbeatTime":1678086436,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086446482-116847\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086448484-215779\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086448484-215779\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:28+08:00"}
{"HeartbeatTime":1678086438,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086448484-215779\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:28+08:00"}
{"AppId":0,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T15:07:29+08:00"}
{"AppId":0,"RoomID":102,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086413\"]"}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086413\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"563348212","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T15:07:29+08:00","userID":385}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"563884557","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:07:29+08:00","userID":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"563348212\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"563884557\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"563348212\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":101,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:07:29+08:00"}
{"appID":0,"data":"{\"seq\":\"563884557\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:385","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:5.46 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.04 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:07:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.27 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=5\u0026limit=5]","time":"2023-03-06T15:07:29+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:30+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086413\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"寇恂\"  userID:\"张浚\"","time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[寇恂 张浚]","time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.18 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:07:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086453489-220725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086453489-220725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:33+08:00"}
{"HeartbeatTime":1678086443,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086453489-220725\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086454681-910308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678086454681-910308\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:34+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:34+08:00"}
{"HeartbeatTime":1678086445,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:34+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086454681-910308\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086456485-348584\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086456485-348584\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:36+08:00"}
{"HeartbeatTime":1678086446,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086456485-348584\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086458487-337124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086458487-337124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:38+08:00"}
{"HeartbeatTime":1678086448,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086458487-337124\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086463489-466739\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086463489-466739\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:43+08:00"}
{"HeartbeatTime":1678086453,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086463489-466739\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086464679-451755\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678086464679-451755\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:44+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:44+08:00"}
{"HeartbeatTime":1678086454,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:44+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086464679-451755\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086466487-840316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086466487-840316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:46+08:00"}
{"HeartbeatTime":1678086456,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086466487-840316\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086468487-577137\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086468487-577137\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:48+08:00"}
{"HeartbeatTime":1678086458,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086468487-577137\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:48+08:00"}
{"currentTime":1678086473,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:07:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086473485-506457\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:07:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086473485-506457\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:53+08:00"}
{"HeartbeatTime":1678086463,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086473485-506457\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086474679-194422\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:07:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678086474679-194422\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:54+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:54+08:00"}
{"HeartbeatTime":1678086464,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:54+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086474679-194422\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:111","func":"bychat/api/v1/user.SendMessageAll","level":"info","message":"是是是","msg":"SendMessageAll","msgID":"1678086475329-119483","roomID":102,"time":"2023-03-06T15:07:55+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:07:55+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086421\",\"172.30.41.217:9001\",\"1678086473\"]"}
{"appID":0,"cmd":"msg","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"是是是","msg":"SendUserMessageAll","msgID":"1678086475329-119483","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:07:55+08:00","userID":385}
{"HeartbeatTime":1678086474,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:55+08:00","userKey":385}
{"HeartbeatTime":1678086474,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:55+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"1678086475329-119483\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"是是是\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:55+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:07:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:07:55+08:00"}
{"appID":0,"data":"{\"seq\":\"1678086475329-119483\",\"cmd\":\"msg\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"是是是\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:07:55+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6 method:POST statusCode:200 uri:/user/sendMessageAll]","time":"2023-03-06T15:07:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086476486-507463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:07:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086476486-507463\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:56+08:00"}
{"HeartbeatTime":1678086466,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086476486-507463\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086478072-591055\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:07:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086478072-591055\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:07:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:07:58+08:00"}
{"HeartbeatTime":1678086468,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:07:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086478072-591055\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:07:58+08:00"}
{"currentTime":1678086481,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:08:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086483490-397747\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086483490-397747\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:03+08:00"}
{"HeartbeatTime":1678086473,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086483490-397747\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086484689-919882\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678086484689-919882\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:04+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:04+08:00"}
{"HeartbeatTime":1678086474,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:04+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086484689-919882\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086486489-626870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086486489-626870\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:06+08:00"}
{"HeartbeatTime":1678086476,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086486489-626870\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086488490-251033\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086488490-251033\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:08+08:00"}
{"HeartbeatTime":1678086478,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086488490-251033\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086493481-587716\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086493481-587716\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:13+08:00"}
{"HeartbeatTime":1678086483,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086493481-587716\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086495487-379106\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086495487-379106\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:15+08:00"}
{"HeartbeatTime":1678086484,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086495487-379106\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086496495-205085\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086496495-205085\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:16+08:00"}
{"HeartbeatTime":1678086486,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086496495-205085\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086498492-546915\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086498492-546915\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:18+08:00"}
{"HeartbeatTime":1678086488,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086498492-546915\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086503495-182451\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086503495-182451\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:23+08:00"}
{"HeartbeatTime":1678086493,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086503495-182451\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086505478-692510\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086505478-692510\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:25+08:00"}
{"HeartbeatTime":1678086495,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086505478-692510\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086506479-544135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086506479-544135\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:26+08:00"}
{"HeartbeatTime":1678086496,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086506479-544135\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086508484-457037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086508484-457037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:28+08:00"}
{"HeartbeatTime":1678086498,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086508484-457037\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086513479-828330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086513479-828330\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:33+08:00"}
{"HeartbeatTime":1678086503,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086513479-828330\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086515485-969962\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086515485-969962\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:35+08:00"}
{"HeartbeatTime":1678086505,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086515485-969962\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086516486-444077\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086516486-444077\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:36+08:00"}
{"HeartbeatTime":1678086506,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086516486-444077\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086518493-985706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086518493-985706\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:38+08:00"}
{"HeartbeatTime":1678086508,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086518493-985706\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086523479-581857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086523479-581857\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:43+08:00"}
{"HeartbeatTime":1678086513,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086523479-581857\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086525479-912390\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086525479-912390\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:45+08:00"}
{"HeartbeatTime":1678086515,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086525479-912390\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086526492-503407\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086526492-503407\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:46+08:00"}
{"HeartbeatTime":1678086516,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086526492-503407\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086528484-360666\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086528484-360666\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:48+08:00"}
{"HeartbeatTime":1678086518,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086528484-360666\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:48+08:00"}
{"currentTime":1678086533,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:08:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086533482-189945\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:08:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086533482-189945\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:53+08:00"}
{"HeartbeatTime":1678086523,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086533482-189945\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086535489-384627\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:08:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086535489-384627\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:55+08:00"}
{"HeartbeatTime":1678086525,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086535489-384627\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086536489-454194\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:08:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086536489-454194\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:56+08:00"}
{"HeartbeatTime":1678086526,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086536489-454194\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086538488-307490\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:08:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086538488-307490\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:08:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:08:58+08:00"}
{"HeartbeatTime":1678086528,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:08:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086538488-307490\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:08:58+08:00"}
{"currentTime":1678086541,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:09:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086543479-459249\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086543479-459249\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:03+08:00"}
{"HeartbeatTime":1678086533,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086543479-459249\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086545487-306270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086545487-306270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:05+08:00"}
{"HeartbeatTime":1678086535,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086545487-306270\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086546485-683890\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086546485-683890\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:06+08:00"}
{"HeartbeatTime":1678086536,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086546485-683890\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086548479-482389\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086548479-482389\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:08+08:00"}
{"HeartbeatTime":1678086538,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086548479-482389\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086553481-797210\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086553481-797210\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:13+08:00"}
{"HeartbeatTime":1678086543,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086553481-797210\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086555479-832858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086555479-832858\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:15+08:00"}
{"HeartbeatTime":1678086545,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086555479-832858\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086556489-895876\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086556489-895876\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:16+08:00"}
{"HeartbeatTime":1678086546,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086556489-895876\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086558481-229004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086558481-229004\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:18+08:00"}
{"HeartbeatTime":1678086548,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086558481-229004\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086563480-523789\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086563480-523789\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:23+08:00"}
{"HeartbeatTime":1678086553,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086563480-523789\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086565489-590352\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086565489-590352\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:25+08:00"}
{"HeartbeatTime":1678086555,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086565489-590352\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086566482-150552\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086566482-150552\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:26+08:00"}
{"HeartbeatTime":1678086556,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086566482-150552\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086568487-744187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086568487-744187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:28+08:00"}
{"HeartbeatTime":1678086558,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086568487-744187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086573499-197443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086573499-197443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:33+08:00"}
{"HeartbeatTime":1678086563,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086573499-197443\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086575479-369599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086575479-369599\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:35+08:00"}
{"HeartbeatTime":1678086565,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086575479-369599\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086576482-896467\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086576482-896467\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:36+08:00"}
{"HeartbeatTime":1678086566,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086576482-896467\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086578481-378797\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086578481-378797\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:38+08:00"}
{"HeartbeatTime":1678086568,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086578481-378797\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086583493-987176\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086583493-987176\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:43+08:00"}
{"HeartbeatTime":1678086573,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086583493-987176\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086585479-734783\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086585479-734783\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:45+08:00"}
{"HeartbeatTime":1678086575,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086585479-734783\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086586490-410634\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086586490-410634\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:46+08:00"}
{"HeartbeatTime":1678086576,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086586490-410634\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086588478-171386\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086588478-171386\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:48+08:00"}
{"HeartbeatTime":1678086578,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086588478-171386\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:48+08:00"}
{"currentTime":1678086593,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:09:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086593491-565787\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:09:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086593491-565787\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:53+08:00"}
{"HeartbeatTime":1678086583,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086593491-565787\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086595486-735891\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:09:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086595486-735891\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:55+08:00"}
{"HeartbeatTime":1678086585,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086595486-735891\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086596481-125415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:09:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086596481-125415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:56+08:00"}
{"HeartbeatTime":1678086586,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086596481-125415\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086598486-216775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:09:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086598486-216775\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:09:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:09:58+08:00"}
{"HeartbeatTime":1678086588,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:09:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086598486-216775\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:09:58+08:00"}
{"currentTime":1678086601,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:10:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086603484-235494\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086603484-235494\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:03+08:00"}
{"HeartbeatTime":1678086593,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086603484-235494\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086605491-377094\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086605491-377094\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:05+08:00"}
{"HeartbeatTime":1678086595,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086605491-377094\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086606487-363766\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086606487-363766\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:06+08:00"}
{"HeartbeatTime":1678086596,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086606487-363766\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086608489-972024\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086608489-972024\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:08+08:00"}
{"HeartbeatTime":1678086598,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086608489-972024\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086613491-810124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086613491-810124\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:13+08:00"}
{"HeartbeatTime":1678086603,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086613491-810124\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086615488-792869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086615488-792869\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:15+08:00"}
{"HeartbeatTime":1678086605,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086615488-792869\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086616480-892204\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086616480-892204\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:16+08:00"}
{"HeartbeatTime":1678086606,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086616480-892204\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086618484-108700\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086618484-108700\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:18+08:00"}
{"HeartbeatTime":1678086608,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086618484-108700\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086623492-979593\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086623492-979593\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:23+08:00"}
{"HeartbeatTime":1678086613,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086623492-979593\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086625488-660896\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086625488-660896\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:25+08:00"}
{"HeartbeatTime":1678086615,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086625488-660896\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086626487-674019\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086626487-674019\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:26+08:00"}
{"HeartbeatTime":1678086616,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086626487-674019\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086628483-638741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086628483-638741\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:28+08:00"}
{"HeartbeatTime":1678086618,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086628483-638741\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086633493-836327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086633493-836327\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:33+08:00"}
{"HeartbeatTime":1678086623,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086633493-836327\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086635492-408873\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086635492-408873\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:35+08:00"}
{"HeartbeatTime":1678086625,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086635492-408873\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086636480-715010\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086636480-715010\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:36+08:00"}
{"HeartbeatTime":1678086626,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086636480-715010\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086638493-499559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086638493-499559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:38+08:00"}
{"HeartbeatTime":1678086628,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086638493-499559\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086643488-161151\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086643488-161151\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:43+08:00"}
{"HeartbeatTime":1678086633,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086643488-161151\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086645484-714409\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086645484-714409\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:45+08:00"}
{"HeartbeatTime":1678086635,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086645484-714409\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086646482-607447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086646482-607447\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:46+08:00"}
{"HeartbeatTime":1678086636,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086646482-607447\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086648489-560419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086648489-560419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:48+08:00"}
{"HeartbeatTime":1678086638,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086648489-560419\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:48+08:00"}
{"currentTime":1678086653,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:10:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086653481-607201\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:10:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086653481-607201\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:53+08:00"}
{"HeartbeatTime":1678086643,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086653481-607201\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086655479-389573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:10:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086655479-389573\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:55+08:00"}
{"HeartbeatTime":1678086645,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086655479-389573\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086656487-627048\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:10:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086656487-627048\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:56+08:00"}
{"HeartbeatTime":1678086646,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086656487-627048\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086658481-247075\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:10:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086658481-247075\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:10:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:10:58+08:00"}
{"HeartbeatTime":1678086648,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:10:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086658481-247075\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:10:58+08:00"}
{"currentTime":1678086661,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:11:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086663485-843986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086663485-843986\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:03+08:00"}
{"HeartbeatTime":1678086653,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086663485-843986\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086665485-457084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086665485-457084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:05+08:00"}
{"HeartbeatTime":1678086655,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086665485-457084\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086666483-566380\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086666483-566380\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:06+08:00"}
{"HeartbeatTime":1678086656,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086666483-566380\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086668488-190836\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086668488-190836\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:08+08:00"}
{"HeartbeatTime":1678086658,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086668488-190836\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086673490-369744\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086673490-369744\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:13+08:00"}
{"HeartbeatTime":1678086663,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086673490-369744\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086675486-310942\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086675486-310942\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:15+08:00"}
{"HeartbeatTime":1678086665,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086675486-310942\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086676480-745646\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086676480-745646\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:16+08:00"}
{"HeartbeatTime":1678086666,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086676480-745646\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086678492-876007\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086678492-876007\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:18+08:00"}
{"HeartbeatTime":1678086668,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086678492-876007\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086683488-450435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086683488-450435\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:23+08:00"}
{"HeartbeatTime":1678086673,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086683488-450435\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086685481-551673\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086685481-551673\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:25+08:00"}
{"HeartbeatTime":1678086675,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086685481-551673\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086686488-968923\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086686488-968923\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:26+08:00"}
{"HeartbeatTime":1678086676,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086686488-968923\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086688490-114371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086688490-114371\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:28+08:00"}
{"HeartbeatTime":1678086678,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086688490-114371\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086693484-832272\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086693484-832272\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:33+08:00"}
{"HeartbeatTime":1678086683,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086693484-832272\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086695485-109471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086695485-109471\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:35+08:00"}
{"HeartbeatTime":1678086685,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086695485-109471\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086696488-716366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086696488-716366\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:36+08:00"}
{"HeartbeatTime":1678086686,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086696488-716366\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086698491-653179\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086698491-653179\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:38+08:00"}
{"HeartbeatTime":1678086688,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086698491-653179\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086703494-223159\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086703494-223159\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:43+08:00"}
{"HeartbeatTime":1678086693,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086703494-223159\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086705485-851178\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086705485-851178\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:45+08:00"}
{"HeartbeatTime":1678086695,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086705485-851178\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086706488-956355\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086706488-956355\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:46+08:00"}
{"HeartbeatTime":1678086696,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086706488-956355\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086708483-743368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086708483-743368\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:48+08:00"}
{"HeartbeatTime":1678086698,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086708483-743368\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:48+08:00"}
{"currentTime":1678086713,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:11:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086713489-640856\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:11:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086713489-640856\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:53+08:00"}
{"HeartbeatTime":1678086703,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086713489-640856\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086715483-326258\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:11:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086715483-326258\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:55+08:00"}
{"HeartbeatTime":1678086705,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086715483-326258\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086716498-161394\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:11:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086716498-161394\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:56+08:00"}
{"HeartbeatTime":1678086706,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086716498-161394\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086718491-568130\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:11:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086718491-568130\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:11:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:11:58+08:00"}
{"HeartbeatTime":1678086708,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:11:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086718491-568130\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:11:58+08:00"}
{"currentTime":1678086721,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:12:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086723486-440959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:03+08:00"}
{"addr":"","data":"{\"seq\":\"1678086723486-440959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:03+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:03+08:00"}
{"HeartbeatTime":1678086713,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:03+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086723486-440959\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086725505-851920\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086725505-851920\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:05+08:00"}
{"HeartbeatTime":1678086715,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086725505-851920\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086726486-398959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086726486-398959\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:06+08:00"}
{"HeartbeatTime":1678086716,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086726486-398959\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086728487-542862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:08+08:00"}
{"addr":"","data":"{\"seq\":\"1678086728487-542862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:08+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:08+08:00"}
{"HeartbeatTime":1678086718,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:08+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086728487-542862\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086733504-148705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:13+08:00"}
{"addr":"","data":"{\"seq\":\"1678086733504-148705\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:13+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:13+08:00"}
{"HeartbeatTime":1678086723,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:13+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086733504-148705\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086735484-993360\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086735484-993360\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:15+08:00"}
{"HeartbeatTime":1678086725,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086735484-993360\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086736486-204299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086736486-204299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:16+08:00"}
{"HeartbeatTime":1678086726,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086736486-204299\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086738483-990604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:18+08:00"}
{"addr":"","data":"{\"seq\":\"1678086738483-990604\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:18+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:18+08:00"}
{"HeartbeatTime":1678086728,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:18+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086738483-990604\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:18+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086743496-990764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:23+08:00"}
{"addr":"","data":"{\"seq\":\"1678086743496-990764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:23+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:23+08:00"}
{"HeartbeatTime":1678086733,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:23+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086743496-990764\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086745481-630738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678086745481-630738\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:25+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:25+08:00"}
{"HeartbeatTime":1678086735,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:25+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086745481-630738\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086746481-489796\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086746481-489796\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:26+08:00"}
{"HeartbeatTime":1678086736,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086746481-489796\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086748484-738801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678086748484-738801\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:28+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:28+08:00"}
{"HeartbeatTime":1678086738,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:28+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086748484-738801\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086753484-765446\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:33+08:00"}
{"addr":"","data":"{\"seq\":\"1678086753484-765446\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:33+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:33+08:00"}
{"HeartbeatTime":1678086743,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:33+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086753484-765446\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086755482-982529\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086755482-982529\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:35+08:00"}
{"HeartbeatTime":1678086745,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086755482-982529\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086756491-212344\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086756491-212344\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:36+08:00"}
{"HeartbeatTime":1678086746,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086756491-212344\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086758487-503411\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678086758487-503411\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:38+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:38+08:00"}
{"HeartbeatTime":1678086748,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:38+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086758487-503411\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086763482-720042\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:43+08:00"}
{"addr":"","data":"{\"seq\":\"1678086763482-720042\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:43+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:43+08:00"}
{"HeartbeatTime":1678086753,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:43+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086763482-720042\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086765477-232509\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086765477-232509\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:45+08:00"}
{"HeartbeatTime":1678086755,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086765477-232509\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086766451-182505\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086766451-182505\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:46+08:00"}
{"HeartbeatTime":1678086756,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086766451-182505\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086768479-856192\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:48+08:00"}
{"addr":"","data":"{\"seq\":\"1678086768479-856192\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:48+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:48+08:00"}
{"HeartbeatTime":1678086758,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:48+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086768479-856192\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:48+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:12:51+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.24 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:12:51+08:00"}
{"currentTime":1678086773,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086773489-727125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:12:53+08:00"}
{"addr":"","data":"{\"seq\":\"1678086773489-727125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:53+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:53+08:00"}
{"HeartbeatTime":1678086763,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:53+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086773489-727125\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.6 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:12:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T15:12:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.41 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T15:12:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086775501-888837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:12:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086775501-888837\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:55+08:00"}
{"HeartbeatTime":1678086765,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086775501-888837\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086776504-838993\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:12:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086776504-838993\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:56+08:00"}
{"HeartbeatTime":1678086766,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086776504-838993\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086778484-535519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:12:58+08:00"}
{"addr":"","data":"{\"seq\":\"1678086778484-535519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:12:58+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:12:58+08:00"}
{"HeartbeatTime":1678086768,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:12:58+08:00","userKey":267}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086778484-535519\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:12:58+08:00"}
{"currentTime":1678086781,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:13:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086785478-618711\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086785478-618711\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:05+08:00"}
{"HeartbeatTime":1678086775,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086785478-618711\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086786481-275295\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086786481-275295\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:06+08:00"}
{"HeartbeatTime":1678086776,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086786481-275295\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086794677-556439\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678086794677-556439\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:14+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:14+08:00"}
{"HeartbeatTime":1678086785,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:14+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086794677-556439\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086796492-139589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086796492-139589\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:16+08:00"}
{"HeartbeatTime":1678086786,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086796492-139589\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086804683-754842\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678086804683-754842\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:24+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:24+08:00"}
{"HeartbeatTime":1678086794,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:24+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086804683-754842\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086806494-620354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086806494-620354\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:26+08:00"}
{"HeartbeatTime":1678086796,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086806494-620354\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086815490-246917\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678086815490-246917\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:35+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:35+08:00"}
{"HeartbeatTime":1678086804,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:35+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086815490-246917\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086816484-848495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086816484-848495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:36+08:00"}
{"HeartbeatTime":1678086806,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086816484-848495\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086825480-799703\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086825480-799703\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:45+08:00"}
{"HeartbeatTime":1678086815,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086825480-799703\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086826483-170089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086826483-170089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:46+08:00"}
{"HeartbeatTime":1678086816,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086826483-170089\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:46+08:00"}
{"currentTime":1678086833,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T15:13:53+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086835481-876511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:13:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678086835481-876511\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:55+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:55+08:00"}
{"HeartbeatTime":1678086825,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:55+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086835481-876511\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086836489-205002\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:13:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678086836489-205002\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:56+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:56+08:00"}
{"HeartbeatTime":1678086826,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:56+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086836489-205002\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086839482-264758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","time":"2023-03-06T15:13:59+08:00"}
{"addr":"","data":"{\"seq\":\"1678086839482-264758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":462}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086839483-602559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","time":"2023-03-06T15:13:59+08:00"}
{"addr":"","data":"{\"seq\":\"1678086839483-602559\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":267}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:13:59+08:00"}
{"UserId":267,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:59+08:00"}
{"UserId":462,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:13:59+08:00"}
{"HeartbeatTime":1678086778,"IsLogoff":false,"LoginTime":1678086368,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:59+08:00","userKey":267}
{"HeartbeatTime":1678086773,"IsLogoff":false,"LoginTime":1678086373,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:13:59+08:00","userKey":462}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086839482-264758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:59+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086839483-602559\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:13:59+08:00"}
{"currentTime":1678086841,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T15:14:01+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086845492-390133\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678086845492-390133\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:05+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:05+08:00"}
{"HeartbeatTime":1678086835,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:05+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086845492-390133\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086846443-893526\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678086846443-893526\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:06+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:06+08:00"}
{"HeartbeatTime":1678086836,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:06+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086846443-893526\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086855484-375691\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678086855484-375691\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:15+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:15+08:00"}
{"HeartbeatTime":1678086845,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:15+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086855484-375691\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086856485-252807\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678086856485-252807\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:16+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:16+08:00"}
{"HeartbeatTime":1678086846,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:16+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086856485-252807\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:16+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086864690-258086\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678086864690-258086\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:24+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:24+08:00"}
{"HeartbeatTime":1678086855,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:24+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086864690-258086\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086866485-630388\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678086866485-630388\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:26+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:26+08:00"}
{"HeartbeatTime":1678086856,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:26+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086866485-630388\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:26+08:00"}
{"AppId":0,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:219","func":"bychat/internal/servers/websocket.ExitRoom","level":"info","msg":"webSocket_request 离开房间接口","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:14:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086841\",\"172.30.41.217:9001\",\"1678086833\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"退出~","msg":"SendUserMessageAll","msgID":"15146179","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:14:29+08:00","userID":385}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"AppId":0,"RoomID":102,"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:191","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"webSocket_request 进入房间接口","time":"2023-03-06T15:14:29+08:00"}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"15146179\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:14:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086841\",\"172.30.41.217:9001\",\"1678086833\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:14:29+08:00"}
{"appID":0,"data":"{\"seq\":\"15146179\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"退出~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:134","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"20873005","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T15:14:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.76 method:POST statusCode:200 uri:/user/exit]","time":"2023-03-06T15:14:29+08:00"}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:29+08:00","userKey":385}
{"appID":0,"data":"{\"seq\":\"20873005\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T15:14:29+08:00"}
{"appID":0,"data":"{\"seq\":\"20873005\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"兰陵王\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:177","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"全员广播","roomID":102,"time":"2023-03-06T15:14:29+08:00","userID":385}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:209","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:385","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:7.92 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.6 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=10\u0026limit=5]","time":"2023-03-06T15:14:29+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T15:14:29+08:00","valByte":"[\"172.30.41.217:9002\",\"1678086841\",\"172.30.41.217:9001\",\"1678086833\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"  userID:\"寇恂\"  userID:\"张浚\"","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[寇恂 张浚]","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.92 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T15:14:29+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086874679-211284\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678086874679-211284\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:34+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:34+08:00"}
{"HeartbeatTime":1678086864,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:34+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086874679-211284\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086876484-584817\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678086876484-584817\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:36+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:36+08:00"}
{"HeartbeatTime":1678086866,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:36+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086876484-584817\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086885490-967872\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","time":"2023-03-06T15:14:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678086885490-967872\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":385}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:45+08:00"}
{"UserId":385,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:45+08:00"}
{"HeartbeatTime":1678086874,"IsLogoff":false,"LoginTime":1678086304,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:45+08:00","userKey":385}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086885490-967872\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:60","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678086886483-710595\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","time":"2023-03-06T15:14:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678086886483-710595\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":53}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T15:14:46+08:00"}
{"UserId":53,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:52","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request 心跳接口","time":"2023-03-06T15:14:46+08:00"}
{"HeartbeatTime":1678086876,"IsLogoff":false,"LoginTime":1678086316,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T15:14:46+08:00","userKey":53}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678086886483-710595\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T15:14:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:18:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9002","time":"2023-03-06T17:18:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:18:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:18:21+08:00"}
{"currentTime":1678094301,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:18:21+08:00"}
{"currentTime":1678094303,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:18:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.58 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:24+08:00"}
{"AppId":0,"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":407,"level":"info","msg":"Login Info","name":"蔡允恭","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.8 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:40422","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094305361-332288\",\"cmd\":\"bind\",\"data\":{\"userID\":407,\"appID\":0,\"token\":\"1678094305\"}}","time":"2023-03-06T17:18:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094305361-332288\",\"cmd\":\"bind\",\"data\":{\"userID\":407,\"appID\":0,\"token\":\"1678094305\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:25+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094305361-332288\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:25+08:00"}
{"AppId":0,"RoomID":101,"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom","time":"2023-03-06T17:18:25+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:25+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"931615489","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:18:25+08:00","userID":407}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"appID":0,"data":"{\"seq\":\"931615489\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"蔡允恭\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:25+08:00","userID":407}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:25+08:00","userKey":407}
{"appID":0,"data":"{\"seq\":\"931615489\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"蔡允恭\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:25+08:00","userID":407}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:407","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:10.86 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.93 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:25+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:26+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.5 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T17:18:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.19 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:30+08:00"}
{"AppId":0,"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":84,"level":"info","msg":"Login Info","name":"唐伯虎","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.81 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:52268","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094311552-343369\",\"cmd\":\"bind\",\"data\":{\"userID\":84,\"appID\":0,\"token\":\"1678094311\"}}","time":"2023-03-06T17:18:31+08:00"}
{"addr":"","data":"{\"seq\":\"1678094311552-343369\",\"cmd\":\"bind\",\"data\":{\"userID\":84,\"appID\":0,\"token\":\"1678094311\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:31+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:31+08:00","userKey":84}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094311552-343369\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:31+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:31+08:00"}
{"AppId":0,"RoomID":101,"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom","time":"2023-03-06T17:18:32+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:32+08:00","userKey":84}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:32+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"782253469","roomID":101,"servers":[{"ip":"172.30.41.217","port":"9001"},{"ip":"172.30.41.217","port":"9002"}],"time":"2023-03-06T17:18:32+08:00","userID":84}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:32+08:00","userKey":84}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:32+08:00","userKey":84}
{"appID":0,"data":"{\"seq\":\"782253469\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"唐伯虎\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:32+08:00","userID":84}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:32+08:00"}
{"appID":0,"data":"{\"seq\":\"782253469\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"唐伯虎\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":101,"time":"2023-03-06T17:18:32+08:00","userID":84}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:84","time":"2023-03-06T17:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.44 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.35 method:GET statusCode:200 uri:/user/historyMessageList?roomID=101\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:32+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:101","roomID":101,"time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":101,"time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:33+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.46 method:GET statusCode:200 uri:/user/list?roomID=101]","time":"2023-03-06T17:18:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094315480-610503\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:18:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094315480-610503\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:35+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094315480-610503\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:18:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:18:37+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:18:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.14 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:18:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094322483-958046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:18:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094322483-958046\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:42+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094322483-958046\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.02 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094325489-539714\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:18:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094325489-539714\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:45+08:00"}
{"HeartbeatTime":1678094315,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094325489-539714\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:45+08:00"}
{"AppId":0,"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":431,"level":"info","msg":"Login Info","name":"玄奘","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.65 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:37742","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094326175-671167\",\"cmd\":\"bind\",\"data\":{\"userID\":431,\"appID\":0,\"token\":\"1678094326\"}}","time":"2023-03-06T17:18:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094326175-671167\",\"cmd\":\"bind\",\"data\":{\"userID\":431,\"appID\":0,\"token\":\"1678094326\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:46+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:46+08:00","userKey":431}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094326175-671167\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:46+08:00"}
{"AppId":0,"RoomID":102,"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom","time":"2023-03-06T17:18:49+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:49+08:00","userKey":431}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:49+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"580845560","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:18:49+08:00","userID":431}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:49+08:00","userKey":431}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:49+08:00","userKey":431}
{"appID":0,"data":"{\"seq\":\"580845560\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"玄奘\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:49+08:00","userID":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:49+08:00"}
{"appID":0,"data":"{\"seq\":\"580845560\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"玄奘\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:49+08:00","userID":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:431","time":"2023-03-06T17:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.27 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.31 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:49+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:50+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\"","time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[]","time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.35 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T17:18:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094332484-938233\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:18:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094332484-938233\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:52+08:00"}
{"HeartbeatTime":1678094322,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094332484-938233\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:18:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.36 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:18:52+08:00"}
{"AppId":0,"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":132,"level":"info","msg":"Login Info","name":"澹台灭明","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44082","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094334117-994575\",\"cmd\":\"bind\",\"data\":{\"userID\":132,\"appID\":0,\"token\":\"1678094334\"}}","time":"2023-03-06T17:18:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678094334117-994575\",\"cmd\":\"bind\",\"data\":{\"userID\":132,\"appID\":0,\"token\":\"1678094334\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:54+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094334117-994575\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:18:54+08:00"}
{"AppId":0,"RoomID":102,"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:160","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom","time":"2023-03-06T17:18:54+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:54+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"appID":0,"cmd":"enter","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"哈喽~","msg":"SendUserMessageAll","msgID":"677987637","roomID":102,"servers":[{"ip":"172.30.41.217","port":"9002"},{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:18:54+08:00","userID":132}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"appID":0,"data":"{\"seq\":\"677987637\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"澹台灭明\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:54+08:00","userID":132}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:54+08:00","userKey":132}
{"appID":0,"data":"{\"seq\":\"677987637\",\"cmd\":\"enter\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"哈喽~\",\"from\":\"澹台灭明\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":102,"time":"2023-03-06T17:18:54+08:00","userID":132}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:56","func":"bychat/internal/servers/grpcserver.(*server).SendMsgAll","level":"info","msg":"grpc_response 给本机全体用户发消息:errMsg:\"Success\"","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:54","func":"bychat/internal/servers/grpcclient.SendMsgAll","level":"error","msg":"给全体用户发送消息 成功:","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:178","func":"bychat/internal/servers/websocket.EnterRoom","level":"info","msg":"EnterRoom uo:132","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:6.48 method:POST statusCode:200 uri:/user/enter]","time":"2023-03-06T17:18:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.27 method:GET statusCode:200 uri:/user/historyMessageList?roomID=102\u0026start=0\u0026limit=5]","time":"2023-03-06T17:18:54+08:00"}
{"appID":0,"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:77","func":"bychat/api/v1/user.GetRoomUserList","level":"info","msg":"http_request 查看全部在线用户 roomID:102","roomID":102,"time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:53","func":"bychat/internal/servers/websocket.GetRoomUserList","level":"info","msg":"获取全部用户","roomID":102,"time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:18:55+08:00","valByte":"[\"172.30.41.217:9002\",\"1678094301\",\"172.30.41.217:9001\",\"1678094303\"]"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcserver/grpc_server.go:79","func":"bychat/internal/servers/grpcserver.(*server).GetRoomUserList","level":"info","msg":"grpc_response 获取用户列表:errMsg:\"Success\" userID:\"玄奘\"","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/grpcclient/grpc_client.go:92","func":"bychat/internal/servers/grpcclient.GetRoomUserList","level":"info","msg":"获取用户列表 成功:[玄奘]","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.22 method:GET statusCode:200 uri:/user/list?roomID=102]","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094335494-319814\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:18:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094335494-319814\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:55+08:00"}
{"HeartbeatTime":1678094325,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094335494-319814\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094336491-585025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:18:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094336491-585025\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:18:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:18:56+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:18:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094336491-585025\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.38 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:18:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094342490-150623\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094342490-150623\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:02+08:00"}
{"HeartbeatTime":1678094332,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094342490-150623\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094344127-551773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678094344127-551773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:04+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:04+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:04+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094344127-551773\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094345487-388136\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094345487-388136\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:05+08:00"}
{"HeartbeatTime":1678094335,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094345487-388136\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094346177-605519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094346177-605519\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:06+08:00"}
{"HeartbeatTime":1678094336,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094346177-605519\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:19:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:19:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094352479-575292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094352479-575292\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:12+08:00"}
{"HeartbeatTime":1678094342,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094352479-575292\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094354119-437860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678094354119-437860\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:14+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:14+08:00"}
{"HeartbeatTime":1678094344,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:14+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094354119-437860\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094355492-961758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094355492-961758\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:15+08:00"}
{"HeartbeatTime":1678094345,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094355492-961758\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094356480-665629\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094356480-665629\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:16+08:00"}
{"HeartbeatTime":1678094346,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094356480-665629\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:16+08:00"}
{"currentTime":1678094361,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:19:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094362487-442900\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094362487-442900\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:22+08:00"}
{"HeartbeatTime":1678094352,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094362487-442900\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:22+08:00"}
{"currentTime":1678094363,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:19:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094364120-844466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678094364120-844466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:24+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:24+08:00"}
{"HeartbeatTime":1678094354,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:24+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094364120-844466\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094365497-743877\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094365497-743877\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:25+08:00"}
{"HeartbeatTime":1678094355,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094365497-743877\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094366480-781946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094366480-781946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:26+08:00"}
{"HeartbeatTime":1678094356,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094366480-781946\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094372492-541934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094372492-541934\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:32+08:00"}
{"HeartbeatTime":1678094362,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094372492-541934\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094374119-331245\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:34+08:00"}
{"addr":"","data":"{\"seq\":\"1678094374119-331245\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:34+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:34+08:00"}
{"HeartbeatTime":1678094364,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:34+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094374119-331245\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094375488-185946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094375488-185946\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:35+08:00"}
{"HeartbeatTime":1678094365,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094375488-185946\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094376480-282359\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094376480-282359\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:36+08:00"}
{"HeartbeatTime":1678094366,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094376480-282359\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094382480-504995\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094382480-504995\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:42+08:00"}
{"HeartbeatTime":1678094372,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094382480-504995\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094384122-998676\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:44+08:00"}
{"addr":"","data":"{\"seq\":\"1678094384122-998676\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:44+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:44+08:00"}
{"HeartbeatTime":1678094374,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:44+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094384122-998676\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094385480-166987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094385480-166987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:45+08:00"}
{"HeartbeatTime":1678094375,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094385480-166987\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094386487-143037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094386487-143037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:46+08:00"}
{"HeartbeatTime":1678094376,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094386487-143037\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094392492-817845\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:19:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094392492-817845\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:52+08:00"}
{"HeartbeatTime":1678094382,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094392492-817845\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094394132-433568\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:19:54+08:00"}
{"addr":"","data":"{\"seq\":\"1678094394132-433568\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:54+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:54+08:00"}
{"HeartbeatTime":1678094384,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:54+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094394132-433568\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094395483-134551\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:19:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094395483-134551\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:55+08:00"}
{"HeartbeatTime":1678094385,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094395483-134551\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094396479-230443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:19:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094396479-230443\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:19:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:19:56+08:00"}
{"HeartbeatTime":1678094386,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:19:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094396479-230443\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:19:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094402497-830512\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094402497-830512\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:02+08:00"}
{"HeartbeatTime":1678094392,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094402497-830512\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094404118-831234\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:20:04+08:00"}
{"addr":"","data":"{\"seq\":\"1678094404118-831234\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:04+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:04+08:00"}
{"HeartbeatTime":1678094394,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:04+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094404118-831234\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094405491-976575\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094405491-976575\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:05+08:00"}
{"HeartbeatTime":1678094395,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094405491-976575\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094406490-228454\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094406490-228454\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:06+08:00"}
{"HeartbeatTime":1678094396,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094406490-228454\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094412484-770059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094412484-770059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:12+08:00"}
{"HeartbeatTime":1678094402,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094412484-770059\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094414128-148861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:20:14+08:00"}
{"addr":"","data":"{\"seq\":\"1678094414128-148861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:14+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:14+08:00"}
{"HeartbeatTime":1678094404,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:14+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094414128-148861\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:14+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094415490-864059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094415490-864059\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:15+08:00"}
{"HeartbeatTime":1678094405,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094415490-864059\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094416487-534384\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094416487-534384\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:16+08:00"}
{"HeartbeatTime":1678094406,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094416487-534384\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:16+08:00"}
{"currentTime":1678094421,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:20:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094422484-882064\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094422484-882064\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:22+08:00"}
{"HeartbeatTime":1678094412,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094422484-882064\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:22+08:00"}
{"currentTime":1678094423,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:20:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094424132-121172\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","time":"2023-03-06T17:20:24+08:00"}
{"addr":"","data":"{\"seq\":\"1678094424132-121172\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":132}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:24+08:00"}
{"UserId":132,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:24+08:00"}
{"HeartbeatTime":1678094414,"IsLogoff":false,"LoginTime":1678094334,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:24+08:00","userKey":132}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094424132-121172\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094425494-911773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094425494-911773\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:25+08:00"}
{"HeartbeatTime":1678094415,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094425494-911773\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094426483-552105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094426483-552105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:26+08:00"}
{"HeartbeatTime":1678094416,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094426483-552105\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.27 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:20:32+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:76","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:66","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send\u0026{0 132 [::1]:44082     0xc0001878c0 0xc00060f200 1678094334 1678094424 1678094334}","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094432493-379763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094432493-379763\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:32+08:00"}
{"HeartbeatTime":1678094422,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094432493-379763\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094435492-704112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094435492-704112\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:35+08:00"}
{"HeartbeatTime":1678094425,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094435492-704112\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094436487-786560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094436487-786560\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:36+08:00"}
{"HeartbeatTime":1678094426,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094436487-786560\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094442488-132148\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094442488-132148\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:42+08:00"}
{"HeartbeatTime":1678094432,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094442488-132148\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094445489-262224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094445489-262224\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:45+08:00"}
{"HeartbeatTime":1678094435,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094445489-262224\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094446489-325976\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094446489-325976\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:46+08:00"}
{"HeartbeatTime":1678094436,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094446489-325976\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094452485-368412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:20:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094452485-368412\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:52+08:00"}
{"HeartbeatTime":1678094442,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094452485-368412\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094455491-671303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:20:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094455491-671303\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:55+08:00"}
{"HeartbeatTime":1678094445,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094455491-671303\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094456492-811414\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:20:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094456492-811414\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:20:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:20:56+08:00"}
{"HeartbeatTime":1678094446,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:20:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094456492-811414\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:20:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094462480-488050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094462480-488050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:02+08:00"}
{"HeartbeatTime":1678094452,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094462480-488050\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094465492-458187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094465492-458187\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:05+08:00"}
{"HeartbeatTime":1678094455,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094465492-458187\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094466482-927105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094466482-927105\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:06+08:00"}
{"HeartbeatTime":1678094456,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094466482-927105\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094472489-965089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094472489-965089\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:12+08:00"}
{"HeartbeatTime":1678094462,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094472489-965089\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094475492-813628\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094475492-813628\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:15+08:00"}
{"HeartbeatTime":1678094465,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094475492-813628\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094476488-937690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094476488-937690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:16+08:00"}
{"HeartbeatTime":1678094466,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094476488-937690\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:16+08:00"}
{"currentTime":1678094481,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:21:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094482487-500963\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094482487-500963\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:22+08:00"}
{"HeartbeatTime":1678094472,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094482487-500963\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:22+08:00"}
{"currentTime":1678094483,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:21:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094485481-986270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094485481-986270\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:25+08:00"}
{"HeartbeatTime":1678094475,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094485481-986270\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094486487-554927\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094486487-554927\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:26+08:00"}
{"HeartbeatTime":1678094476,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094486487-554927\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094492483-126027\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094492483-126027\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:32+08:00"}
{"HeartbeatTime":1678094482,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094492483-126027\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094495490-621014\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094495490-621014\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:35+08:00"}
{"HeartbeatTime":1678094485,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094495490-621014\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094496497-914343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094496497-914343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:36+08:00"}
{"HeartbeatTime":1678094486,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094496497-914343\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094502491-705037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094502491-705037\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:42+08:00"}
{"HeartbeatTime":1678094492,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094502491-705037\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094505493-118495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094505493-118495\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:45+08:00"}
{"HeartbeatTime":1678094495,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094505493-118495\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094506482-530078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094506482-530078\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:46+08:00"}
{"HeartbeatTime":1678094496,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094506482-530078\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094512488-287749\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:21:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094512488-287749\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:52+08:00"}
{"HeartbeatTime":1678094502,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094512488-287749\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094515488-483419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:21:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094515488-483419\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:55+08:00"}
{"HeartbeatTime":1678094505,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094515488-483419\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094516491-271163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:21:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094516491-271163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:21:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:21:56+08:00"}
{"HeartbeatTime":1678094506,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:21:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094516491-271163\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:21:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:21:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.37 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:21:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:22:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:22:00+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094522491-796050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094522491-796050\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:02+08:00"}
{"HeartbeatTime":1678094512,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094522491-796050\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094525484-249901\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094525484-249901\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:05+08:00"}
{"HeartbeatTime":1678094515,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094525484-249901\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094526492-998219\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094526492-998219\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:06+08:00"}
{"HeartbeatTime":1678094516,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094526492-998219\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094532487-944612\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094532487-944612\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:12+08:00"}
{"HeartbeatTime":1678094522,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094532487-944612\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094535483-332861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094535483-332861\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:15+08:00"}
{"HeartbeatTime":1678094525,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094535483-332861\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094536484-151393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094536484-151393\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:16+08:00"}
{"HeartbeatTime":1678094526,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094536484-151393\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:16+08:00"}
{"currentTime":1678094541,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:22:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094542481-947343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094542481-947343\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:22+08:00"}
{"HeartbeatTime":1678094532,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094542481-947343\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:22+08:00"}
{"currentTime":1678094543,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:22:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094545493-233530\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094545493-233530\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:25+08:00"}
{"HeartbeatTime":1678094535,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094545493-233530\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094546491-367084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094546491-367084\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:26+08:00"}
{"HeartbeatTime":1678094536,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094546491-367084\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094552488-551655\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094552488-551655\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:32+08:00"}
{"HeartbeatTime":1678094542,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094552488-551655\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094555487-899500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:35+08:00"}
{"addr":"","data":"{\"seq\":\"1678094555487-899500\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:35+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:35+08:00"}
{"HeartbeatTime":1678094545,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:35+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094555487-899500\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094556484-303369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094556484-303369\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:36+08:00"}
{"HeartbeatTime":1678094546,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094556484-303369\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094562491-196513\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:42+08:00"}
{"addr":"","data":"{\"seq\":\"1678094562491-196513\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:42+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:42+08:00"}
{"HeartbeatTime":1678094552,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:42+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094562491-196513\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094565482-885316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:45+08:00"}
{"addr":"","data":"{\"seq\":\"1678094565482-885316\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:45+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:45+08:00"}
{"HeartbeatTime":1678094555,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:45+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094565482-885316\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094566485-403171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094566485-403171\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:46+08:00"}
{"HeartbeatTime":1678094556,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094566485-403171\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094572493-611163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:22:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678094572493-611163\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:52+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:52+08:00"}
{"HeartbeatTime":1678094562,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:52+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094572493-611163\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094575493-400252\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:22:55+08:00"}
{"addr":"","data":"{\"seq\":\"1678094575493-400252\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:55+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:55+08:00"}
{"HeartbeatTime":1678094565,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:55+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094575493-400252\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094576484-700949\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:22:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094576484-700949\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:22:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:22:56+08:00"}
{"HeartbeatTime":1678094566,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:22:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094576484-700949\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:22:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094582481-698516\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094582481-698516\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:02+08:00"}
{"HeartbeatTime":1678094572,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094582481-698516\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094585492-570690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:23:05+08:00"}
{"addr":"","data":"{\"seq\":\"1678094585492-570690\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:05+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:05+08:00"}
{"HeartbeatTime":1678094575,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:05+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094585492-570690\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094586487-586239\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094586487-586239\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:06+08:00"}
{"HeartbeatTime":1678094576,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094586487-586239\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094592484-739306\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:12+08:00"}
{"addr":"","data":"{\"seq\":\"1678094592484-739306\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:12+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:12+08:00"}
{"HeartbeatTime":1678094582,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:12+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094592484-739306\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:12+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094595484-795223\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:23:15+08:00"}
{"addr":"","data":"{\"seq\":\"1678094595484-795223\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:15+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:15+08:00"}
{"HeartbeatTime":1678094585,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:15+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094595484-795223\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:15+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094596490-974815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:16+08:00"}
{"addr":"","data":"{\"seq\":\"1678094596490-974815\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:16+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:16+08:00"}
{"HeartbeatTime":1678094586,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:16+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094596490-974815\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:16+08:00"}
{"currentTime":1678094601,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:23:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094602487-987429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:22+08:00"}
{"addr":"","data":"{\"seq\":\"1678094602487-987429\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:22+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:22+08:00"}
{"HeartbeatTime":1678094592,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:22+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094602487-987429\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:22+08:00"}
{"currentTime":1678094603,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:23:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094605481-306897\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:23:25+08:00"}
{"addr":"","data":"{\"seq\":\"1678094605481-306897\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:25+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:25+08:00"}
{"HeartbeatTime":1678094595,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:25+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094605481-306897\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:25+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094606491-133020\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:26+08:00"}
{"addr":"","data":"{\"seq\":\"1678094606491-133020\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:26+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:26+08:00"}
{"HeartbeatTime":1678094596,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:26+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094606491-133020\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094612479-805631\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:23:32+08:00"}
{"addr":"","data":"{\"seq\":\"1678094612479-805631\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:32+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:32+08:00"}
{"HeartbeatTime":1678094602,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:32+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094612479-805631\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:32+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094616487-680656\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:36+08:00"}
{"addr":"","data":"{\"seq\":\"1678094616487-680656\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:36+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:36+08:00"}
{"HeartbeatTime":1678094606,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:36+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094616487-680656\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094626486-139764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:46+08:00"}
{"addr":"","data":"{\"seq\":\"1678094626486-139764\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:46+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:46+08:00"}
{"HeartbeatTime":1678094616,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:46+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094626486-139764\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094636489-233357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:23:56+08:00"}
{"addr":"","data":"{\"seq\":\"1678094636489-233357\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:23:56+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:23:56+08:00"}
{"HeartbeatTime":1678094626,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:23:56+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094636489-233357\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:23:56+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094642487-834813\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:24:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094642487-834813\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:24:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094642487-116562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:24:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094642487-116562\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:24:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:24:02+08:00"}
{"HeartbeatTime":1678094612,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:24:02+08:00","userKey":84}
{"HeartbeatTime":1678094605,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:24:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094642487-116562\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:24:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094642487-834813\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:24:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094646488-246776\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:24:06+08:00"}
{"addr":"","data":"{\"seq\":\"1678094646488-246776\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:24:06+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:24:06+08:00"}
{"HeartbeatTime":1678094636,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:24:06+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094646488-246776\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:24:06+08:00"}
{"currentTime":1678094661,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:24:21+08:00"}
{"currentTime":1678094663,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:24:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:24:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.17 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:24:41+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094702483-956125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:25:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094702483-956125\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:25:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094702484-891214\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:25:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094702484-891214\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:25:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:25:02+08:00"}
{"HeartbeatTime":1678094642,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:25:02+08:00","userKey":407}
{"HeartbeatTime":1678094642,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:25:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094702483-956125\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:25:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094702485-370475\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:25:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094702484-891214\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:25:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094702485-370475\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:25:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:25:02+08:00"}
{"HeartbeatTime":1678094646,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:25:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094702485-370475\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:25:02+08:00"}
{"currentTime":1678094722,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:25:22+08:00"}
{"currentTime":1678094723,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:25:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094762493-271203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:26:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094762493-271203\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:26:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094762493-469514\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:26:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094762493-154205\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:26:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094762493-469514\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:26:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:26:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094762493-154205\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:26:02+08:00"}
{"HeartbeatTime":1678094702,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:26:02+08:00","userKey":407}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:26:02+08:00"}
{"HeartbeatTime":1678094702,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:26:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094762493-271203\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:26:02+08:00"}
{"HeartbeatTime":1678094702,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:26:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094762493-469514\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:26:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094762493-154205\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:26:02+08:00"}
{"currentTime":1678094782,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:26:22+08:00"}
{"currentTime":1678094783,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:26:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094822490-381082\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:27:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094822490-381082\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:27:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094822491-107415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:27:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094822490-316466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:27:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094822490-316466\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:27:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:27:02+08:00"}
{"HeartbeatTime":1678094762,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:27:02+08:00","userKey":407}
{"HeartbeatTime":1678094762,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:27:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094822490-381082\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:27:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094822491-107415\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:27:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094822490-316466\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:27:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:27:02+08:00"}
{"HeartbeatTime":1678094762,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:27:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094822491-107415\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:27:02+08:00"}
{"currentTime":1678094842,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:27:22+08:00"}
{"currentTime":1678094843,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:27:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094882480-467557\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:28:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094882480-467557\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:28:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:28:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094882481-774918\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:28:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094882480-427377\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:28:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094882481-774918\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:28:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:28:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094882480-427377\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:28:02+08:00"}
{"HeartbeatTime":1678094822,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:28:02+08:00","userKey":407}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:28:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094882480-467557\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:28:02+08:00"}
{"HeartbeatTime":1678094822,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:28:02+08:00","userKey":84}
{"HeartbeatTime":1678094822,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:28:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094882480-427377\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:28:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094882481-774918\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:28:02+08:00"}
{"currentTime":1678094902,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:28:22+08:00"}
{"currentTime":1678094903,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:28:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094942492-998299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:29:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094942492-998299\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:29:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:29:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094942492-239442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:29:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094942492-239442\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:29:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:29:02+08:00"}
{"HeartbeatTime":1678094882,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:29:02+08:00","userKey":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678094942493-175936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:29:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678094942493-175936\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:29:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:29:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094942492-998299\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:29:02+08:00"}
{"HeartbeatTime":1678094882,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:29:02+08:00","userKey":84}
{"HeartbeatTime":1678094882,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:29:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094942492-239442\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:29:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678094942493-175936\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:29:02+08:00"}
{"currentTime":1678094962,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:29:22+08:00"}
{"currentTime":1678094963,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:29:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095002481-499335\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:30:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095002481-499335\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:30:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095002481-902725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:30:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095002481-902725\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:30:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:30:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:30:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095002481-790028\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:30:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095002481-790028\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:30:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:30:02+08:00"}
{"HeartbeatTime":1678094942,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:30:02+08:00","userKey":431}
{"HeartbeatTime":1678094942,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:30:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095002481-902725\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:30:02+08:00"}
{"HeartbeatTime":1678094942,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:30:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095002481-499335\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:30:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095002481-790028\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:30:02+08:00"}
{"currentTime":1678095022,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:30:22+08:00"}
{"currentTime":1678095023,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:30:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095062485-922440\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:31:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095062485-922440\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:31:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095062485-555950\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:31:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095062485-555950\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:31:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:31:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095062486-287175\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:31:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095062486-287175\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:31:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:31:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:31:02+08:00"}
{"HeartbeatTime":1678095002,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:31:02+08:00","userKey":407}
{"HeartbeatTime":1678095002,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:31:02+08:00","userKey":84}
{"HeartbeatTime":1678095002,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:31:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095062485-922440\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:31:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095062485-555950\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:31:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095062486-287175\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:31:02+08:00"}
{"currentTime":1678095082,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:31:22+08:00"}
{"currentTime":1678095083,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:31:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095122489-206184\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:32:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095122489-206184\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:32:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:32:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095122489-169862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:32:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095122489-169862\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:32:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:32:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095122489-190576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:32:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095122489-190576\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:32:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:32:02+08:00"}
{"HeartbeatTime":1678095062,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:32:02+08:00","userKey":431}
{"HeartbeatTime":1678095062,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:32:02+08:00","userKey":84}
{"HeartbeatTime":1678095062,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:32:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095122489-206184\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:32:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095122489-169862\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:32:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095122489-190576\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:32:02+08:00"}
{"currentTime":1678095142,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:32:22+08:00"}
{"currentTime":1678095143,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:32:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095182483-151875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:33:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095182483-151875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:33:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:33:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095182482-130871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:33:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095182482-130871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:33:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:33:02+08:00"}
{"HeartbeatTime":1678095122,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:33:02+08:00","userKey":431}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095182483-883648\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:33:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095182483-883648\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:33:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:33:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095182483-151875\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:33:02+08:00"}
{"HeartbeatTime":1678095122,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:33:02+08:00","userKey":407}
{"HeartbeatTime":1678095122,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:33:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095182482-130871\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:33:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095182483-883648\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:33:02+08:00"}
{"currentTime":1678095202,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:33:22+08:00"}
{"currentTime":1678095203,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:33:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095242492-620659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:34:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095242492-620659\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:34:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095242492-973875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:34:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095242492-973875\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:34:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:34:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:34:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095242492-607301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:34:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095242492-607301\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:34:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:34:02+08:00"}
{"HeartbeatTime":1678095182,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:34:02+08:00","userKey":407}
{"HeartbeatTime":1678095182,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:34:02+08:00","userKey":431}
{"HeartbeatTime":1678095182,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:34:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095242492-973875\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:34:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095242492-620659\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:34:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095242492-607301\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:34:02+08:00"}
{"currentTime":1678095262,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:34:22+08:00"}
{"currentTime":1678095263,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:34:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095302483-719323\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:35:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095302483-719323\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:35:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:35:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095302483-799307\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:35:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095302483-799307\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:35:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:35:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095302484-506692\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:35:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095302484-506692\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:35:02+08:00"}
{"HeartbeatTime":1678095242,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:35:02+08:00","userKey":84}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:35:02+08:00"}
{"HeartbeatTime":1678095242,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:35:02+08:00","userKey":431}
{"HeartbeatTime":1678095242,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:35:02+08:00","userKey":407}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095302483-719323\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:35:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095302483-799307\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:35:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095302484-506692\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:35:02+08:00"}
{"currentTime":1678095322,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:35:22+08:00"}
{"currentTime":1678095323,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:35:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095362491-549987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:36:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095362491-549987\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:36:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:36:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095362492-916742\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:36:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095362492-916742\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:36:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:36:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095362491-294786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:36:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095362491-294786\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:36:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:36:02+08:00"}
{"HeartbeatTime":1678095302,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:36:02+08:00","userKey":407}
{"HeartbeatTime":1678095302,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:36:02+08:00","userKey":431}
{"HeartbeatTime":1678095302,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:36:02+08:00","userKey":84}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095362492-916742\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:36:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095362491-294786\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:36:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095362491-549987\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:36:02+08:00"}
{"currentTime":1678095382,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9002"},"time":"2023-03-06T17:36:22+08:00"}
{"currentTime":1678095383,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:36:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095422480-105885\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","time":"2023-03-06T17:37:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095422480-105885\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":84}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:02+08:00"}
{"UserId":84,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095422481-142871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","time":"2023-03-06T17:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095422480-300778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","time":"2023-03-06T17:37:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095422481-142871\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":431}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:02+08:00"}
{"addr":"","data":"{\"seq\":\"1678095422480-300778\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":407}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:02+08:00"}
{"UserId":407,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:02+08:00"}
{"UserId":431,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:02+08:00"}
{"HeartbeatTime":1678095362,"IsLogoff":false,"LoginTime":1678094311,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:02+08:00","userKey":84}
{"HeartbeatTime":1678095362,"IsLogoff":false,"LoginTime":1678094305,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:02+08:00","userKey":407}
{"HeartbeatTime":1678095362,"IsLogoff":false,"LoginTime":1678094326,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:02+08:00","userKey":431}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095422480-105885\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095422480-300778\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:02+08:00"}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095422481-142871\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:37:22+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:37:22+08:00"}
{"currentTime":1678095444,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:37:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:37:26+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.4 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:37:26+08:00"}
{"AppId":0,"UserId":309,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":309,"level":"info","msg":"Login Info","name":"关羽","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.75 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:44514","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095448442-407704\",\"cmd\":\"bind\",\"data\":{\"userID\":309,\"appID\":0,\"token\":\"1678095448\"}}","time":"2023-03-06T17:37:28+08:00"}
{"addr":"","data":"{\"seq\":\"1678095448442-407704\",\"cmd\":\"bind\",\"data\":{\"userID\":309,\"appID\":0,\"token\":\"1678095448\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:28+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678095448,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:28+08:00","userKey":309}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095448442-407704\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:37:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:81","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095458446-990376\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":309}}","time":"2023-03-06T17:37:38+08:00"}
{"addr":"","data":"{\"seq\":\"1678095458446-990376\",\"cmd\":\"heartbeat\",\"data\":{\"userID\":309}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:37:38+08:00"}
{"UserId":309,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/server.go:56","func":"bychat/internal/servers/websocket.Heartbeat","level":"info","msg":"webSocket_request Heartbeat","time":"2023-03-06T17:37:38+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678095448,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:37:38+08:00","userKey":309}
{"cmd":"heartbeat","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095458446-990376\",\"cmd\":\"heartbeat\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:37:38+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.38 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:37:40+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.06 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:37:43+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:76","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:66","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send\u0026{0 309 [::1]:44514     0xc0004be000 0xc000500120 1678095448 1678095458 1678095448}","time":"2023-03-06T17:37:43+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:37:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.26 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:37:46+08:00"}
{"currentTime":1678095504,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:38:24+08:00"}
{"currentTime":1678095564,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:39:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:39:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.23 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:39:59+08:00"}
{"currentTime":1678095624,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:40:24+08:00"}
{"currentTime":1678095684,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:41:24+08:00"}
{"currentTime":1678095744,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:42:24+08:00"}
{"currentTime":1678095804,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:43:24+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:45:42+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:45:42+08:00"}
{"currentTime":1678095944,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:45:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:45:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.87 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:45:45+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:45:49+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.48 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:45:49+08:00"}
{"AppId":0,"UserId":126,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":126,"level":"info","msg":"Login Info","name":"宰予","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.73 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:36562","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678095952319-229163\",\"cmd\":\"bind\",\"data\":{\"userID\":126,\"appID\":0,\"token\":\"1678095952\"}}","time":"2023-03-06T17:45:52+08:00"}
{"addr":"","data":"{\"seq\":\"1678095952319-229163\",\"cmd\":\"bind\",\"data\":{\"userID\":126,\"appID\":0,\"token\":\"1678095952\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:45:52+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678095952,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:45:52+08:00","userKey":126}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678095952319-229163\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:","time":"2023-03-06T17:45:52+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:45:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:45:54+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:45:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.34 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:45:59+08:00"}
{"Addr":"","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:45:59+08:00"}
{"client.Addr":"","client.UserID":126,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T17:45:59+08:00"}
{"currentTime":1678096004,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:46:44+08:00"}
{"currentTime":1678096064,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:47:44+08:00"}
{"currentTime":1678096124,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:48:44+08:00"}
{"currentTime":1678096184,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:49:44+08:00"}
{"currentTime":1678096244,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:50:44+08:00"}
{"currentTime":1678096304,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:51:44+08:00"}
{"currentTime":1678096364,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:52:44+08:00"}
{"currentTime":1678096424,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:53:44+08:00"}
{"currentTime":1678096484,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:54:44+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:55:28+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:55:28+08:00"}
{"currentTime":1678096530,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:55:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:55:33+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.02 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:55:33+08:00"}
{"AppId":0,"UserId":320,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":320,"level":"info","msg":"Login Info","name":"阮籍","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.51 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:50580","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:50580","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096534638-341510\",\"cmd\":\"bind\",\"data\":{\"userID\":320,\"appID\":0,\"token\":\"1678096534\"}}","time":"2023-03-06T17:55:34+08:00"}
{"addr":"[::1]:50580","data":"{\"seq\":\"1678096534638-341510\",\"cmd\":\"bind\",\"data\":{\"userID\":320,\"appID\":0,\"token\":\"1678096534\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:55:34+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096534,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:55:34+08:00","userKey":320}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096534638-341510\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:50580","time":"2023-03-06T17:55:34+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:55:39+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.18 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:55:39+08:00"}
{"Addr":"[::1]:50580","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:55:39+08:00"}
{"client.Addr":"[::1]:50580","client.UserID":320,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T17:55:39+08:00"}
{"currentTime":1678096590,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:56:30+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T17:57:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T17:57:03+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:57:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.53 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:57:04+08:00"}
{"currentTime":1678096625,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:57:05+08:00"}
{"AppId":0,"UserId":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":342,"level":"info","msg":"Login Info","name":"司马敏","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.23 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:46200","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:46200","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096625741-953515\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":0,\"token\":\"1678096625\"}}","time":"2023-03-06T17:57:05+08:00"}
{"addr":"[::1]:46200","data":"{\"seq\":\"1678096625741-953515\",\"cmd\":\"bind\",\"data\":{\"userID\":342,\"appID\":0,\"token\":\"1678096625\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T17:57:05+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096625,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:57:05+08:00","userKey":342}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096625741-953515\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:46200","time":"2023-03-06T17:57:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:57:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T17:57:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:4.42 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T17:57:06+08:00"}
{"Addr":"[::1]:46200","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T17:57:06+08:00"}
{"client.Addr":"[::1]:46200","client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T17:57:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:57:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.16 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:57:08+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:57:36+08:00"}
{"currentTime":1678096685,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:58:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:58:06+08:00"}
{"client.Addr":"[::1]:46200","client.HeartbeatTime":1678096625,"client.LoginTime":1678096625,"client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-06T17:58:06+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096625,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:58:06+08:00","userKey":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:46200","time":"2023-03-06T17:58:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:46200ok:false","time":"2023-03-06T17:58:06+08:00"}
{"client.Addr":"[::1]:46200","client.UserID":342,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-06T17:58:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T17:58:06+08:00","valByte":"[\"172.30.41.217:9002\",\"1678095382\",\"172.30.41.217:9001\",\"1678096685\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"417544954","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T17:58:06+08:00","userID":342}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096625,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T17:58:06+08:00","userKey":342}
{"appID":0,"data":"{\"seq\":\"417544954\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"司马敏\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-06T17:58:06+08:00","userID":342}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:58:36+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T17:58:46+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.31 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T17:58:46+08:00"}
{"currentTime":1678096745,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T17:59:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:59:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T17:59:36+08:00"}
{"currentTime":1678096805,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:00:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:00:06+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T18:00:17+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T18:00:17+08:00"}
{"currentTime":1678096819,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:00:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:00:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:00:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:3.65 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:00:20+08:00"}
{"AppId":0,"UserId":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":450,"level":"info","msg":"Login Info","name":"欧阳修","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.59 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:57040","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:57040","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096821904-916928\",\"cmd\":\"bind\",\"data\":{\"userID\":450,\"appID\":0,\"token\":\"1678096821\"}}","time":"2023-03-06T18:00:21+08:00"}
{"addr":"[::1]:57040","data":"{\"seq\":\"1678096821904-916928\",\"cmd\":\"bind\",\"data\":{\"userID\":450,\"appID\":0,\"token\":\"1678096821\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T18:00:21+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096821,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:00:21+08:00","userKey":450}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096821904-916928\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:57040","time":"2023-03-06T18:00:21+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:00:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.93 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:00:23+08:00"}
{"Addr":"[::1]:57040","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T18:00:23+08:00"}
{"client.Addr":"[::1]:57040","client.UserID":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T18:00:23+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:00:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T18:00:58+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.15 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T18:00:58+08:00"}
{"currentTime":1678096879,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:01:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:01:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:01:50+08:00"}
{"client.Addr":"[::1]:57040","client.HeartbeatTime":1678096821,"client.LoginTime":1678096821,"client.UserID":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-06T18:01:50+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096821,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:01:50+08:00","userKey":450}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:57040","time":"2023-03-06T18:01:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:57040ok:false","time":"2023-03-06T18:01:50+08:00"}
{"client.Addr":"[::1]:57040","client.UserID":450,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-06T18:01:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T18:01:50+08:00","valByte":"[\"172.30.41.217:9001\",\"1678096879\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"370843452","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T18:01:50+08:00","userID":450}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096821,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:01:50+08:00","userKey":450}
{"appID":0,"data":"{\"seq\":\"370843452\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"欧阳修\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-06T18:01:50+08:00","userID":450}
{"currentTime":1678096939,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:02:19+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:02:20+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:02:50+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T18:02:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.18 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T18:02:55+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/redislib/redis_lib.go:35","func":"bychat/lib/redislib.InitRedlisClient","level":"info","msg":"初始化redis:PONG","time":"2023-03-06T18:03:02+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:91","func":"bychat/internal/servers/websocket.StartWebSocket","level":"info","msg":"WebSocket 启动程序成功:172.30.41.217:9001","time":"2023-03-06T18:03:02+08:00"}
{"currentTime":1678096984,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:03:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:03:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.07 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:03:10+08:00"}
{"AppId":0,"UserId":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:19","func":"bychat/internal/servers/websocket.Login","level":"info","msg":"webSocket_request 登录","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/user/user.go:42","func":"bychat/api/v1/user.Login","id":170,"level":"info","msg":"Login Info","name":"颜祖","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:0.81 method:POST statusCode:200 uri:/user/login]","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:99","func":"bychat/internal/servers/websocket.wsPage.func1","level":"info","msg":"升级协议ua:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.57]referer:[]","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/init_acc.go:107","func":"bychat/internal/servers/websocket.wsPage","level":"info","msg":"webSocket 建立连接:[::1]:35126","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:193","func":"bychat/internal/servers/websocket.(*ClientManager).EventRegister","level":"info","msg":"EventRegister 用户建立连接:[::1]:35126","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:84","func":"bychat/internal/servers/websocket.(*Client).read","level":"info","msg":"读取客户端数据 处理:{\"seq\":\"1678096990895-441268\",\"cmd\":\"bind\",\"data\":{\"userID\":170,\"appID\":0,\"token\":\"1678096990\"}}","time":"2023-03-06T18:03:10+08:00"}
{"addr":"[::1]:35126","data":"{\"seq\":\"1678096990895-441268\",\"cmd\":\"bind\",\"data\":{\"userID\":170,\"appID\":0,\"token\":\"1678096990\"}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:42","func":"bychat/internal/servers/websocket.ProcessData","level":"info","msg":"ProcessData Request","time":"2023-03-06T18:03:10+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096990,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:03:10+08:00","userKey":170}
{"cmd":"bind","code":0,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/acc_process.go:92","func":"bychat/internal/servers/websocket.ProcessData","headByte":"{\"seq\":\"1678096990895-441268\",\"cmd\":\"bind\",\"response\":{\"code\":0,\"codeMsg\":\"Success\",\"data\":null}}","level":"info","msg":"acc_response send","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:199","func":"bychat/internal/servers/websocket.(*ClientManager).EvenBindUser","level":"info","msg":"EvenBindUser 用户信息绑定:[::1]:35126","time":"2023-03-06T18:03:10+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/home/home.go:14","func":"bychat/api/v1/home.Index","level":"info","msg":"http_request 聊天首页","time":"2023-03-06T18:03:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:1.98 method:GET statusCode:200 uri:/home/index]","time":"2023-03-06T18:03:13+08:00"}
{"Addr":"[::1]:35126","err":"websocket: close 1001 (going away)","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:79","func":"bychat/internal/servers/websocket.(*Client).read","level":"error","msg":"读取客户端数据 错误","time":"2023-03-06T18:03:13+08:00"}
{"client.Addr":"[::1]:35126","client.UserID":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:69","func":"bychat/internal/servers/websocket.(*Client).read.func2","level":"info","msg":"读取客户端数据 关闭send","time":"2023-03-06T18:03:13+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:03:35+08:00"}
{"currentTime":1678097044,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:04:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:04:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:04:35+08:00"}
{"client.Addr":"[::1]:35126","client.HeartbeatTime":1678096990,"client.LoginTime":1678096990,"client.UserID":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:314","func":"bychat/internal/servers/websocket.ClearTimeoutConnections","level":"info","msg":"心跳时间超时 关闭连接","time":"2023-03-06T18:04:35+08:00"}
{"HeartbeatTime":0,"IsLogoff":false,"LoginTime":1678096990,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:04:35+08:00","userKey":170}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client_manager.go:223","func":"bychat/internal/servers/websocket.(*ClientManager).EventUnregister","level":"info","msg":"EventUnregister 用户断开连接[::1]:35126","time":"2023-03-06T18:04:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:111","func":"bychat/internal/servers/websocket.(*Client).write","level":"info","msg":"Client发送数据 关闭连接:[::1]:35126ok:false","time":"2023-03-06T18:04:35+08:00"}
{"client.Addr":"[::1]:35126","client.UserID":170,"file":"/home/ydlro/go_project/bychat/internal/servers/websocket/client.go:103","func":"bychat/internal/servers/websocket.(*Client).write.func2","level":"info","msg":"Client发送数据 defer","time":"2023-03-06T18:04:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:88","func":"bychat/lib/cache.GetServerNodeAll","key":"acc:hash:server:nodes","level":"info","msg":"GetServerNodeAll","time":"2023-03-06T18:04:35+08:00","valByte":"[\"172.30.41.217:9001\",\"1678097044\"]"}
{"appID":0,"cmd":"exit","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:104","func":"bychat/internal/servers/websocket.SendUserMessageAll","level":"info","message":"用户已经离开~","msg":"SendUserMessageAll","msgID":"428745112","roomID":0,"servers":[{"ip":"172.30.41.217","port":"9001"}],"time":"2023-03-06T18:04:35+08:00","userID":170}
{"HeartbeatTime":0,"IsLogoff":true,"LoginTime":1678096990,"file":"/home/ydlro/go_project/bychat/lib/cache/user_cache.go:67","func":"bychat/lib/cache.GetUserOnlineInfo","level":"info","msg":"获取用户在线数据","time":"2023-03-06T18:04:35+08:00","userKey":170}
{"appID":0,"data":"{\"seq\":\"428745112\",\"cmd\":\"exit\",\"response\":{\"code\":0,\"codeMsg\":\"Ok\",\"data\":{\"to\":\"\",\"type\":\"text\",\"msg\":\"用户已经离开~\",\"from\":\"颜祖\"}}}","file":"/home/ydlro/go_project/bychat/internal/servers/websocket/user_srv.go:146","func":"bychat/internal/servers/websocket.AllSendMessages","level":"info","msg":"AllSendMessages","roomID":0,"time":"2023-03-06T18:04:35+08:00","userID":170}
{"currentTime":1678097104,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:05:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:05:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:05:35+08:00"}
{"currentTime":1678097164,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:06:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:06:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:06:35+08:00"}
{"file":"/home/ydlro/go_project/bychat/api/v1/systems/system.go:16","func":"bychat/api/v1/systems.Status","level":"info","msg":"http_request 查询系统状态","time":"2023-03-06T18:06:59+08:00"}
{"file":"/home/ydlro/go_project/bychat/cmd/main.go:71","func":"main.LoggerToFile.func1","level":"info","msg":"map[clientIp:::1 cost:2.92 method:GET statusCode:200 uri:/system/state]","time":"2023-03-06T18:06:59+08:00"}
{"currentTime":1678097224,"file":"/home/ydlro/go_project/bychat/internal/servers/task/server_node_task.go:37","func":"bychat/internal/servers/task.serverNode","level":"info","msg":"定时任务，服务注册","param":"","server":{"ip":"172.30.41.217","port":"9001"},"time":"2023-03-06T18:07:04+08:00"}
{"err":"EOF","file":"/home/ydlro/go_project/bychat/lib/cache/server_cache.go:37","func":"bychat/lib/cache.SetServerNodeInfo","key":"acc:hash:server:nodes","level":"info","msg":"SetServerNodeInfo","number":0,"time":"2023-03-06T18:07:04+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:07:05+08:00"}
{"file":"/home/ydlro/go_project/bychat/internal/servers/task/clean_connection _task.go:37","func":"bychat/internal/servers/task.cleanConnection","level":"info","msg":"定时任务，清理超时连接","param":"","time":"2023-03-06T18:07:35+08:00"}
